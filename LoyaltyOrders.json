{"flowContents":{"identifier":"70b1033c-0199-1000-cfe8-f4a9294041cc","instanceIdentifier":"9efd701c-0c25-3b1e-edc8-c82b75cced35","name":"LoyaltyOrders","comments":"","position":{"x":-2736.0,"y":504.0},"processGroups":[{"identifier":"70b103f9-0199-1000-4d57-877d6cdda8b0","instanceIdentifier":"609c9b67-de6b-3a25-af2f-edfdbccc8168","name":"LoyaltyOrders-PaymentService","comments":"","position":{"x":-96.0,"y":56.0},"processGroups":[{"identifier":"70b10464-0199-1000-2882-cc8b887a4b01","instanceIdentifier":"bbb96969-fd8e-30c7-118d-d9f6465d578a","name":"code-verify","comments":"","position":{"x":264.0,"y":120.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10470-0199-1000-1f0d-03a06cb014a5","instanceIdentifier":"42cb540c-a6db-39f9-b747-275522b4c1e4","name":"/api/order/update","comments":"","position":{"x":1752.0,"y":584.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1046b-0199-1000-8665-df7777402dad","instanceIdentifier":"a394d11d-3c6b-33e1-91e5-42aabac45eca","name":"EvaluateJsonPath","comments":"","position":{"x":376.0,"y":632.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","payment_status":"$.payment_status","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_status":{"name":"payment_status","displayName":"payment_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1046e-0199-1000-d32a-f9f804d15742","instanceIdentifier":"a638e5de-204f-3714-9f7b-8e4a6ae20292","name":"UpdateAttribute","comments":"","position":{"x":1704.0,"y":304.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"confirmation_status":"confirmation_verified","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","action":"${expiration_time:toDate(\"yyyy-MM-dd HH:mm:ss\", \"Europe/Moscow\"):toInstant():toMicros():le(${now():toInstant():toMicros()}):ifElse('confirmation_expired', 'confirmation_pending')}","Stateful Variables Initial Value":null,"attemptsExceeded":"${max_attempts:le(${attempts:plus(1)})}","attempts":"${attempts:plus(1)}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"action":{"name":"action","displayName":"action","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attemptsExceeded":{"name":"attemptsExceeded","displayName":"attemptsExceeded","identifiesControllerService":false,"sensitive":false,"dynamic":true},"attempts":{"name":"attempts","displayName":"attempts","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1046c-0199-1000-774b-143de0323069","instanceIdentifier":"b0aebf95-1211-3dad-5ac8-47aae79179cd","name":"/api/payment/update","comments":"","position":{"x":-248.0,"y":608.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1046a-0199-1000-78e0-c332b5cde8c6","instanceIdentifier":"a6b297cc-9881-3293-33be-6e6deb67b51c","name":"/async/confirm/update","comments":"","position":{"x":384.0,"y":304.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/async/confirm/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10468-0199-1000-a1e7-0eda5626148e","instanceIdentifier":"3bb24488-81f3-3099-3280-873ed69df40d","name":"GenerateFlowFile","comments":"","position":{"x":-248.0,"y":-192.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10473-0199-1000-4237-8f7317571aa0","instanceIdentifier":"38be37a2-4604-3359-263f-2b3c6057f067","name":"ReplaceText","comments":"","position":{"x":-248.0,"y":304.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"payment_short_id\":\"${payment_short_id}\",\n    \"payment_status\":\"${confirmation_status}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10466-0199-1000-e6ba-52692169f2ef","instanceIdentifier":"59fd1f42-1b65-3684-f14f-e198aeb03391","name":"SplitJson","comments":"","position":{"x":1048.0,"y":24.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.confirmations.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10467-0199-1000-5197-29042c2de9b8","instanceIdentifier":"0cdcef7e-efd8-3638-7675-62e720e4e433","name":"ReplaceText","comments":"","position":{"x":1048.0,"y":304.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"confirmation_short_id\":\"${confirmation_short_id}\",\n    \"action\":\"${confirmation_status}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1046f-0199-1000-b7a1-0f4c50379cab","instanceIdentifier":"9004fe1b-8aa6-3404-0e4e-fe17d8b9b5a9","name":"EvaluateJsonPath","comments":"","position":{"x":1720.0,"y":24.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","send_code":"$.send_code","Max String Length":"20 MB","confirmation_short_id":"$.confirmation_short_id","Return Type":"auto-detect","max_attempts":"$.max_attempts","payment_short_id":"$.payment_short_id","Null Value Representation":"empty string","entered_code":"$.entered_code","Path Not Found Behavior":"ignore","attempts":"$.attempts"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"send_code":{"name":"send_code","displayName":"send_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_short_id":{"name":"confirmation_short_id","displayName":"confirmation_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"max_attempts":{"name":"max_attempts","displayName":"max_attempts","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_short_id":{"name":"payment_short_id","displayName":"payment_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"entered_code":{"name":"entered_code","displayName":"entered_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attempts":{"name":"attempts","displayName":"attempts","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10469-0199-1000-14b2-c732861e0503","instanceIdentifier":"6619fa85-b2d1-3412-45a2-1dae13377989","name":"UpdateAttribute","comments":"","position":{"x":-248.0,"y":24.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"confirmation_status":"confirmation_entered","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","port":"8089","host":"http://10.160.20.73","source":"payment-service","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"port":{"name":"port","displayName":"port","identifiesControllerService":false,"sensitive":false,"dynamic":true},"host":{"name":"host","displayName":"host","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10472-0199-1000-4458-cd70529893d9","instanceIdentifier":"200ae1c7-6d59-3002-8767-3f8b330295e7","name":"/async/confirm/list-new","comments":"","position":{"x":384.0,"y":24.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/async/confirm/list-new?confirmation_status=${confirmation_status}","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10465-0199-1000-1601-3128eb0b3012","instanceIdentifier":"0fde1179-1a86-355d-03d0-41a551e05fc6","name":"UpdateAttribute","comments":"","position":{"x":1256.0,"y":472.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"confirmation_status":"${entered_code:equals(${send_code}):ifElse('confirmation_verified', 'confirmation_pending')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","action":"${expiration_time:toDate(\"yyyy-MM-dd HH:mm:ss\", \"Europe/Moscow\"):toInstant():toMicros():le(${now():toInstant():toMicros()}):ifElse('confirmation_expired', 'confirmation_pending')}","Stateful Variables Initial Value":null,"attemptsExceeded":"${max_attempts:le(${attempts:plus(1)})}","attempts":"${attempts:plus(1)}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"action":{"name":"action","displayName":"action","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attemptsExceeded":{"name":"attemptsExceeded","displayName":"attemptsExceeded","identifiesControllerService":false,"sensitive":false,"dynamic":true},"attempts":{"name":"attempts","displayName":"attempts","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10471-0199-1000-f6f3-6a83fe0b557e","instanceIdentifier":"6129374c-d2ea-3846-fd14-08b4393972e0","name":"ReplaceText","comments":"","position":{"x":1056.0,"y":600.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\": \"${order_short_id}\",\n  \"order_status\": \"${payment_status}\",\n  \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1046d-0199-1000-533f-17d0f8fd1757","instanceIdentifier":"f95682ad-6ae1-3e79-c91b-9444fc64ac39","name":"RouteOnAttribute","comments":"","position":{"x":2424.0,"y":208.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Routing Strategy":"Route to Property name","isCodeEntered":"${entered_code:isEmpty():not()}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"isCodeEntered":{"name":"isCodeEntered","displayName":"isCodeEntered","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b10483-0199-1000-0b9b-9f252c5838ca","instanceIdentifier":"d30cd7db-02b3-337c-c1b0-30f78ca2a982","name":"","source":{"id":"70b10472-0199-1000-4458-cd70529893d9","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"/async/confirm/list-new","comments":"","instanceIdentifier":"200ae1c7-6d59-3002-8767-3f8b330295e7"},"destination":{"id":"70b10466-0199-1000-e6ba-52692169f2ef","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"SplitJson","comments":"","instanceIdentifier":"59fd1f42-1b65-3684-f14f-e198aeb03391"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10478-0199-1000-9865-55e8b7fa05ce","instanceIdentifier":"270ad9e0-efe3-32ed-0c47-a836ea904f95","name":"","source":{"id":"70b10473-0199-1000-4237-8f7317571aa0","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"ReplaceText","comments":"","instanceIdentifier":"38be37a2-4604-3359-263f-2b3c6057f067"},"destination":{"id":"70b1046c-0199-1000-774b-143de0323069","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"/api/payment/update","comments":"","instanceIdentifier":"b0aebf95-1211-3dad-5ac8-47aae79179cd"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10479-0199-1000-ecb3-54d9fe404cf6","instanceIdentifier":"075d56e5-db69-3c11-76ed-076b4b5b4852","name":"","source":{"id":"70b1046d-0199-1000-533f-17d0f8fd1757","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f95682ad-6ae1-3e79-c91b-9444fc64ac39"},"destination":{"id":"70b1046e-0199-1000-d32a-f9f804d15742","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"UpdateAttribute","comments":"","instanceIdentifier":"a638e5de-204f-3714-9f7b-8e4a6ae20292"},"labelIndex":0,"zIndex":0,"selectedRelationships":["isCodeEntered"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1047b-0199-1000-2399-04ea59964e88","instanceIdentifier":"5072b7b7-832a-3404-5cd5-10533299f080","name":"","source":{"id":"70b10465-0199-1000-1601-3128eb0b3012","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"UpdateAttribute","comments":"","instanceIdentifier":"0fde1179-1a86-355d-03d0-41a551e05fc6"},"destination":{"id":"70b10467-0199-1000-5197-29042c2de9b8","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"ReplaceText","comments":"","instanceIdentifier":"0cdcef7e-efd8-3638-7675-62e720e4e433"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10484-0199-1000-a5f4-533b69fa604e","instanceIdentifier":"d6f39d27-f861-3235-4c8c-a43dbf50d791","name":"","source":{"id":"70b1046d-0199-1000-533f-17d0f8fd1757","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f95682ad-6ae1-3e79-c91b-9444fc64ac39"},"destination":{"id":"70b10474-0199-1000-a58b-74ca68df4b2e","type":"FUNNEL","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"Funnel","comments":"","instanceIdentifier":"7dfe7a4c-f5b0-3c31-19d1-8c01b729f8c0"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1047c-0199-1000-4aa0-12aca1d16ebb","instanceIdentifier":"421d1863-1a32-357b-5356-cc17e3cb5386","name":"","source":{"id":"70b1046c-0199-1000-774b-143de0323069","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"/api/payment/update","comments":"","instanceIdentifier":"b0aebf95-1211-3dad-5ac8-47aae79179cd"},"destination":{"id":"70b1046b-0199-1000-8665-df7777402dad","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"a394d11d-3c6b-33e1-91e5-42aabac45eca"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1047e-0199-1000-dbe8-d0894b810875","instanceIdentifier":"534765ce-0540-346d-5341-a5cca9ee441a","name":"","source":{"id":"70b10467-0199-1000-5197-29042c2de9b8","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"ReplaceText","comments":"","instanceIdentifier":"0cdcef7e-efd8-3638-7675-62e720e4e433"},"destination":{"id":"70b1046a-0199-1000-78e0-c332b5cde8c6","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"/async/confirm/update","comments":"","instanceIdentifier":"a6b297cc-9881-3293-33be-6e6deb67b51c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10476-0199-1000-c210-68bf489dd82d","instanceIdentifier":"c2bf3c08-019c-372a-8d33-ce0cd653deb3","name":"","source":{"id":"70b1046f-0199-1000-b7a1-0f4c50379cab","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"9004fe1b-8aa6-3404-0e4e-fe17d8b9b5a9"},"destination":{"id":"70b1046d-0199-1000-533f-17d0f8fd1757","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"RouteOnAttribute","comments":"","instanceIdentifier":"f95682ad-6ae1-3e79-c91b-9444fc64ac39"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10480-0199-1000-2ce6-422b88729473","instanceIdentifier":"83088d32-fd29-30c9-d991-007da0bb8458","name":"","source":{"id":"70b10468-0199-1000-a1e7-0eda5626148e","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"GenerateFlowFile","comments":"","instanceIdentifier":"3bb24488-81f3-3099-3280-873ed69df40d"},"destination":{"id":"70b10469-0199-1000-14b2-c732861e0503","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"UpdateAttribute","comments":"","instanceIdentifier":"6619fa85-b2d1-3412-45a2-1dae13377989"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1047f-0199-1000-2722-cfa884a829dc","instanceIdentifier":"2413ed8f-632d-3343-31ed-fd4378a3227e","name":"","source":{"id":"70b10471-0199-1000-f6f3-6a83fe0b557e","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"ReplaceText","comments":"","instanceIdentifier":"6129374c-d2ea-3846-fd14-08b4393972e0"},"destination":{"id":"70b10470-0199-1000-1f0d-03a06cb014a5","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"/api/order/update","comments":"","instanceIdentifier":"42cb540c-a6db-39f9-b747-275522b4c1e4"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10481-0199-1000-bb29-82a63feb82af","instanceIdentifier":"f3077c3e-ea5f-34d6-9281-406717dcf221","name":"","source":{"id":"70b10466-0199-1000-e6ba-52692169f2ef","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"SplitJson","comments":"","instanceIdentifier":"59fd1f42-1b65-3684-f14f-e198aeb03391"},"destination":{"id":"70b1046f-0199-1000-b7a1-0f4c50379cab","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"9004fe1b-8aa6-3404-0e4e-fe17d8b9b5a9"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1047d-0199-1000-af7e-9214588174fc","instanceIdentifier":"022dd2de-9729-3d5e-bf10-c368d88661d9","name":"","source":{"id":"70b1046e-0199-1000-d32a-f9f804d15742","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"UpdateAttribute","comments":"","instanceIdentifier":"a638e5de-204f-3714-9f7b-8e4a6ae20292"},"destination":{"id":"70b10467-0199-1000-5197-29042c2de9b8","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"ReplaceText","comments":"","instanceIdentifier":"0cdcef7e-efd8-3638-7675-62e720e4e433"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10477-0199-1000-feb2-f10312e3be03","instanceIdentifier":"ef5981c9-28ea-307e-cab5-e5e3db2bc29d","name":"","source":{"id":"70b1046a-0199-1000-78e0-c332b5cde8c6","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"/async/confirm/update","comments":"","instanceIdentifier":"a6b297cc-9881-3293-33be-6e6deb67b51c"},"destination":{"id":"70b10473-0199-1000-4237-8f7317571aa0","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"ReplaceText","comments":"","instanceIdentifier":"38be37a2-4604-3359-263f-2b3c6057f067"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b1047a-0199-1000-0785-934dc9bec0a5","instanceIdentifier":"16c1c630-fc97-37c1-dd2d-644b53f45c72","name":"","source":{"id":"70b10469-0199-1000-14b2-c732861e0503","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"UpdateAttribute","comments":"","instanceIdentifier":"6619fa85-b2d1-3412-45a2-1dae13377989"},"destination":{"id":"70b10472-0199-1000-4458-cd70529893d9","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"/async/confirm/list-new","comments":"","instanceIdentifier":"200ae1c7-6d59-3002-8767-3f8b330295e7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"},{"identifier":"70b10482-0199-1000-4067-4672d765cccb","instanceIdentifier":"5150774e-9485-3814-55ef-a779e746acd5","name":"","source":{"id":"70b1046b-0199-1000-8665-df7777402dad","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"a394d11d-3c6b-33e1-91e5-42aabac45eca"},"destination":{"id":"70b10471-0199-1000-f6f3-6a83fe0b557e","type":"PROCESSOR","groupId":"70b10464-0199-1000-2882-cc8b887a4b01","name":"ReplaceText","comments":"","instanceIdentifier":"6129374c-d2ea-3846-fd14-08b4393972e0"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"}],"labels":[{"identifier":"70b10475-0199-1000-41e1-f7dcb9310942","instanceIdentifier":"7759d8da-7b5e-3b79-c076-8a323cccaa2d","position":{"x":768.0,"y":528.0},"label":"    ","zIndex":0,"width":256.0,"height":32.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"}],"funnels":[{"identifier":"70b10474-0199-1000-a58b-74ca68df4b2e","instanceIdentifier":"7dfe7a4c-f5b0-3c31-19d1-8c01b729f8c0","position":{"x":2576.0,"y":520.0},"componentType":"FUNNEL","groupIdentifier":"70b10464-0199-1000-2882-cc8b887a4b01"}],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b103f9-0199-1000-4d57-877d6cdda8b0"},{"identifier":"70b103fa-0199-1000-3811-8877301b68a0","instanceIdentifier":"b4dde93d-0f4e-3726-a226-14980a2234c9","name":"set-expired","comments":"","position":{"x":-592.0,"y":128.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10400-0199-1000-4a51-306e1eeac599","instanceIdentifier":"2d9d17e5-f146-3153-9cd8-cacac2581281","name":"UpdateAttribute","comments":"","position":{"x":1696.0,"y":312.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","action":"${expiration_time:toDate(\"yyyy-MM-dd HH:mm:ss\", \"Europe/Moscow\"):toInstant():toMicros():le(${now():toInstant():toMicros()}):ifElse('confirmation_expired', 'confirmation_send')}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"action":{"name":"action","displayName":"action","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b103ff-0199-1000-a734-db3624a067c0","instanceIdentifier":"bd997a9f-1c43-3d13-c9ae-4d164ddf21e4","name":"SplitJson","comments":"","position":{"x":1032.0,"y":8.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.confirmations.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b103fd-0199-1000-9a9b-edc12e6d9df2","instanceIdentifier":"93de6e57-9a05-30b3-450e-b5b38ddd1bf2","name":"ReplaceText","comments":"","position":{"x":1024.0,"y":312.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"confirmation_short_id\":\"${confirmation_short_id}\",\n    \"action\":\"${action}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b10402-0199-1000-6291-a1c20190b273","instanceIdentifier":"8ec5ebcd-60df-302f-ef58-982c898287f7","name":"InvokeHTTP","comments":"","position":{"x":360.0,"y":304.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/payment/async/confirm/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b10401-0199-1000-a1fa-2a9354f7b21e","instanceIdentifier":"ad0dff00-e50a-3921-8d19-ef6a01f7f205","name":"InvokeHTTP","comments":"","position":{"x":368.0,"y":8.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/payment/async/confirm/list-new?confirmation_status=${confirmation_status}","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b103fe-0199-1000-5b4f-a6efef5d0e86","instanceIdentifier":"cbbe9d48-9b88-3d5b-ad4d-5165be2373be","name":"GenerateFlowFile","comments":"","position":{"x":-248.0,"y":-192.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b103fb-0199-1000-6231-6c1dd4c4e4fc","instanceIdentifier":"47f48520-69ad-3fee-c11e-604e5f64cf3c","name":"EvaluateJsonPath","comments":"","position":{"x":1696.0,"y":16.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","confirmation_short_id":"$.confirmation_short_id","Return Type":"auto-detect","expiration_time":"$.expiration_time","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_short_id":{"name":"confirmation_short_id","displayName":"confirmation_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"expiration_time":{"name":"expiration_time","displayName":"expiration_time","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b103fc-0199-1000-ebb2-4dd767bdb5f7","instanceIdentifier":"07575256-55dc-3b04-5dcf-86a601977683","name":"UpdateAttribute","comments":"","position":{"x":-247.5000226478196,"y":13.610770869522412},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"confirmation_status":"confirmation_send","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","source":"payment-service","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b10408-0199-1000-0ace-dcc5b9c5e36d","instanceIdentifier":"750e3490-e46a-3ad0-3ca0-85a2b7b5b2b3","name":"","source":{"id":"70b10401-0199-1000-a1fa-2a9354f7b21e","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"InvokeHTTP","comments":"","instanceIdentifier":"ad0dff00-e50a-3921-8d19-ef6a01f7f205"},"destination":{"id":"70b103ff-0199-1000-a734-db3624a067c0","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"SplitJson","comments":"","instanceIdentifier":"bd997a9f-1c43-3d13-c9ae-4d164ddf21e4"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b10405-0199-1000-8430-e03eca9f77b9","instanceIdentifier":"7854b5cd-668b-3623-4cf7-652ab419e837","name":"","source":{"id":"70b103fd-0199-1000-9a9b-edc12e6d9df2","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"ReplaceText","comments":"","instanceIdentifier":"93de6e57-9a05-30b3-450e-b5b38ddd1bf2"},"destination":{"id":"70b10402-0199-1000-6291-a1c20190b273","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"InvokeHTTP","comments":"","instanceIdentifier":"8ec5ebcd-60df-302f-ef58-982c898287f7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b10409-0199-1000-0ce6-da1ac324e7ca","instanceIdentifier":"832f876a-1c01-33b5-194a-87f7d8bb1464","name":"","source":{"id":"70b10400-0199-1000-4a51-306e1eeac599","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"UpdateAttribute","comments":"","instanceIdentifier":"2d9d17e5-f146-3153-9cd8-cacac2581281"},"destination":{"id":"70b103fd-0199-1000-9a9b-edc12e6d9df2","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"ReplaceText","comments":"","instanceIdentifier":"93de6e57-9a05-30b3-450e-b5b38ddd1bf2"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b10406-0199-1000-a396-cdf0d6c6cd03","instanceIdentifier":"5e120f37-88e3-3f9e-1d2a-fac37f3f6b32","name":"","source":{"id":"70b103fc-0199-1000-ebb2-4dd767bdb5f7","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"UpdateAttribute","comments":"","instanceIdentifier":"07575256-55dc-3b04-5dcf-86a601977683"},"destination":{"id":"70b10401-0199-1000-a1fa-2a9354f7b21e","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"InvokeHTTP","comments":"","instanceIdentifier":"ad0dff00-e50a-3921-8d19-ef6a01f7f205"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b10403-0199-1000-3857-e635506ac90e","instanceIdentifier":"31841468-9a31-375e-efc4-c0a8eac13eb6","name":"","source":{"id":"70b103fe-0199-1000-5b4f-a6efef5d0e86","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"GenerateFlowFile","comments":"","instanceIdentifier":"cbbe9d48-9b88-3d5b-ad4d-5165be2373be"},"destination":{"id":"70b103fc-0199-1000-ebb2-4dd767bdb5f7","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"UpdateAttribute","comments":"","instanceIdentifier":"07575256-55dc-3b04-5dcf-86a601977683"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b10407-0199-1000-970c-908a9cbbdf54","instanceIdentifier":"1de92eaa-eca9-3558-511b-f331ebb9c26c","name":"","source":{"id":"70b103ff-0199-1000-a734-db3624a067c0","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"SplitJson","comments":"","instanceIdentifier":"bd997a9f-1c43-3d13-c9ae-4d164ddf21e4"},"destination":{"id":"70b103fb-0199-1000-6231-6c1dd4c4e4fc","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"47f48520-69ad-3fee-c11e-604e5f64cf3c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"},{"identifier":"70b10404-0199-1000-b611-178bb0f353c1","instanceIdentifier":"a63e7924-f704-3322-d6e9-591716322d9b","name":"","source":{"id":"70b103fb-0199-1000-6231-6c1dd4c4e4fc","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"47f48520-69ad-3fee-c11e-604e5f64cf3c"},"destination":{"id":"70b10400-0199-1000-4a51-306e1eeac599","type":"PROCESSOR","groupId":"70b103fa-0199-1000-3811-8877301b68a0","name":"UpdateAttribute","comments":"","instanceIdentifier":"2d9d17e5-f146-3153-9cd8-cacac2581281"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103fa-0199-1000-3811-8877301b68a0"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b103f9-0199-1000-4d57-877d6cdda8b0"},{"identifier":"70b10485-0199-1000-ce81-fc7e517bab67","instanceIdentifier":"bd40a77a-1af6-3269-dfd6-43201e996b05","name":"burn-bonuses","comments":"","position":{"x":264.0,"y":376.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10492-0199-1000-8076-80f1685437cc","instanceIdentifier":"0bac4e80-4d90-3e57-8eb8-9cc53dba15da","name":"ReplaceText","comments":"","position":{"x":1024.0,"y":928.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\": \"${order_short_id}\",\n  \"order_status\": \"${new_status}\",\n  \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10493-0199-1000-3bb3-a10481f1a528","instanceIdentifier":"1aba9909-e3b3-369b-dcc3-2af2b10b6c53","name":"/api/payment/update","comments":"","position":{"x":1024.0,"y":672.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1048f-0199-1000-05a0-706e3905187e","instanceIdentifier":"efd85481-04e7-320a-0c35-c76b64a2395a","name":"ReplaceText","comments":"","position":{"x":1024.0,"y":1472.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"payment_short_id\":\"${payment_short_id}\",\n    \"order_short_id\":\"${order_short_id}\",\n    \"status_code\":\"${new_status}\",\n    \"status_name\":\"${new_status}\",\n    \"additional_info\":\"${new_status}\",\n    \"commentary\":\"${new_status}\",\n    \"status_created_at\":\"${status_created_at}\",\n    \"status_created_timezone\":\"${status_created_timezone}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10494-0199-1000-5983-216f2caf5c07","instanceIdentifier":"5dab3de9-cc49-36f5-ebd1-eba0728b40b2","name":"UpdateAttribute","comments":"","position":{"x":-904.0,"y":1024.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"tag_params":"{\"service\":\" \", \"store_code\":\"2161\", \"store_name\":\"${store_name}\", \"store_address\":\"${store_address}\"}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","tag":"${order_short_id:prepend('S')}","Stateful Variables Initial Value":null},"propertyDescriptors":{"tag_params":{"name":"tag_params","displayName":"tag_params","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"tag":{"name":"tag","displayName":"tag","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10495-0199-1000-a736-13d954abb5e9","instanceIdentifier":"62e6421b-4db6-33f7-ed73-9f132c542537","name":"/api/payment/status/add","comments":"","position":{"x":-240.0,"y":1472.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/status/add","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10499-0199-1000-c30b-c0e1cd0c58d5","instanceIdentifier":"7839ada7-57b2-37a6-b99d-a699463bda43","name":"/api/order/search","comments":"","position":{"x":-904.0,"y":552.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/search","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10498-0199-1000-55fa-79bbb32bc1d9","instanceIdentifier":"ce17cc22-db85-3f20-9813-67351ff59c30","name":"ReplaceText","comments":"","position":{"x":-904.0,"y":288.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\": \"${order_short_id}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1049c-0199-1000-e891-37524accbd4b","instanceIdentifier":"be0d7a29-4d7b-3c25-2873-840b964e0fcf","name":"GenerateFlowFile","comments":"","position":{"x":-240.0,"y":-520.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1049e-0199-1000-45a8-28a2c327d1d5","instanceIdentifier":"868c4bf4-c647-3445-7f65-86052f3c6b28","name":"UpdateAttribute","comments":"","position":{"x":1024.0,"y":336.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","gift_id":"38942","order_num":"${order_short_id}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"gift_id":{"name":"gift_id","displayName":"gift_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_num":{"name":"order_num","displayName":"order_num","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1049a-0199-1000-55f4-9b30c3d6e85e","instanceIdentifier":"bdf72faf-03bb-3289-d11d-36e5213699e5","name":"EvaluateJsonPath","comments":"","position":{"x":1024.0,"y":16.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","amount":"$.amount","client_phone":"$.client_phone","Max String Length":"20 MB","Return Type":"auto-detect","payment_short_id":"$.payment_short_id","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"amount":{"name":"amount","displayName":"amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_short_id":{"name":"payment_short_id","displayName":"payment_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10496-0199-1000-cb9e-26c325ce48bc","instanceIdentifier":"5a9e13a4-cc02-3f4c-4a7c-d04fe818d995","name":"api.sailplay.ru - /gifts/purchases/new","comments":"","position":{"x":392.0,"y":336.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","post:form:gift_id":"${gift_id}","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"false","HTTP URL":"https://api.sailplay.ru/api/v2/gifts/purchases/new/","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","post:form:order_num":"${order_num}","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","post:form:phone":"${client_phone}","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"post:form:token":"${sp_token}","Response Cache Size":"10MB","Response Body Ignored":"false","post:form:store_department_id":"${store_department_id}"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"post:form:gift_id":{"name":"post:form:gift_id","displayName":"post:form:gift_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:order_num":{"name":"post:form:order_num","displayName":"post:form:order_num","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:phone":{"name":"post:form:phone","displayName":"post:form:phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:token":{"name":"post:form:token","displayName":"post:form:token","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:store_department_id":{"name":"post:form:store_department_id","displayName":"post:form:store_department_id","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1049b-0199-1000-f6fe-581617f8dae0","instanceIdentifier":"953c0af4-1570-3306-0d7d-9946ed88df45","name":"ReplaceText","comments":"","position":{"x":392.0,"y":1176.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\": \"${order_short_id}\",\n  \"status_code\": \"${new_status}\",\n  \"status_name\":\"${new_status}\",\n  \"source\":\"${source}\",\n  \"additional_info\":\"${new_status}\",\n  \"commentary\": \"${new_status}\",\n  \"status_created_at\":\"${status_created_at}\",\n  \"status_created_timezone\":\"${status_created_timezone}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1048e-0199-1000-7270-6d69fbaa5dc1","instanceIdentifier":"782c9eee-0d27-39c0-30e7-ec1e9e488fe7","name":"/api/payment/list-new","comments":"","position":{"x":-240.0,"y":16.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/payment/list-new?payment_status=${payment_status}","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10491-0199-1000-ea01-930a75fa5446","instanceIdentifier":"716c6691-ec88-3234-078b-f533dd5b589c","name":"EvaluateJsonPath","comments":"","position":{"x":-904.0,"y":800.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"store_code":"$.store_code","Destination":"flowfile-attribute","contact_phone":"$.contact_phone","Max String Length":"20 MB","Return Type":"auto-detect","store_name":"$.store_name","store_address":"$.store_address","Null Value Representation":"empty string","commentary":"$.commentary","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"store_code":{"name":"store_code","displayName":"store_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"contact_phone":{"name":"contact_phone","displayName":"contact_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"store_name":{"name":"store_name","displayName":"store_name","identifiesControllerService":false,"sensitive":false,"dynamic":true},"store_address":{"name":"store_address","displayName":"store_address","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"commentary":{"name":"commentary","displayName":"commentary","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10489-0199-1000-8999-675f0180193c","instanceIdentifier":"abe7dbaa-fa91-33f5-8941-75538ce03f3a","name":"api.sailplay.ru - /users/tags/add/","comments":"","position":{"x":-904.0,"y":1312.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"post:form:tags":"${tag}","Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"false","HTTP URL":"https://api.sailplay.ru/api/v2/users/tags/add/","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","post:form:phone":"${client_phone}","Request Username":null,"Request Content-Type":"${mime.type}","post:form:params":"${params}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"post:form:token":"${sp_token}","Response Cache Size":"10MB","Response Body Ignored":"false","post:form:store_department_id":"${store_department_id}"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"post:form:tags":{"name":"post:form:tags","displayName":"post:form:tags","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:phone":{"name":"post:form:phone","displayName":"post:form:phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:params":{"name":"post:form:params","displayName":"post:form:params","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:token":{"name":"post:form:token","displayName":"post:form:token","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:store_department_id":{"name":"post:form:store_department_id","displayName":"post:form:store_department_id","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1049d-0199-1000-7d3a-11d2c1ad5179","instanceIdentifier":"5f6a2b59-237f-38db-3f6c-adf3bfa11032","name":"ReplaceText","comments":"","position":{"x":-240.0,"y":672.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"payment_short_id\":\"${payment_short_id}\",\n    \"payment_status\":\"${new_status}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10487-0199-1000-2e8e-552ac1d53975","instanceIdentifier":"8104e109-1469-30d7-bcb1-bf3b5bdf484c","name":"/api/order/status/add","comments":"","position":{"x":1024.0,"y":1176.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/status/add","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10490-0199-1000-dbc9-b818ba227413","instanceIdentifier":"7e811696-c0dd-3747-39f2-72edefa50fca","name":"UpdateAttribute","comments":"","position":{"x":-240.0,"y":-264.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"item":"Beauty Room","Delete Attributes Expression":null,"sp_token":"<sp_token>","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","port":"8089","store_department_id":"<store_department_id>","payment_status":"confirmation_verified","host":"http://10.160.20.73","new_status":"payment_applied","source":"payment-service","Stateful Variables Initial Value":null},"propertyDescriptors":{"item":{"name":"item","displayName":"item","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sp_token":{"name":"sp_token","displayName":"sp_token","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"port":{"name":"port","displayName":"port","identifiesControllerService":false,"sensitive":false,"dynamic":true},"store_department_id":{"name":"store_department_id","displayName":"store_department_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_status":{"name":"payment_status","displayName":"payment_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"host":{"name":"host","displayName":"host","identifiesControllerService":false,"sensitive":false,"dynamic":true},"new_status":{"name":"new_status","displayName":"new_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10486-0199-1000-a2fa-2f64117cd54c","instanceIdentifier":"eb1539e3-d857-3eaa-d7e2-0b35a5252123","name":"EvaluateJsonPath","comments":"","position":{"x":-240.0,"y":336.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","status_code":"$.status_code","Max String Length":"20 MB","Return Type":"auto-detect","points_delta":"$.points_delta","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_code":{"name":"status_code","displayName":"status_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"points_delta":{"name":"points_delta","displayName":"points_delta","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1048b-0199-1000-8c26-3ea95959fa12","instanceIdentifier":"6689f144-7ab0-386e-5cca-b8e958b38b04","name":"UpdateAttribute","comments":"","position":{"x":-904.0,"y":1576.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"message_text":",  ${order_short_id} !   ${commentary}    Ile De Beaute   ${store_name},  : ${store_address}.   ${contact_phone} .    3000 .","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"message_text":{"name":"message_text","displayName":"message_text","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10488-0199-1000-d3d0-3275a72aa224","instanceIdentifier":"243e72e7-03aa-309c-8a2d-7aa6b19a1f7a","name":"RouteOnAttribute","comments":"","position":{"x":-904.0,"y":16.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Routing Strategy":"Route to Property name","error":"${status_code:contains(\"-6000\")}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"error":{"name":"error","displayName":"error","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["error"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1048c-0199-1000-5bf0-c85f266f9159","instanceIdentifier":"90ea150f-9b31-39ca-6007-3e601a2c7cf1","name":"SplitJson","comments":"","position":{"x":392.0,"y":16.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.payments.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1048a-0199-1000-1283-f707a0f9aee4","instanceIdentifier":"621fe079-2974-38a3-1998-d9c856a0e1f1","name":"/api/order/update","comments":"","position":{"x":-240.0,"y":928.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b10497-0199-1000-5d10-b72291642c8c","instanceIdentifier":"df0bc31b-f5ed-35e4-b5a2-f3b2c6bc27ed","name":"UpdateAttribute","comments":"","position":{"x":-240.0,"y":1176.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"status_created_timezone":"Europe/Moscow","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"status_created_at":"${now():format('yyyy-MM-dd hh:mm:ss')}"},"propertyDescriptors":{"status_created_timezone":{"name":"status_created_timezone","displayName":"status_created_timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_created_at":{"name":"status_created_at","displayName":"status_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b1048d-0199-1000-32dd-1874eaff77d7","instanceIdentifier":"59d662fa-7c73-33eb-3d96-0dda1e9a4e19","name":"api.sailplay.ru - send/sms-code","comments":"","position":{"x":-904.0,"y":1832.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"false","HTTP URL":"https://api.sailplay.ru/api/v2/sender/messages/send/sms-code/","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","post:form:phone":"${client_phone}","post:form:text":"${message_text}","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"post:form:token":"${sp_token}","Response Cache Size":"10MB","Response Body Ignored":"false","post:form:store_department_id":"${store_department_id}"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:phone":{"name":"post:form:phone","displayName":"post:form:phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"post:form:text":{"name":"post:form:text","displayName":"post:form:text","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:token":{"name":"post:form:token","displayName":"post:form:token","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:store_department_id":{"name":"post:form:store_department_id","displayName":"post:form:store_department_id","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b104ad-0199-1000-64bf-0686d6efb73e","instanceIdentifier":"222a012f-ed39-3105-d720-a6057bcf5d4c","name":"","source":{"id":"70b1049b-0199-1000-f6fe-581617f8dae0","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"ReplaceText","comments":"","instanceIdentifier":"953c0af4-1570-3306-0d7d-9946ed88df45"},"destination":{"id":"70b10487-0199-1000-2e8e-552ac1d53975","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/order/status/add","comments":"","instanceIdentifier":"8104e109-1469-30d7-bcb1-bf3b5bdf484c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104aa-0199-1000-b5c4-7c0c650d4a2d","instanceIdentifier":"0384106d-732a-3087-3e17-3665ce83787e","name":"","source":{"id":"70b10498-0199-1000-55fa-79bbb32bc1d9","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"ReplaceText","comments":"","instanceIdentifier":"ce17cc22-db85-3f20-9813-67351ff59c30"},"destination":{"id":"70b10499-0199-1000-c30b-c0e1cd0c58d5","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/order/search","comments":"","instanceIdentifier":"7839ada7-57b2-37a6-b99d-a699463bda43"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104b4-0199-1000-68d0-30c674254a03","instanceIdentifier":"3e240677-1778-381f-9493-d4cdaf89e42e","name":"","source":{"id":"70b1049a-0199-1000-55f4-9b30c3d6e85e","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"bdf72faf-03bb-3289-d11d-36e5213699e5"},"destination":{"id":"70b1049e-0199-1000-45a8-28a2c327d1d5","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"UpdateAttribute","comments":"","instanceIdentifier":"868c4bf4-c647-3445-7f65-86052f3c6b28"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104b0-0199-1000-4112-fdf0a8e78a61","instanceIdentifier":"b3cf3655-078b-3cbe-dbaa-62a6dcc38c75","name":"","source":{"id":"70b1048a-0199-1000-1283-f707a0f9aee4","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/order/update","comments":"","instanceIdentifier":"621fe079-2974-38a3-1998-d9c856a0e1f1"},"destination":{"id":"70b10497-0199-1000-5d10-b72291642c8c","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"UpdateAttribute","comments":"","instanceIdentifier":"df0bc31b-f5ed-35e4-b5a2-f3b2c6bc27ed"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104bf-0199-1000-1118-f61f564448a0","instanceIdentifier":"f9277924-22f5-3af7-8f5d-d6096d1c0332","name":"","source":{"id":"70b1049c-0199-1000-e891-37524accbd4b","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"GenerateFlowFile","comments":"","instanceIdentifier":"be0d7a29-4d7b-3c25-2873-840b964e0fcf"},"destination":{"id":"70b10490-0199-1000-dbc9-b818ba227413","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"UpdateAttribute","comments":"","instanceIdentifier":"7e811696-c0dd-3747-39f2-72edefa50fca"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104bc-0199-1000-3c66-205baf8b5072","instanceIdentifier":"cac416ab-1897-39f0-a280-b56c23887d52","name":"","source":{"id":"70b1048f-0199-1000-05a0-706e3905187e","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"ReplaceText","comments":"","instanceIdentifier":"efd85481-04e7-320a-0c35-c76b64a2395a"},"destination":{"id":"70b10495-0199-1000-a736-13d954abb5e9","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/payment/status/add","comments":"","instanceIdentifier":"62e6421b-4db6-33f7-ed73-9f132c542537"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104ac-0199-1000-a555-df5d1d95a2eb","instanceIdentifier":"0053889d-07a6-3efd-7a99-dc25593b9a72","name":"","source":{"id":"70b10497-0199-1000-5d10-b72291642c8c","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"UpdateAttribute","comments":"","instanceIdentifier":"df0bc31b-f5ed-35e4-b5a2-f3b2c6bc27ed"},"destination":{"id":"70b1049b-0199-1000-f6fe-581617f8dae0","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"ReplaceText","comments":"","instanceIdentifier":"953c0af4-1570-3306-0d7d-9946ed88df45"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104be-0199-1000-42b4-1ddd7df13164","instanceIdentifier":"d9fc01ed-415b-3eb8-7930-1b36b315488a","name":"","source":{"id":"70b1048b-0199-1000-8c26-3ea95959fa12","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"UpdateAttribute","comments":"","instanceIdentifier":"6689f144-7ab0-386e-5cca-b8e958b38b04"},"destination":{"id":"70b1048d-0199-1000-32dd-1874eaff77d7","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"api.sailplay.ru - send/sms-code","comments":"","instanceIdentifier":"59d662fa-7c73-33eb-3d96-0dda1e9a4e19"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104ba-0199-1000-1b31-5453ce853efa","instanceIdentifier":"cd1e3888-f77a-3ee2-04cb-784a43eb1a8f","name":"","source":{"id":"70b10490-0199-1000-dbc9-b818ba227413","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"UpdateAttribute","comments":"","instanceIdentifier":"7e811696-c0dd-3747-39f2-72edefa50fca"},"destination":{"id":"70b1048e-0199-1000-7270-6d69fbaa5dc1","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/payment/list-new","comments":"","instanceIdentifier":"782c9eee-0d27-39c0-30e7-ec1e9e488fe7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104b5-0199-1000-5799-2033259c3940","instanceIdentifier":"a0555c64-c47e-3002-d225-1abb6656be1e","name":"","source":{"id":"70b1048d-0199-1000-32dd-1874eaff77d7","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"api.sailplay.ru - send/sms-code","comments":"","instanceIdentifier":"59d662fa-7c73-33eb-3d96-0dda1e9a4e19"},"destination":{"id":"70b1049d-0199-1000-7d3a-11d2c1ad5179","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"ReplaceText","comments":"","instanceIdentifier":"5f6a2b59-237f-38db-3f6c-adf3bfa11032"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104bd-0199-1000-7a95-8d91a5a013d0","instanceIdentifier":"776b7b00-635a-3faf-a69f-79efa9795882","name":"","source":{"id":"70b10499-0199-1000-c30b-c0e1cd0c58d5","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/order/search","comments":"","instanceIdentifier":"7839ada7-57b2-37a6-b99d-a699463bda43"},"destination":{"id":"70b10491-0199-1000-ea01-930a75fa5446","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"716c6691-ec88-3234-078b-f533dd5b589c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104b2-0199-1000-b1b1-919bd62d7b51","instanceIdentifier":"a5b6eef8-7fd6-3c09-2c30-0483af54f3b7","name":"","source":{"id":"70b1048e-0199-1000-7270-6d69fbaa5dc1","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/payment/list-new","comments":"","instanceIdentifier":"782c9eee-0d27-39c0-30e7-ec1e9e488fe7"},"destination":{"id":"70b1048c-0199-1000-5bf0-c85f266f9159","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"SplitJson","comments":"","instanceIdentifier":"90ea150f-9b31-39ca-6007-3e601a2c7cf1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104c0-0199-1000-639f-e0a2aa63c625","instanceIdentifier":"333c04a8-01a4-34f5-4e3f-224161eab4ba","name":"","source":{"id":"70b10489-0199-1000-8999-675f0180193c","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"api.sailplay.ru - /users/tags/add/","comments":"","instanceIdentifier":"abe7dbaa-fa91-33f5-8941-75538ce03f3a"},"destination":{"id":"70b1048b-0199-1000-8c26-3ea95959fa12","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"UpdateAttribute","comments":"","instanceIdentifier":"6689f144-7ab0-386e-5cca-b8e958b38b04"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104bb-0199-1000-cc3c-3e9004add193","instanceIdentifier":"26b2210f-0a80-35c8-a713-e43e060e5d38","name":"","source":{"id":"70b10491-0199-1000-ea01-930a75fa5446","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"716c6691-ec88-3234-078b-f533dd5b589c"},"destination":{"id":"70b10494-0199-1000-5983-216f2caf5c07","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"UpdateAttribute","comments":"","instanceIdentifier":"5dab3de9-cc49-36f5-ebd1-eba0728b40b2"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104ab-0199-1000-48c2-f718e7d13247","instanceIdentifier":"d57123ae-0ece-38a9-3b2c-015694cddd00","name":"","source":{"id":"70b10487-0199-1000-2e8e-552ac1d53975","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/order/status/add","comments":"","instanceIdentifier":"8104e109-1469-30d7-bcb1-bf3b5bdf484c"},"destination":{"id":"70b1048f-0199-1000-05a0-706e3905187e","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"ReplaceText","comments":"","instanceIdentifier":"efd85481-04e7-320a-0c35-c76b64a2395a"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104b1-0199-1000-2400-9b0c0ca27ce5","instanceIdentifier":"6cc421ad-4be5-334d-4757-665228a972af","name":"","source":{"id":"70b10492-0199-1000-8076-80f1685437cc","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"ReplaceText","comments":"","instanceIdentifier":"0bac4e80-4d90-3e57-8eb8-9cc53dba15da"},"destination":{"id":"70b1048a-0199-1000-1283-f707a0f9aee4","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/order/update","comments":"","instanceIdentifier":"621fe079-2974-38a3-1998-d9c856a0e1f1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104ae-0199-1000-bd83-594413925276","instanceIdentifier":"cc6d02ea-f5bf-3806-a586-def61a572bbd","name":"","source":{"id":"70b10494-0199-1000-5983-216f2caf5c07","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"UpdateAttribute","comments":"","instanceIdentifier":"5dab3de9-cc49-36f5-ebd1-eba0728b40b2"},"destination":{"id":"70b10489-0199-1000-8999-675f0180193c","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"api.sailplay.ru - /users/tags/add/","comments":"","instanceIdentifier":"abe7dbaa-fa91-33f5-8941-75538ce03f3a"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104b8-0199-1000-a17e-94f84231f938","instanceIdentifier":"e549a570-7802-364c-cd35-ae718d08680b","name":"","source":{"id":"70b1048c-0199-1000-5bf0-c85f266f9159","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"SplitJson","comments":"","instanceIdentifier":"90ea150f-9b31-39ca-6007-3e601a2c7cf1"},"destination":{"id":"70b1049a-0199-1000-55f4-9b30c3d6e85e","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"bdf72faf-03bb-3289-d11d-36e5213699e5"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104b6-0199-1000-d650-8df01dbe6757","instanceIdentifier":"618e1984-0c81-367e-a9ea-b8dd2646f7e5","name":"","source":{"id":"70b1049e-0199-1000-45a8-28a2c327d1d5","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"UpdateAttribute","comments":"","instanceIdentifier":"868c4bf4-c647-3445-7f65-86052f3c6b28"},"destination":{"id":"70b10496-0199-1000-cb9e-26c325ce48bc","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"api.sailplay.ru - /gifts/purchases/new","comments":"","instanceIdentifier":"5a9e13a4-cc02-3f4c-4a7c-d04fe818d995"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104b9-0199-1000-df40-ab9989ea7c08","instanceIdentifier":"95975bd5-7376-3961-bf77-e4bd2dac862a","name":"","source":{"id":"70b10493-0199-1000-3bb3-a10481f1a528","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/payment/update","comments":"","instanceIdentifier":"1aba9909-e3b3-369b-dcc3-2af2b10b6c53"},"destination":{"id":"70b10492-0199-1000-8076-80f1685437cc","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"ReplaceText","comments":"","instanceIdentifier":"0bac4e80-4d90-3e57-8eb8-9cc53dba15da"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104a9-0199-1000-956e-cf1ed12607e2","instanceIdentifier":"29a87bed-b4b1-3e2e-f388-24016b86f799","name":"","source":{"id":"70b10496-0199-1000-cb9e-26c325ce48bc","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"api.sailplay.ru - /gifts/purchases/new","comments":"","instanceIdentifier":"5a9e13a4-cc02-3f4c-4a7c-d04fe818d995"},"destination":{"id":"70b10486-0199-1000-a2fa-2f64117cd54c","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"eb1539e3-d857-3eaa-d7e2-0b35a5252123"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104af-0199-1000-6c20-9a97a3d0310c","instanceIdentifier":"4bebb1c2-e4fe-3b91-d0ae-c2a1e0fc881a","name":"","source":{"id":"70b10488-0199-1000-d3d0-3275a72aa224","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"RouteOnAttribute","comments":"","instanceIdentifier":"243e72e7-03aa-309c-8a2d-7aa6b19a1f7a"},"destination":{"id":"70b10498-0199-1000-55fa-79bbb32bc1d9","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"ReplaceText","comments":"","instanceIdentifier":"ce17cc22-db85-3f20-9813-67351ff59c30"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104b7-0199-1000-c8ad-b359c471a5f4","instanceIdentifier":"96d238fc-07a1-30c7-57ba-8aa9eb174007","name":"","source":{"id":"70b10486-0199-1000-a2fa-2f64117cd54c","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"eb1539e3-d857-3eaa-d7e2-0b35a5252123"},"destination":{"id":"70b10488-0199-1000-d3d0-3275a72aa224","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"RouteOnAttribute","comments":"","instanceIdentifier":"243e72e7-03aa-309c-8a2d-7aa6b19a1f7a"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104b3-0199-1000-2391-e38db8502470","instanceIdentifier":"9cda9891-e370-3140-5f9b-dd4e17248cd9","name":"","source":{"id":"70b1049d-0199-1000-7d3a-11d2c1ad5179","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"ReplaceText","comments":"","instanceIdentifier":"5f6a2b59-237f-38db-3f6c-adf3bfa11032"},"destination":{"id":"70b10493-0199-1000-3bb3-a10481f1a528","type":"PROCESSOR","groupId":"70b10485-0199-1000-ce81-fc7e517bab67","name":"/api/payment/update","comments":"","instanceIdentifier":"1aba9909-e3b3-369b-dcc3-2af2b10b6c53"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"}],"labels":[{"identifier":"70b104a5-0199-1000-2124-e9c5004aba43","instanceIdentifier":"8527212f-361b-3bd0-4bdd-60aff754dce3","position":{"x":-256.0,"y":1128.0},"label":"[12.09.2025 . ]   ","zIndex":0,"width":1728.0,"height":224.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104a8-0199-1000-662b-9efe08837c6a","instanceIdentifier":"e155b3d0-c5f4-34bb-3ca2-0606c662a38e","position":{"x":-288.0,"y":280.0},"label":"[12.09.2025 . ]   ","zIndex":0,"width":1728.0,"height":264.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104a3-0199-1000-86da-9e2e82a93198","instanceIdentifier":"da9a2222-1abf-3d15-a4b1-74d8f51dfd71","position":{"x":-280.0,"y":1424.0},"label":"[12.09.2025 . ]   ","zIndex":0,"width":1728.0,"height":224.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104a7-0199-1000-8302-c30a0121592f","instanceIdentifier":"d7d74193-9b4d-3313-c865-eaac2ce6006e","position":{"x":-280.0,"y":608.0},"label":"[12.09.2025 . ]   ","zIndex":0,"width":1728.0,"height":224.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104a4-0199-1000-c0a7-e100de5feeb9","instanceIdentifier":"86e9aa22-6abc-32a9-06cb-2a8e111681bc","position":{"x":-288.0,"y":872.0},"label":"[12.09.2025 . ]   ","zIndex":0,"width":1728.0,"height":224.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"},{"identifier":"70b104a6-0199-1000-2e05-57c8c9c0af9f","instanceIdentifier":"de0c707f-5d63-3c26-6d49-1777e2a54dbc","position":{"x":-296.0,"y":-40.0},"label":"[12.09.2025 . ]      confirmation_pending","zIndex":0,"width":1736.0,"height":216.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10485-0199-1000-ce81-fc7e517bab67"}],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b103f9-0199-1000-4d57-877d6cdda8b0"},{"identifier":"70b1040a-0199-1000-2a50-da39973f0f26","instanceIdentifier":"136e1ac9-0aa6-3de2-8ea1-01a23a39befc","name":"loyalty-payments-service","comments":"","position":{"x":-184.0,"y":-88.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10414-0199-1000-6d3b-7ae8e0c43bef","instanceIdentifier":"ab61ad42-3af6-3c57-f59c-a64cf6ebb7cc","name":"/api/order/status/add","comments":"","position":{"x":216.0,"y":1208.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/status/add","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1040c-0199-1000-ee27-ad1682d7bcbd","instanceIdentifier":"079f7948-5db8-3374-5311-88d21a1e4ac7","name":"ReplaceText","comments":"","position":{"x":1176.0,"y":64.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"payment_short_id\": \"${payment_short_id}\",\n    \"order_short_id\": \"${order_short_id}\",\n    \"client_phone\": \"${client_phone}\",\n\t\"send_code\":\"${send_code}\",\n\t\"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10411-0199-1000-ca2f-75c783710279","instanceIdentifier":"1119bcd7-b0b9-3ef1-2edb-2d3fea6847e7","name":"FlowGlobalSettings","comments":"","position":{"x":216.0,"y":-592.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"status_created_timezone":"Europe/Moscow","Delete Attributes Expression":null,"expiration_minutes":"3","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","port":"8089","payment_status":"payment_created","host":"http://10.160.20.73","mime.type":"application/json","source":"payment-service","Stateful Variables Initial Value":null,"status_created_at":"${now():format('yyyy-MM-dd hh:mm:ss')}"},"propertyDescriptors":{"status_created_timezone":{"name":"status_created_timezone","displayName":"status_created_timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"expiration_minutes":{"name":"expiration_minutes","displayName":"expiration_minutes","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"port":{"name":"port","displayName":"port","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_status":{"name":"payment_status","displayName":"payment_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"host":{"name":"host","displayName":"host","identifiesControllerService":false,"sensitive":false,"dynamic":true},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_created_at":{"name":"status_created_at","displayName":"status_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10416-0199-1000-f9c4-ff20aab5b41d","instanceIdentifier":"8d1a0abb-c81c-34ee-58cc-db5d84a7d631","name":"EvaluateJsonPath","comments":"","position":{"x":2088.0,"y":-248.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","client_phone":"$.client_phone","Max String Length":"20 MB","Return Type":"auto-detect","payment_short_id":"$.payment_short_id","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_short_id":{"name":"payment_short_id","displayName":"payment_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10418-0199-1000-b6f0-43321c825aae","instanceIdentifier":"fdcc8480-086c-35bc-093c-80d172c03a35","name":"ReplaceText","comments":"","position":{"x":2160.0,"y":1208.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\": \"${order_short_id}\",\n  \"status_code\": \"${confirmation_status}\",\n  \"status_name\":\"${confirmation_status}\",\n  \"source\":\"${source}\",\n  \"additional_info\":\"${confirmation_status}\",\n  \"commentary\": \"${confirmation_status}\",\n  \"status_created_at\":\"${status_created_at}\",\n  \"status_created_timezone\":\"${status_created_timezone}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10413-0199-1000-1664-63b54e5cfba4","instanceIdentifier":"25324541-dab2-346d-1cba-a505821f8638","name":"ReplaceText","comments":"","position":{"x":2160.0,"y":664.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"payment_short_id\":\"${payment_short_id}\",\n    \"order_short_id\":\"${order_short_id}\",\n    \"status_code\":\"${confirmation_status}\",\n    \"status_name\":\"${confirmation_status}\",\n    \"commentary\":\"${confirmation_status}\",\n    \"status_created_at\":\"${status_created_at}\",\n    \"status_created_timezone\":\"${status_created_timezone}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1040e-0199-1000-72ba-ca374b14aa50","instanceIdentifier":"103c3701-1a9b-3d78-97ff-963635960a50","name":"ReplaceText","comments":"","position":{"x":1176.0,"y":360.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"payment_short_id\": \"${payment_short_id}\",\n    \"order_short_id\": \"${order_short_id}\",\n    \"payment_status\":\"${confirmation_status}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10419-0199-1000-4a69-15526d0c1e09","instanceIdentifier":"461dfa2c-45df-3f08-8615-ce8863ca7e06","name":"/api/payment/status/add","comments":"","position":{"x":216.0,"y":664.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/status/add","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1040d-0199-1000-4aaf-709f42d1d546","instanceIdentifier":"62ab5147-1758-3f3d-8d36-fc4f897eeb2c","name":"EvaluateJsonPath","comments":"","position":{"x":216.0,"y":360.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","confirmation_status":"$.confirmation_status","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10410-0199-1000-f744-4ecd961056c8","instanceIdentifier":"e8b59b6e-fe89-3ffd-daf6-db9833ff0774","name":"/api/order/update","comments":"","position":{"x":2160.0,"y":944.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1040f-0199-1000-9d7e-9921919b8b57","instanceIdentifier":"ccf46b46-8176-3710-1876-6b02d3639573","name":"/api/payment/list-new","comments":"","position":{"x":216.0,"y":-240.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/list-new?payment_status=payment_created","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10417-0199-1000-fde1-b68e65bb6866","instanceIdentifier":"8ceb4cd8-54a2-3be0-8643-0d8ff1b6841f","name":"GenerateFlowFile","comments":"","position":{"x":216.0,"y":-928.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1040b-0199-1000-8f7d-f27de601af01","instanceIdentifier":"4f9bdf14-5cfd-3da0-975f-3704797e2a50","name":"SplitJson","comments":"","position":{"x":1072.0,"y":-240.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.payments.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10415-0199-1000-8c6c-504cc26347ba","instanceIdentifier":"186b4c57-f616-33b2-b2c0-dd30da922dfb","name":"ReplaceText","comments":"","position":{"x":216.0,"y":944.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"order_short_id\":\"${order_short_id}\",\n    \"order_status\":\"${confirmation_status}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1041a-0199-1000-342d-9514a3813b2d","instanceIdentifier":"8ccd5396-9f06-34f4-ca87-f6ac3ea11c50","name":"UpdateAttribute","comments":"","position":{"x":2072.0,"y":64.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"send_code":"${random():mod(9000):plus(1000):toString()}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"send_code":{"name":"send_code","displayName":"send_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1041b-0199-1000-844e-6a29eefcb827","instanceIdentifier":"5e885b04-2764-389d-b8ed-47d5d1b02df7","name":"/api/payment/update","comments":"","position":{"x":2160.0,"y":360.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10412-0199-1000-b08b-533ed9c7ea90","instanceIdentifier":"d0a53478-8628-32f2-f1d9-48c03bf53ff9","name":"/api/payment/async/confirm/add","comments":"","position":{"x":216.0,"y":72.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/async/confirm/add","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b10426-0199-1000-7b9b-5290af139c43","instanceIdentifier":"6c9005b7-3510-3eba-d29b-8676fe021eb7","name":"","source":{"id":"70b1040e-0199-1000-72ba-ca374b14aa50","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"ReplaceText","comments":"","instanceIdentifier":"103c3701-1a9b-3d78-97ff-963635960a50"},"destination":{"id":"70b1041b-0199-1000-844e-6a29eefcb827","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/payment/update","comments":"","instanceIdentifier":"5e885b04-2764-389d-b8ed-47d5d1b02df7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10427-0199-1000-808c-0c2861f05e75","instanceIdentifier":"b19456dd-ef0b-3865-bdd8-15c716aac0d6","name":"","source":{"id":"70b10410-0199-1000-f744-4ecd961056c8","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/order/update","comments":"","instanceIdentifier":"e8b59b6e-fe89-3ffd-daf6-db9833ff0774"},"destination":{"id":"70b10418-0199-1000-b6f0-43321c825aae","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"ReplaceText","comments":"","instanceIdentifier":"fdcc8480-086c-35bc-093c-80d172c03a35"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1042e-0199-1000-b1ff-3e42c76366bd","instanceIdentifier":"e039ac80-c050-3580-29dd-f4849dabf37e","name":"","source":{"id":"70b1040b-0199-1000-8f7d-f27de601af01","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"SplitJson","comments":"","instanceIdentifier":"4f9bdf14-5cfd-3da0-975f-3704797e2a50"},"destination":{"id":"70b10416-0199-1000-f9c4-ff20aab5b41d","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8d1a0abb-c81c-34ee-58cc-db5d84a7d631"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10429-0199-1000-2be8-bbabcf308895","instanceIdentifier":"a3e5af5b-5b9a-32ca-4298-159c10a61809","name":"","source":{"id":"70b10412-0199-1000-b08b-533ed9c7ea90","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/payment/async/confirm/add","comments":"","instanceIdentifier":"d0a53478-8628-32f2-f1d9-48c03bf53ff9"},"destination":{"id":"70b1040d-0199-1000-4aaf-709f42d1d546","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"62ab5147-1758-3f3d-8d36-fc4f897eeb2c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1042a-0199-1000-ecad-3627c974a58f","instanceIdentifier":"ed93804a-82df-3799-2f63-21a96e4b6991","name":"","source":{"id":"70b1040d-0199-1000-4aaf-709f42d1d546","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"62ab5147-1758-3f3d-8d36-fc4f897eeb2c"},"destination":{"id":"70b1040e-0199-1000-72ba-ca374b14aa50","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"ReplaceText","comments":"","instanceIdentifier":"103c3701-1a9b-3d78-97ff-963635960a50"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1042f-0199-1000-e16f-9059e73f9704","instanceIdentifier":"11ef3ef1-b7f6-30f9-ca1a-7c3938862a4a","name":"","source":{"id":"70b1041a-0199-1000-342d-9514a3813b2d","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"UpdateAttribute","comments":"","instanceIdentifier":"8ccd5396-9f06-34f4-ca87-f6ac3ea11c50"},"destination":{"id":"70b1040c-0199-1000-ee27-ad1682d7bcbd","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"ReplaceText","comments":"","instanceIdentifier":"079f7948-5db8-3374-5311-88d21a1e4ac7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1042b-0199-1000-605b-906119607df7","instanceIdentifier":"ecbd00e8-c8e8-3968-317a-e6f74eec2469","name":"","source":{"id":"70b10411-0199-1000-ca2f-75c783710279","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"FlowGlobalSettings","comments":"","instanceIdentifier":"1119bcd7-b0b9-3ef1-2edb-2d3fea6847e7"},"destination":{"id":"70b1040f-0199-1000-9d7e-9921919b8b57","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/payment/list-new","comments":"","instanceIdentifier":"ccf46b46-8176-3710-1876-6b02d3639573"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10424-0199-1000-25e3-eec42119b7b4","instanceIdentifier":"780252ae-4a41-33b6-ef41-6f08afe39a66","name":"","source":{"id":"70b1040f-0199-1000-9d7e-9921919b8b57","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/payment/list-new","comments":"","instanceIdentifier":"ccf46b46-8176-3710-1876-6b02d3639573"},"destination":{"id":"70b1040b-0199-1000-8f7d-f27de601af01","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"SplitJson","comments":"","instanceIdentifier":"4f9bdf14-5cfd-3da0-975f-3704797e2a50"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1042d-0199-1000-c412-4f53a6962e08","instanceIdentifier":"eb739ed1-bc18-32ae-6fa0-de9458d13e16","name":"","source":{"id":"70b10417-0199-1000-fde1-b68e65bb6866","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"GenerateFlowFile","comments":"","instanceIdentifier":"8ceb4cd8-54a2-3be0-8643-0d8ff1b6841f"},"destination":{"id":"70b10411-0199-1000-ca2f-75c783710279","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"FlowGlobalSettings","comments":"","instanceIdentifier":"1119bcd7-b0b9-3ef1-2edb-2d3fea6847e7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10425-0199-1000-61ee-d60993106be8","instanceIdentifier":"686bf30d-166f-3920-840a-299e1aefcd04","name":"","source":{"id":"70b1041b-0199-1000-844e-6a29eefcb827","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/payment/update","comments":"","instanceIdentifier":"5e885b04-2764-389d-b8ed-47d5d1b02df7"},"destination":{"id":"70b10413-0199-1000-1664-63b54e5cfba4","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"ReplaceText","comments":"","instanceIdentifier":"25324541-dab2-346d-1cba-a505821f8638"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1042c-0199-1000-7d36-748317dfde39","instanceIdentifier":"4607b453-d832-3bb7-0e78-34698192e7b8","name":"","source":{"id":"70b10418-0199-1000-b6f0-43321c825aae","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"ReplaceText","comments":"","instanceIdentifier":"fdcc8480-086c-35bc-093c-80d172c03a35"},"destination":{"id":"70b10414-0199-1000-6d3b-7ae8e0c43bef","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/order/status/add","comments":"","instanceIdentifier":"ab61ad42-3af6-3c57-f59c-a64cf6ebb7cc"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10430-0199-1000-6065-0537f3c57322","instanceIdentifier":"ad6fa121-d28a-3acb-075b-83c9b25c07c0","name":"","source":{"id":"70b10415-0199-1000-8c6c-504cc26347ba","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"ReplaceText","comments":"","instanceIdentifier":"186b4c57-f616-33b2-b2c0-dd30da922dfb"},"destination":{"id":"70b10410-0199-1000-f744-4ecd961056c8","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/order/update","comments":"","instanceIdentifier":"e8b59b6e-fe89-3ffd-daf6-db9833ff0774"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10431-0199-1000-5271-23034e6a19b5","instanceIdentifier":"796d5779-0f03-3ea8-55b7-b9868a93cffe","name":"","source":{"id":"70b1040c-0199-1000-ee27-ad1682d7bcbd","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"ReplaceText","comments":"","instanceIdentifier":"079f7948-5db8-3374-5311-88d21a1e4ac7"},"destination":{"id":"70b10412-0199-1000-b08b-533ed9c7ea90","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/payment/async/confirm/add","comments":"","instanceIdentifier":"d0a53478-8628-32f2-f1d9-48c03bf53ff9"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10428-0199-1000-e6d2-dfd4dabe6b82","instanceIdentifier":"7285c1d5-14e1-3156-ad1e-1a0c81fb8cce","name":"","source":{"id":"70b10416-0199-1000-f9c4-ff20aab5b41d","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8d1a0abb-c81c-34ee-58cc-db5d84a7d631"},"destination":{"id":"70b1041a-0199-1000-342d-9514a3813b2d","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"UpdateAttribute","comments":"","instanceIdentifier":"8ccd5396-9f06-34f4-ca87-f6ac3ea11c50"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10432-0199-1000-ce76-aaaf30003e68","instanceIdentifier":"6f86a12c-4093-358b-1c59-4d0627b15464","name":"","source":{"id":"70b10413-0199-1000-1664-63b54e5cfba4","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"ReplaceText","comments":"","instanceIdentifier":"25324541-dab2-346d-1cba-a505821f8638"},"destination":{"id":"70b10419-0199-1000-4a69-15526d0c1e09","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/payment/status/add","comments":"","instanceIdentifier":"461dfa2c-45df-3f08-8615-ce8863ca7e06"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10433-0199-1000-b699-9b35b3e7a21a","instanceIdentifier":"eceb00f5-50b7-3473-eedb-3ab5b5fc3b07","name":"","source":{"id":"70b10419-0199-1000-4a69-15526d0c1e09","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"/api/payment/status/add","comments":"","instanceIdentifier":"461dfa2c-45df-3f08-8615-ce8863ca7e06"},"destination":{"id":"70b10415-0199-1000-8c6c-504cc26347ba","type":"PROCESSOR","groupId":"70b1040a-0199-1000-2a50-da39973f0f26","name":"ReplaceText","comments":"","instanceIdentifier":"186b4c57-f616-33b2-b2c0-dd30da922dfb"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"}],"labels":[{"identifier":"70b10422-0199-1000-9716-0cc1a89cb718","instanceIdentifier":"36cf18b4-d4a3-3f9f-e353-0b22e21dc371","position":{"x":192.0,"y":1184.0},"label":"c   orders_statuses    pending_confirmation\n","zIndex":0,"width":2440.0,"height":200.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1041f-0199-1000-0a24-9d54bbce9bef","instanceIdentifier":"e9df5546-49a4-3330-99dc-44f9b449e3de","position":{"x":184.0,"y":608.0},"label":"c    payments_statuses    pending_confirmation\n","zIndex":0,"width":2432.0,"height":208.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10421-0199-1000-1e1c-8eb99a1c1e7a","instanceIdentifier":"c66b85a8-f3d8-3ccb-67ec-31fa282685cb","position":{"x":144.0,"y":-296.0},"label":"[12.09.2025 . ]      payment_created","zIndex":0,"width":2472.0,"height":216.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10420-0199-1000-de03-a08e691a7592","instanceIdentifier":"3d592948-a4b9-314e-33bf-72ddc90260e3","position":{"x":2656.0,"y":64.0},"label":"[12.09.2025 . ]     ","zIndex":0,"width":416.0,"height":112.0,"style":{"background-color":"#ffe0d6","font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1041e-0199-1000-a891-f1d66027dbdc","instanceIdentifier":"fde86695-d94c-3790-aee4-407f93b22c53","position":{"x":176.0,"y":896.0},"label":"[12.09.2025 . ] c   orders   pending_confirmation\n","zIndex":0,"width":2448.0,"height":216.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1041d-0199-1000-a8f3-fd8e31e88185","instanceIdentifier":"9306eb5b-1ad5-3427-0586-aea74b953515","position":{"x":600.0,"y":-576.0},"label":"[12.09.2025 . ]    ","zIndex":0,"width":312.0,"height":88.0,"style":{"background-color":"#e92b16","font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b1041c-0199-1000-209d-93b2eca79d9f","instanceIdentifier":"f5613959-15f9-36c2-5415-d8156dc98ec6","position":{"x":168.0,"y":24.0},"label":"[12.09.2025 . ]    payment_confirmations   confirmation_pending      ","zIndex":0,"width":2448.0,"height":216.0,"style":{"background-color":"#ffd6d6","font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"},{"identifier":"70b10423-0199-1000-9f7e-af67fef92b87","instanceIdentifier":"ccb50b40-da05-363f-36b4-5d94f84a0e1c","position":{"x":160.0,"y":320.0},"label":"[12.09.2025 . ] c    payments   confirmation_pending\n","zIndex":0,"width":2464.0,"height":200.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1040a-0199-1000-2a50-da39973f0f26"}],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b103f9-0199-1000-4d57-877d6cdda8b0"},{"identifier":"70b10434-0199-1000-45d7-846a54fb9103","instanceIdentifier":"bb9cdc13-dd71-33ed-6124-2133c6f5951d","name":"send-code","comments":"","position":{"x":264.0,"y":-88.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10440-0199-1000-4483-8d9e18d2a611","instanceIdentifier":"0ad5cd66-1a86-3899-2ce9-d1dc25f513bf","name":"/confirm/send-code","comments":"","position":{"x":1048.0,"y":656.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/async/confirm/send-code","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1043d-0199-1000-eede-94ece3b3fa9d","instanceIdentifier":"9278ef14-bfdf-3df5-1544-48a84fc37067","name":"/api/payment/async/confirm/list-new","comments":"","position":{"x":368.0,"y":8.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/async/confirm/list-new?confirmation_status=${confirmation_status}","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10435-0199-1000-2e3e-6743762f06a6","instanceIdentifier":"2b2c09fc-3bfc-3197-b21a-8d810a815568","name":"api.sailplay.ru - send/sms-code","comments":"","position":{"x":-768.0,"y":632.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"false","HTTP URL":"https://api.sailplay.ru/api/v2/sender/messages/send/sms-code/","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","post:form:phone":"${client_phone}","post:form:text":"${message_text}","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"post:form:token":"${sp_token}","Response Cache Size":"10MB","Response Body Ignored":"false","post:form:store_department_id":"${store_department_id}"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:phone":{"name":"post:form:phone","displayName":"post:form:phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"post:form:text":{"name":"post:form:text","displayName":"post:form:text","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:token":{"name":"post:form:token","displayName":"post:form:token","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false},"post:form:store_department_id":{"name":"post:form:store_department_id","displayName":"post:form:store_department_id","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1043f-0199-1000-46bb-815fad2cbf23","instanceIdentifier":"69e25684-0e25-3757-147e-5cdbef745c06","name":"ReplaceText","comments":"","position":{"x":-216.0,"y":648.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"confirmation_short_id\": \"${confirmation_short_id}\",\n    \"send_code\": \"${send_code}\",\n\t\"expiration_minutes\": ${expiration_minutes},\n    \"action\": \"${action}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10436-0199-1000-9968-f7c8ac8e8527","instanceIdentifier":"7b94cc5a-b079-3f49-e19d-638dc5fbd240","name":"UpdateAttribute","comments":"","position":{"x":-768.0,"y":400.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"message_text":"${send_code} -        ${order_short_id}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"message_text":{"name":"message_text","displayName":"message_text","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10437-0199-1000-cce2-7e34869e5caa","instanceIdentifier":"60eff8ed-d41b-34c4-fa6e-915758577168","name":"EvaluateJsonPath","comments":"","position":{"x":1048.0,"y":344.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","client_phone":"$.client_phone","Max String Length":"20 MB","confirmation_short_id":"$.confirmation_short_id","Return Type":"auto-detect","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_short_id":{"name":"confirmation_short_id","displayName":"confirmation_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1043e-0199-1000-dfb8-4c324deb40fd","instanceIdentifier":"c6794ef2-b659-3f0a-9bcf-6a222a314313","name":"ReplaceText","comments":"","position":{"x":1056.0,"y":904.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"confirmation_short_id\": \"${confirmation_short_id}\",\n    \"entered_code\": \"${send_code}\",\n    \"action\": \"confirmation_entered\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1043b-0199-1000-4bfc-4ca06a7e8207","instanceIdentifier":"c66256ea-5f87-3b16-2419-d84861465816","name":"/confirm/enter-code","comments":"","position":{"x":-192.0,"y":896.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/async/confirm/enter-code","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1043c-0199-1000-8464-ea9cd10debf0","instanceIdentifier":"6b368da3-1a6a-32b2-b9d6-0773065e4c34","name":"UpdateAttribute","comments":"","position":{"x":-216.0,"y":344.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"send_code":"1111","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"send_code":{"name":"send_code","displayName":"send_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10438-0199-1000-1c11-b4a5621bd88c","instanceIdentifier":"d5267c53-9d6c-3075-c829-a7478e751a9c","name":"GenerateFlowFile","comments":"","position":{"x":-248.0,"y":-288.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1043a-0199-1000-f744-28faf014a082","instanceIdentifier":"180f282f-1017-3d0b-e506-ac016234b0f5","name":"UpdateAttribute","comments":"","position":{"x":-768.0,"y":160.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"send_code":"${random():mod(9000):plus(1000):toString()}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"send_code":{"name":"send_code","displayName":"send_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10439-0199-1000-52ee-f2d85e7595d0","instanceIdentifier":"1049b865-b6fa-3d6f-a338-c09fe495d32d","name":"SplitJson","comments":"","position":{"x":1048.0,"y":8.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.confirmations.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10441-0199-1000-aa47-807575a2aa2f","instanceIdentifier":"7e4a9759-9655-3556-d10d-93bfb9d121a1","name":"UpdateAttribute","comments":"","position":{"x":-248.0,"y":8.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"sp_token":"<sp_token>","expiration_minutes":"3","confirmation_status":"confirmation_pending","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","port":"8089","store_department_id":"<store_department_id>","host":"http://10.160.20.73","action":"confirmation_send","source":"payment-confirmations-send-sms","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sp_token":{"name":"sp_token","displayName":"sp_token","identifiesControllerService":false,"sensitive":false,"dynamic":true},"expiration_minutes":{"name":"expiration_minutes","displayName":"expiration_minutes","identifiesControllerService":false,"sensitive":false,"dynamic":true},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"port":{"name":"port","displayName":"port","identifiesControllerService":false,"sensitive":false,"dynamic":true},"store_department_id":{"name":"store_department_id","displayName":"store_department_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"host":{"name":"host","displayName":"host","identifiesControllerService":false,"sensitive":false,"dynamic":true},"action":{"name":"action","displayName":"action","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b10446-0199-1000-2607-c0ab15644496","instanceIdentifier":"f649477c-3642-3544-99cb-99312a48ca70","name":"","source":{"id":"70b10437-0199-1000-cce2-7e34869e5caa","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"60eff8ed-d41b-34c4-fa6e-915758577168"},"destination":{"id":"70b1043c-0199-1000-8464-ea9cd10debf0","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"UpdateAttribute","comments":"","instanceIdentifier":"6b368da3-1a6a-32b2-b9d6-0773065e4c34"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1044c-0199-1000-da7f-fea993397dc0","instanceIdentifier":"03d68654-9ae8-39b7-b697-980618968043","name":"","source":{"id":"70b10440-0199-1000-4483-8d9e18d2a611","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"/confirm/send-code","comments":"","instanceIdentifier":"0ad5cd66-1a86-3899-2ce9-d1dc25f513bf"},"destination":{"id":"70b1043e-0199-1000-dfb8-4c324deb40fd","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"ReplaceText","comments":"","instanceIdentifier":"c6794ef2-b659-3f0a-9bcf-6a222a314313"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1044b-0199-1000-de58-aebebd50ebbf","instanceIdentifier":"566bcb06-4cd6-38df-5f64-7e35d79cd8a5","name":"","source":{"id":"70b1043e-0199-1000-dfb8-4c324deb40fd","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"ReplaceText","comments":"","instanceIdentifier":"c6794ef2-b659-3f0a-9bcf-6a222a314313"},"destination":{"id":"70b1043b-0199-1000-4bfc-4ca06a7e8207","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"/confirm/enter-code","comments":"","instanceIdentifier":"c66256ea-5f87-3b16-2419-d84861465816"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1044e-0199-1000-6f57-986e64678f9e","instanceIdentifier":"d1c0d1bb-d8ed-31c9-6511-592977417ba6","name":"","source":{"id":"70b10441-0199-1000-aa47-807575a2aa2f","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"UpdateAttribute","comments":"","instanceIdentifier":"7e4a9759-9655-3556-d10d-93bfb9d121a1"},"destination":{"id":"70b1043d-0199-1000-eede-94ece3b3fa9d","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"/api/payment/async/confirm/list-new","comments":"","instanceIdentifier":"9278ef14-bfdf-3df5-1544-48a84fc37067"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10447-0199-1000-2d6f-7fe06329e5e5","instanceIdentifier":"b433f1f4-3a4a-3be6-ed84-bd2ebe00c22d","name":"","source":{"id":"70b10439-0199-1000-52ee-f2d85e7595d0","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"SplitJson","comments":"","instanceIdentifier":"1049b865-b6fa-3d6f-a338-c09fe495d32d"},"destination":{"id":"70b10437-0199-1000-cce2-7e34869e5caa","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"60eff8ed-d41b-34c4-fa6e-915758577168"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1044f-0199-1000-2da0-d4bc3243b2b0","instanceIdentifier":"e6a29d88-c4e7-35ce-3e54-949808bb035d","name":"","source":{"id":"70b1043d-0199-1000-eede-94ece3b3fa9d","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"/api/payment/async/confirm/list-new","comments":"","instanceIdentifier":"9278ef14-bfdf-3df5-1544-48a84fc37067"},"destination":{"id":"70b10439-0199-1000-52ee-f2d85e7595d0","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"SplitJson","comments":"","instanceIdentifier":"1049b865-b6fa-3d6f-a338-c09fe495d32d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10448-0199-1000-b0f8-c65ef086a9eb","instanceIdentifier":"895f7d5a-0830-3ef7-c734-e6ca20833bbf","name":"","source":{"id":"70b10438-0199-1000-1c11-b4a5621bd88c","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"GenerateFlowFile","comments":"","instanceIdentifier":"d5267c53-9d6c-3075-c829-a7478e751a9c"},"destination":{"id":"70b10441-0199-1000-aa47-807575a2aa2f","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"UpdateAttribute","comments":"","instanceIdentifier":"7e4a9759-9655-3556-d10d-93bfb9d121a1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10449-0199-1000-df6a-494dcf2a8aad","instanceIdentifier":"f6af403e-31b4-3bab-5756-31e2869c1686","name":"","source":{"id":"70b1043a-0199-1000-f744-28faf014a082","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"UpdateAttribute","comments":"","instanceIdentifier":"180f282f-1017-3d0b-e506-ac016234b0f5"},"destination":{"id":"70b10436-0199-1000-9968-f7c8ac8e8527","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"UpdateAttribute","comments":"","instanceIdentifier":"7b94cc5a-b079-3f49-e19d-638dc5fbd240"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10450-0199-1000-dd78-f033b66750b6","instanceIdentifier":"984a89dc-2728-3435-a7de-5d660db6b177","name":"","source":{"id":"70b10436-0199-1000-9968-f7c8ac8e8527","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"UpdateAttribute","comments":"","instanceIdentifier":"7b94cc5a-b079-3f49-e19d-638dc5fbd240"},"destination":{"id":"70b10435-0199-1000-2e3e-6743762f06a6","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"api.sailplay.ru - send/sms-code","comments":"","instanceIdentifier":"2b2c09fc-3bfc-3197-b21a-8d810a815568"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1044a-0199-1000-065f-ebfdd94cbc98","instanceIdentifier":"0477a5fc-e9ed-3747-d851-414b6f5f4abf","name":"","source":{"id":"70b1043f-0199-1000-46bb-815fad2cbf23","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"ReplaceText","comments":"","instanceIdentifier":"69e25684-0e25-3757-147e-5cdbef745c06"},"destination":{"id":"70b10440-0199-1000-4483-8d9e18d2a611","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"/confirm/send-code","comments":"","instanceIdentifier":"0ad5cd66-1a86-3899-2ce9-d1dc25f513bf"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b1044d-0199-1000-d92c-74627c624f8c","instanceIdentifier":"3a03c280-158c-3f80-228c-24b4044e7290","name":"","source":{"id":"70b1043c-0199-1000-8464-ea9cd10debf0","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"UpdateAttribute","comments":"","instanceIdentifier":"6b368da3-1a6a-32b2-b9d6-0773065e4c34"},"destination":{"id":"70b1043f-0199-1000-46bb-815fad2cbf23","type":"PROCESSOR","groupId":"70b10434-0199-1000-45d7-846a54fb9103","name":"ReplaceText","comments":"","instanceIdentifier":"69e25684-0e25-3757-147e-5cdbef745c06"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"}],"labels":[{"identifier":"70b10443-0199-1000-ed6b-92f731401327","instanceIdentifier":"7a28dc70-2ed7-322d-af4d-a0211e9ab429","position":{"x":-368.0,"y":1104.0},"label":"[12.09.2025 . ]    payment_confirmations   confirmation_pending      ","zIndex":0,"width":2448.0,"height":216.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10442-0199-1000-df1a-dce808feaf91","instanceIdentifier":"7390e3b1-da18-3e03-e962-1e93de33fbf4","position":{"x":-296.0,"y":-40.0},"label":"[12.09.2025 . ]      confirmation_pending","zIndex":0,"width":1736.0,"height":216.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10445-0199-1000-686a-63692432ef42","instanceIdentifier":"39c4bb34-9151-39d4-b8e9-2460937d9141","position":{"x":-824.0,"y":112.0},"label":"[12.09.2025 . ] ,     ","zIndex":0,"width":480.0,"height":688.0,"style":{"background-color":"#e39d64","font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"},{"identifier":"70b10444-0199-1000-c227-571528adc00e","instanceIdentifier":"e0fc4a7e-06d7-32cb-2ecb-0a3dd3940178","position":{"x":-280.0,"y":288.0},"label":"[12.09.2025 . ]     SP","zIndex":0,"width":1728.0,"height":264.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10434-0199-1000-45d7-846a54fb9103"}],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b103f9-0199-1000-4d57-877d6cdda8b0"},{"identifier":"70b10451-0199-1000-9efe-173941764c1e","instanceIdentifier":"5cdbc929-0e71-38e1-efc7-706ac0c937d4","name":"attempts-expired","comments":"","position":{"x":-592.0,"y":328.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10453-0199-1000-595d-e6eb21c96eec","instanceIdentifier":"55899852-79d7-328f-917d-cc9e2377dd73","name":"ReplaceText","comments":"","position":{"x":-248.0,"y":288.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"payment_short_id\":\"${payment_short_id}\",\n    \"payment_status\":\"${confirmation_status}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b1045a-0199-1000-4130-4e91b83fa1a0","instanceIdentifier":"4303a774-f2eb-333c-1b17-c096bde4b36d","name":"InvokeHTTP","comments":"","position":{"x":-240.0,"y":592.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/payment/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b10459-0199-1000-62f2-c259f98f0790","instanceIdentifier":"32d02cfc-a5ca-3b5d-ad6b-a406c76548fe","name":"ReplaceText","comments":"","position":{"x":1024.0,"y":312.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"confirmation_short_id\":\"${confirmation_short_id}\",\n    \"action\":\"${confirmation_status}\",\n\t\"attempts\":\"${attempts}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b10455-0199-1000-1cdb-5ef731c8f78f","instanceIdentifier":"62078e86-af00-3a6c-787d-7bbf43d5c80d","name":"EvaluateJsonPath","comments":"","position":{"x":1696.0,"y":16.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","send_code":"$.send_code","Max String Length":"20 MB","confirmation_short_id":"$.confirmation_short_id","Return Type":"auto-detect","max_attempts":"$.max_attempts","payment_short_id":"$.payment_short_id","Null Value Representation":"empty string","entered_code":"$.entered_code","Path Not Found Behavior":"ignore","attempts":"$.attempts"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"send_code":{"name":"send_code","displayName":"send_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_short_id":{"name":"confirmation_short_id","displayName":"confirmation_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"max_attempts":{"name":"max_attempts","displayName":"max_attempts","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_short_id":{"name":"payment_short_id","displayName":"payment_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"entered_code":{"name":"entered_code","displayName":"entered_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attempts":{"name":"attempts","displayName":"attempts","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b10456-0199-1000-6a2c-46469cbb5121","instanceIdentifier":"439b3fed-095e-3976-b2dd-2fa63cb82c2b","name":"SplitJson","comments":"","position":{"x":1032.0,"y":8.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.confirmations.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b10457-0199-1000-8b7b-6d4e2ef0eb61","instanceIdentifier":"9ea21956-0a7e-3205-1992-e3f160f0cc12","name":"InvokeHTTP","comments":"","position":{"x":360.0,"y":304.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/payment/async/confirm/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b1045b-0199-1000-fed9-188793fc0c63","instanceIdentifier":"a2016990-d135-3b0d-1116-c46955ba8b11","name":"UpdateAttribute","comments":"","position":{"x":-247.5000226478196,"y":13.610770869522412},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"confirmation_status":"confirmation_entered","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","source":"payment-service","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b10458-0199-1000-d2d0-e667286d90c2","instanceIdentifier":"fe6df594-5cba-3089-abeb-4e744fb0e506","name":"UpdateAttribute","comments":"","position":{"x":1696.0,"y":312.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"confirmation_status":"${max_attempts:le(${attempts:plus(1)}):ifElse('confirmation_false', 'confirmation_pending')}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"attemptsExceeded":"${max_attempts:le(${attempts:plus(1)})}","attempts":"${attempts:plus(1)}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attemptsExceeded":{"name":"attemptsExceeded","displayName":"attemptsExceeded","identifiesControllerService":false,"sensitive":false,"dynamic":true},"attempts":{"name":"attempts","displayName":"attempts","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b10452-0199-1000-4fe4-78eabfc31558","instanceIdentifier":"1138a52f-26d6-3f73-70dc-d1af98285bd4","name":"GenerateFlowFile","comments":"","position":{"x":-248.0,"y":-192.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b10454-0199-1000-03d0-48364c840c6d","instanceIdentifier":"2778e0fd-9234-337c-eb9e-c86de412e260","name":"InvokeHTTP","comments":"","position":{"x":368.0,"y":8.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/payment/async/confirm/list-new?confirmation_status=${confirmation_status}","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b10461-0199-1000-3814-7336ef7170b6","instanceIdentifier":"9cc44d4c-0b53-3612-5eb3-0e8ad3a94351","name":"","source":{"id":"70b1045b-0199-1000-fed9-188793fc0c63","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"UpdateAttribute","comments":"","instanceIdentifier":"a2016990-d135-3b0d-1116-c46955ba8b11"},"destination":{"id":"70b10454-0199-1000-03d0-48364c840c6d","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"InvokeHTTP","comments":"","instanceIdentifier":"2778e0fd-9234-337c-eb9e-c86de412e260"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b1045d-0199-1000-2fec-65050e396ef8","instanceIdentifier":"efee6a82-b049-3c49-ef21-283d6cbbf6f0","name":"","source":{"id":"70b10458-0199-1000-d2d0-e667286d90c2","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"UpdateAttribute","comments":"","instanceIdentifier":"fe6df594-5cba-3089-abeb-4e744fb0e506"},"destination":{"id":"70b10459-0199-1000-62f2-c259f98f0790","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"ReplaceText","comments":"","instanceIdentifier":"32d02cfc-a5ca-3b5d-ad6b-a406c76548fe"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b10462-0199-1000-029b-630524f75526","instanceIdentifier":"bc946703-0baf-3921-7bb5-f5efe471bc48","name":"","source":{"id":"70b10456-0199-1000-6a2c-46469cbb5121","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"SplitJson","comments":"","instanceIdentifier":"439b3fed-095e-3976-b2dd-2fa63cb82c2b"},"destination":{"id":"70b10455-0199-1000-1cdb-5ef731c8f78f","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"62078e86-af00-3a6c-787d-7bbf43d5c80d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b10463-0199-1000-1793-a65d00469431","instanceIdentifier":"307edfc6-ef07-3b2d-8738-92765f18f82b","name":"","source":{"id":"70b10459-0199-1000-62f2-c259f98f0790","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"ReplaceText","comments":"","instanceIdentifier":"32d02cfc-a5ca-3b5d-ad6b-a406c76548fe"},"destination":{"id":"70b10457-0199-1000-8b7b-6d4e2ef0eb61","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"InvokeHTTP","comments":"","instanceIdentifier":"9ea21956-0a7e-3205-1992-e3f160f0cc12"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b1045e-0199-1000-b69a-e1b4461ed4ea","instanceIdentifier":"5ee7e853-0a7d-343a-667c-e3da68417b44","name":"","source":{"id":"70b10452-0199-1000-4fe4-78eabfc31558","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"GenerateFlowFile","comments":"","instanceIdentifier":"1138a52f-26d6-3f73-70dc-d1af98285bd4"},"destination":{"id":"70b1045b-0199-1000-fed9-188793fc0c63","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"UpdateAttribute","comments":"","instanceIdentifier":"a2016990-d135-3b0d-1116-c46955ba8b11"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b1045c-0199-1000-2276-008963768e9f","instanceIdentifier":"2c7eb4d9-a2d0-33f9-bdfb-7d9e1d0abd2b","name":"","source":{"id":"70b10453-0199-1000-595d-e6eb21c96eec","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"ReplaceText","comments":"","instanceIdentifier":"55899852-79d7-328f-917d-cc9e2377dd73"},"destination":{"id":"70b1045a-0199-1000-4130-4e91b83fa1a0","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"InvokeHTTP","comments":"","instanceIdentifier":"4303a774-f2eb-333c-1b17-c096bde4b36d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b1045f-0199-1000-cafe-7fdb734e7084","instanceIdentifier":"135ed1b4-6aab-3c25-9c37-cc09ac1fbd8d","name":"","source":{"id":"70b10455-0199-1000-1cdb-5ef731c8f78f","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"62078e86-af00-3a6c-787d-7bbf43d5c80d"},"destination":{"id":"70b10458-0199-1000-d2d0-e667286d90c2","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"UpdateAttribute","comments":"","instanceIdentifier":"fe6df594-5cba-3089-abeb-4e744fb0e506"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"},{"identifier":"70b10460-0199-1000-0ff5-ad986c0db612","instanceIdentifier":"f0173309-964a-3d6f-5e26-867e78187785","name":"","source":{"id":"70b10454-0199-1000-03d0-48364c840c6d","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"InvokeHTTP","comments":"","instanceIdentifier":"2778e0fd-9234-337c-eb9e-c86de412e260"},"destination":{"id":"70b10456-0199-1000-6a2c-46469cbb5121","type":"PROCESSOR","groupId":"70b10451-0199-1000-9efe-173941764c1e","name":"SplitJson","comments":"","instanceIdentifier":"439b3fed-095e-3976-b2dd-2fa63cb82c2b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10451-0199-1000-9efe-173941764c1e"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b103f9-0199-1000-4d57-877d6cdda8b0"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1033c-0199-1000-cfe8-f4a9294041cc"},{"identifier":"70b1033e-0199-1000-0ca2-3a593da7d89a","instanceIdentifier":"ad44f298-0607-3224-ecb4-6eeff9b6ce8f","name":"LoyaltyOrders-ProxyAPI","comments":"","position":{"x":-624.0,"y":56.0},"processGroups":[{"identifier":"70b10372-0199-1000-63e4-804d8b3d52b2","instanceIdentifier":"5a0bd64c-dfff-3273-ed27-cfd78e3b5148","name":"Payment-Confirmation-ProxyAPI","comments":"","position":{"x":-656.0,"y":-512.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10376-0199-1000-adc9-3e4f6b82030e","instanceIdentifier":"b5d9a85a-af4c-35d6-7ef3-3654434120b8","name":"UpdateAttribute","comments":"","position":{"x":3864.0,"y":-8.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"amount":"${total_points_amount}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","source":"automatization","Stateful Variables Initial Value":null,"payment_method":"loyalty_points"},"propertyDescriptors":{"amount":{"name":"amount","displayName":"amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_method":{"name":"payment_method","displayName":"payment_method","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b1037f-0199-1000-3ee3-fe3d60d03cb6","instanceIdentifier":"2078cd84-5053-3be8-8483-1e95c47fabff","name":"RouteOnAttribute","comments":"","position":{"x":256.0,"y":-160.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Routing Strategy":"Route to Property name","alreadyConfirmed":"${confirmation_status:contains('confirmation_verified')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"alreadyConfirmed":{"name":"alreadyConfirmed","displayName":"alreadyConfirmed","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b10374-0199-1000-ddc7-514749e774d2","instanceIdentifier":"9e41866c-fc39-3028-8f65-abbf2204832c","name":"UpdateAttribute","comments":"","position":{"x":-432.0,"y":-472.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","action":"confirmation_entered","source":"telegram-bot","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"action":{"name":"action","displayName":"action","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b1037b-0199-1000-3151-f33f25674e9d","instanceIdentifier":"1a6816b9-a830-3da2-d007-45551034ca39","name":"EvaluateJsonPath","comments":"","position":{"x":256.0,"y":-472.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","confirmation_code":"$.confirmation_code","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_code":{"name":"confirmation_code","displayName":"confirmation_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b10375-0199-1000-77e6-1d1fb15d9c59","instanceIdentifier":"fd97ce10-b9bb-388f-55af-852f0ad8f07e","name":"ReplaceText","comments":"","position":{"x":-432.0,"y":-160.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"confirmation_short_id\": \"${confirmation_short_id}\",\n    \"entered_code\": \"${confirmation_code}\",\n    \"action\": \"${action}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b1037e-0199-1000-c471-439d5d8c6817","instanceIdentifier":"1701f51d-00ca-3ce6-11ad-b98c9036df7c","name":"/api/payment/async/confirm/update","comments":"","position":{"x":-432.0,"y":184.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/payment/async/confirm/enter-code","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b1037d-0199-1000-d257-a4c6a92b883f","instanceIdentifier":"726ca5ff-194c-3fe8-0542-8e74f3e7a267","name":"/api/payment/async/confirm/search","comments":"","position":{"x":952.0,"y":-472.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/payment/async/confirm/search","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b10382-0199-1000-44a5-96c130f13776","instanceIdentifier":"fb721003-399d-3690-5d4e-2c86162f6eca","name":"EvaluateJsonPath","comments":"","position":{"x":952.0,"y":-160.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","client_phone":"$.client_phone","confirmation_status":"$.confirmation_status","Max String Length":"20 MB","confirmation_short_id":"$.confirmation_short_id","Return Type":"auto-detect","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_short_id":{"name":"confirmation_short_id","displayName":"confirmation_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"}],"inputPorts":[{"identifier":"70b10384-0199-1000-51f0-99f28becff85","instanceIdentifier":"99552cfd-8a35-3561-40fd-5c034d30a4d3","name":"input","position":{"x":-376.0,"y":-680.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"}],"outputPorts":[{"identifier":"70b10385-0199-1000-681e-4d508d0821e0","instanceIdentifier":"796e5134-7c98-3a14-68dd-4d998f54fd40","name":"output_confirmed","position":{"x":312.0,"y":520.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b10386-0199-1000-840e-2630670cb979","instanceIdentifier":"1e9e202c-1d41-37e6-1751-c6286dde7878","name":"output","position":{"x":-376.0,"y":520.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"}],"connections":[{"identifier":"70b10399-0199-1000-9ca4-5fcb5d67bd49","instanceIdentifier":"69826314-7972-34c6-aa1e-dc7e9c47d0ac","name":"","source":{"id":"70b10374-0199-1000-ddc7-514749e774d2","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"UpdateAttribute","comments":"","instanceIdentifier":"9e41866c-fc39-3028-8f65-abbf2204832c"},"destination":{"id":"70b1037b-0199-1000-3151-f33f25674e9d","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"1a6816b9-a830-3da2-d007-45551034ca39"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b10390-0199-1000-9085-7958cec45d90","instanceIdentifier":"4fceba17-a9af-3f63-ca9b-2b703140618b","name":"","source":{"id":"70b1037e-0199-1000-c471-439d5d8c6817","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"/api/payment/async/confirm/update","comments":"","instanceIdentifier":"1701f51d-00ca-3ce6-11ad-b98c9036df7c"},"destination":{"id":"70b10386-0199-1000-840e-2630670cb979","type":"OUTPUT_PORT","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"output","instanceIdentifier":"1e9e202c-1d41-37e6-1751-c6286dde7878"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b1038c-0199-1000-8f19-bfc1daeb49ee","instanceIdentifier":"afba96ee-f4ab-385f-a9f2-7b31365de076","name":"","source":{"id":"70b10382-0199-1000-44a5-96c130f13776","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"fb721003-399d-3690-5d4e-2c86162f6eca"},"destination":{"id":"70b1037f-0199-1000-3ee3-fe3d60d03cb6","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"RouteOnAttribute","comments":"","instanceIdentifier":"2078cd84-5053-3be8-8483-1e95c47fabff"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b10392-0199-1000-c5ef-3188ef86cdb3","instanceIdentifier":"f1f929a2-803a-37fe-8f05-fe46b1538a15","name":"","source":{"id":"70b1037d-0199-1000-d257-a4c6a92b883f","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"/api/payment/async/confirm/search","comments":"","instanceIdentifier":"726ca5ff-194c-3fe8-0542-8e74f3e7a267"},"destination":{"id":"70b10382-0199-1000-44a5-96c130f13776","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"fb721003-399d-3690-5d4e-2c86162f6eca"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b10394-0199-1000-2a45-36366b1e3ce8","instanceIdentifier":"66fdcc23-3394-300f-576d-2ffb8bd2671a","name":"","source":{"id":"70b10375-0199-1000-77e6-1d1fb15d9c59","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"ReplaceText","comments":"","instanceIdentifier":"fd97ce10-b9bb-388f-55af-852f0ad8f07e"},"destination":{"id":"70b1037e-0199-1000-c471-439d5d8c6817","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"/api/payment/async/confirm/update","comments":"","instanceIdentifier":"1701f51d-00ca-3ce6-11ad-b98c9036df7c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b1038a-0199-1000-740b-f74769bcd85b","instanceIdentifier":"f75631a6-513d-35a2-d131-bf5bd9973176","name":"","source":{"id":"70b1037f-0199-1000-3ee3-fe3d60d03cb6","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"RouteOnAttribute","comments":"","instanceIdentifier":"2078cd84-5053-3be8-8483-1e95c47fabff"},"destination":{"id":"70b10385-0199-1000-681e-4d508d0821e0","type":"OUTPUT_PORT","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"output_confirmed","instanceIdentifier":"796e5134-7c98-3a14-68dd-4d998f54fd40"},"labelIndex":0,"zIndex":0,"selectedRelationships":["alreadyConfirmed"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b1038b-0199-1000-20fa-5b3de4b75f63","instanceIdentifier":"b94809c9-2b02-3208-9ce5-b9c27e9b6d98","name":"","source":{"id":"70b1037b-0199-1000-3151-f33f25674e9d","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"1a6816b9-a830-3da2-d007-45551034ca39"},"destination":{"id":"70b1037d-0199-1000-d257-a4c6a92b883f","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"/api/payment/async/confirm/search","comments":"","instanceIdentifier":"726ca5ff-194c-3fe8-0542-8e74f3e7a267"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b10393-0199-1000-4bab-9b7a137d76fd","instanceIdentifier":"f6556c83-9e45-3def-bb5d-3d5156aba96b","name":"","source":{"id":"70b1037f-0199-1000-3ee3-fe3d60d03cb6","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"RouteOnAttribute","comments":"","instanceIdentifier":"2078cd84-5053-3be8-8483-1e95c47fabff"},"destination":{"id":"70b10375-0199-1000-77e6-1d1fb15d9c59","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"ReplaceText","comments":"","instanceIdentifier":"fd97ce10-b9bb-388f-55af-852f0ad8f07e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"},{"identifier":"70b1038f-0199-1000-53ea-d98ba5e808cb","instanceIdentifier":"500ff2a5-3501-3edc-89fd-e1e1abe7d0a1","name":"","source":{"id":"70b10384-0199-1000-51f0-99f28becff85","type":"INPUT_PORT","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"input","instanceIdentifier":"99552cfd-8a35-3561-40fd-5c034d30a4d3"},"destination":{"id":"70b10374-0199-1000-ddc7-514749e774d2","type":"PROCESSOR","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"UpdateAttribute","comments":"","instanceIdentifier":"9e41866c-fc39-3028-8f65-abbf2204832c"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10372-0199-1000-63e4-804d8b3d52b2"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b10347-0199-1000-f8a7-906088f9a153","instanceIdentifier":"d667cb07-d44e-3b17-072d-1dd5680f1ea1","name":"Payment-Create-ProxyAPI","comments":"","position":{"x":680.0,"y":-512.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b1034b-0199-1000-ce24-756a7290d3be","instanceIdentifier":"e57b4846-81c1-35d6-69d1-386d90bbefe3","name":"/api/order/update","comments":"","position":{"x":1528.0,"y":584.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10352-0199-1000-82b5-7cc3a68ad94f","instanceIdentifier":"bbfaae9b-08b7-373e-a0b2-e9eb4ebfc074","name":"RouteOnAttribute","comments":"","position":{"x":112.0,"y":-256.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Routing Strategy":"Route to Property name","alreadyPaid":"${order_status:contains('confirmation_verified')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"alreadyPaid":{"name":"alreadyPaid","displayName":"alreadyPaid","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1034f-0199-1000-619f-0b7388ab98ba","instanceIdentifier":"ba965ae0-d07f-3de8-b365-3361247c4017","name":"EvaluateJsonPath","comments":"","position":{"x":-376.0,"y":24.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","order_status":"$.order_status","client_phone":"$.client_phone","total_points_amount":"$.total_points_amount","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_status":{"name":"order_status","displayName":"order_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"total_points_amount":{"name":"total_points_amount","displayName":"total_points_amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1034e-0199-1000-2a21-3203225982a7","instanceIdentifier":"4462a78c-679a-325f-29f6-a3494c1db245","name":"/api/order/status/add","comments":"","position":{"x":-376.0,"y":864.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/order/status/add","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1034c-0199-1000-f609-5ddf8e77ec88","instanceIdentifier":"aad6c291-34d2-361b-8830-deafd82fdbc8","name":"/api/payment/status/add","comments":"","position":{"x":-376.0,"y":312.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/status/add","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10354-0199-1000-8e0c-00862c18475d","instanceIdentifier":"c67ede23-94e8-3579-1976-47f720edabe6","name":"/api/payment/create","comments":"","position":{"x":1528.0,"y":24.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/create","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10351-0199-1000-3ef1-80670e6f634b","instanceIdentifier":"e7ff1a24-af07-3c0a-d913-89306fad0021","name":"FlowGlobalSettings","comments":"","position":{"x":-376.0,"y":-488.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"status_created_timezone":"Europe/Moscow","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","payment_status":"payment_created","mime.type":"application/json","source":"telegram-bot","Stateful Variables Initial Value":null,"status_created_at":"${now():format('yyyy-MM-dd hh:mm:ss')}","payment_method":"loyalty_points"},"propertyDescriptors":{"status_created_timezone":{"name":"status_created_timezone","displayName":"status_created_timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_status":{"name":"payment_status","displayName":"payment_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_created_at":{"name":"status_created_at","displayName":"status_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_method":{"name":"payment_method","displayName":"payment_method","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10349-0199-1000-9f7a-928b41d98afb","instanceIdentifier":"8e35c536-2875-3009-b9f2-0db60951d196","name":"ReplaceText","comments":"","position":{"x":896.0,"y":312.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"payment_short_id\":\"${payment_short_id}\",\n    \"order_short_id\":\"${order_short_id}\",\n    \"status_code\":\"${payment_status}\",\n    \"status_name\":\"${payment_status}\",\n    \"additional_info\":\"payment_method: ${payment_method}, currency: ${currency}\",\n    \"commentary\":\"${currency}\",\n    \"status_created_at\":\"${status_created_at}\",\n    \"status_created_timezone\":\"${status_created_timezone}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1034a-0199-1000-6780-89a64ac58db2","instanceIdentifier":"0423c5b1-7d56-3721-a37a-ca0e55c9e386","name":"UpdateAttribute","comments":"","position":{"x":3864.0,"y":-8.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"amount":"${total_points_amount}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","source":"automatization","Stateful Variables Initial Value":null,"payment_method":"loyalty_points"},"propertyDescriptors":{"amount":{"name":"amount","displayName":"amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_method":{"name":"payment_method","displayName":"payment_method","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10348-0199-1000-3f5c-19a9b30a80eb","instanceIdentifier":"0cda7c84-265f-31af-e257-b4f30697020e","name":"/api/order/search","comments":"","position":{"x":-376.0,"y":-256.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/search","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10350-0199-1000-da59-8d2eeb9762b5","instanceIdentifier":"9ac52c37-b3df-36d1-f0ca-acd012c9b90d","name":"EvaluateJsonPath","comments":"","position":{"x":-376.0,"y":584.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","status_code":"$.status_code","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_code":{"name":"status_code","displayName":"status_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10357-0199-1000-4611-367731840759","instanceIdentifier":"905bc608-178a-3303-f844-f7b1db188b0c","name":"ReplaceText","comments":"","position":{"x":896.0,"y":584.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\": \"${order_short_id}\",\n  \"order_status\": \"${status_code}\",\n  \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1034d-0199-1000-0f9b-c60aee5ad1b4","instanceIdentifier":"b3206eaf-ec70-3926-4ec6-f929a67142a7","name":"ReplaceText","comments":"","position":{"x":1528.0,"y":864.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"order_short_id\":\"${order_short_id}\",\n    \"status_code\":\"${payment_status}\",\n    \"status_name\":\"${payment_status}\",\n    \"additional_info\":\"payment_method: ${payment_method}, currency: ${currency}\",\n    \"commentary\":\"${currency}\",\n    \"status_created_at\":\"${now():format('yyyy-MM-dd hh:mm:ss')}\",\n    \"status_created_timezone\":\"Europe/Moscow\",\n    \"source\":\"automatization\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10353-0199-1000-44c2-06a69d839567","instanceIdentifier":"ddb46583-f07b-3143-c0d8-6af22363716c","name":"EvaluateJsonPath","comments":"","position":{"x":1528.0,"y":312.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","amount":"$.amount","Max String Length":"20 MB","Return Type":"auto-detect","payment_status":"$.payment_status","Null Value Representation":"empty string","external_id":"$.external_id","source":"$.source","Path Not Found Behavior":"ignore","payment_short_id":"$.payment_short_id","payment_long_id":"$.payment_long_id","currency":"$.currency","attributes":"$.attributes","payment_created_timezone":"$.payment_created_timezone","order_short_id":"$.order_short_id","payment_method":"$.payment_method","payment_created_at":"$.payment_created_at"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"amount":{"name":"amount","displayName":"amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_status":{"name":"payment_status","displayName":"payment_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"external_id":{"name":"external_id","displayName":"external_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_short_id":{"name":"payment_short_id","displayName":"payment_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_long_id":{"name":"payment_long_id","displayName":"payment_long_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"currency":{"name":"currency","displayName":"currency","identifiesControllerService":false,"sensitive":false,"dynamic":true},"attributes":{"name":"attributes","displayName":"attributes","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_created_timezone":{"name":"payment_created_timezone","displayName":"payment_created_timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_method":{"name":"payment_method","displayName":"payment_method","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_created_at":{"name":"payment_created_at","displayName":"payment_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10356-0199-1000-6283-e328b1de0c35","instanceIdentifier":"c91e02eb-4013-3192-fcd8-d889dba269af","name":"UpdateAttribute","comments":"","position":{"x":288.0,"y":24.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"amount":"${total_points_amount}","Delete Attributes Expression":null,"client_phone":"${client_phone}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"payment_created_at":"${now():format('yyyy-MM-dd hh:mm:ss.SSS')}"},"propertyDescriptors":{"amount":{"name":"amount","displayName":"amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_created_at":{"name":"payment_created_at","displayName":"payment_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10355-0199-1000-d09e-507041dc734e","instanceIdentifier":"6cc6643e-7f8d-34ce-5607-6cd39a427afe","name":"ReplaceText","comments":"","position":{"x":896.0,"y":24.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\" : \"${order_short_id}\",\n  \"payment_method\" : \"${payment_method}\",\n  \"payment_created_at\":\"${payment_created_at}\",\n  \"client_phone\":\"${client_phone}\",\n  \"amount\" : ${amount},\n  \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"}],"inputPorts":[{"identifier":"70b10358-0199-1000-0139-44366093bc70","instanceIdentifier":"1bde6aea-9966-3ad6-8f45-192ad3c3bc9c","name":"input","position":{"x":-320.0,"y":-616.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"}],"outputPorts":[{"identifier":"70b10359-0199-1000-c4bc-01e202cf63f0","instanceIdentifier":"32308bfd-4999-3b6c-1aa3-81af61ac67ed","name":"output","position":{"x":-320.0,"y":1120.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1035a-0199-1000-ee53-40c0784486eb","instanceIdentifier":"9f10ee33-2346-3016-7eb0-c84a7ac94209","name":"output_paymentcreated","position":{"x":753.5986439995238,"y":-387.019926985723},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"}],"connections":[{"identifier":"70b10364-0199-1000-d4b1-81e831569cd7","instanceIdentifier":"e40fc339-143f-39d9-6c8d-d67d15b17be2","name":"","source":{"id":"70b1034e-0199-1000-2a21-3203225982a7","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"/api/order/status/add","comments":"","instanceIdentifier":"4462a78c-679a-325f-29f6-a3494c1db245"},"destination":{"id":"70b10359-0199-1000-c4bc-01e202cf63f0","type":"OUTPUT_PORT","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"output","instanceIdentifier":"32308bfd-4999-3b6c-1aa3-81af61ac67ed"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10366-0199-1000-7cb7-f2917a226d1c","instanceIdentifier":"b25ed0f1-f02b-30f2-5814-b37ca4b7deb9","name":"","source":{"id":"70b10356-0199-1000-6283-e328b1de0c35","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"UpdateAttribute","comments":"","instanceIdentifier":"c91e02eb-4013-3192-fcd8-d889dba269af"},"destination":{"id":"70b10355-0199-1000-d09e-507041dc734e","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"ReplaceText","comments":"","instanceIdentifier":"6cc6643e-7f8d-34ce-5607-6cd39a427afe"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10367-0199-1000-0b61-93e89dc2cbb5","instanceIdentifier":"cc3afac8-f3c5-3d4a-fb37-096889dc6349","name":"","source":{"id":"70b10352-0199-1000-82b5-7cc3a68ad94f","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"RouteOnAttribute","comments":"","instanceIdentifier":"bbfaae9b-08b7-373e-a0b2-e9eb4ebfc074"},"destination":{"id":"70b1035a-0199-1000-ee53-40c0784486eb","type":"OUTPUT_PORT","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"output_paymentcreated","instanceIdentifier":"9f10ee33-2346-3016-7eb0-c84a7ac94209"},"labelIndex":0,"zIndex":0,"selectedRelationships":["alreadyPaid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10363-0199-1000-d14f-8996acd6aa40","instanceIdentifier":"76ac846e-cde1-3bde-1534-28c730038a13","name":"","source":{"id":"70b1034b-0199-1000-ce24-756a7290d3be","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"/api/order/update","comments":"","instanceIdentifier":"e57b4846-81c1-35d6-69d1-386d90bbefe3"},"destination":{"id":"70b1034d-0199-1000-0f9b-c60aee5ad1b4","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"ReplaceText","comments":"","instanceIdentifier":"b3206eaf-ec70-3926-4ec6-f929a67142a7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1036c-0199-1000-4e80-79530935d6f4","instanceIdentifier":"450a1107-fe31-3e82-6afa-052002901ac9","name":"","source":{"id":"70b10357-0199-1000-4611-367731840759","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"ReplaceText","comments":"","instanceIdentifier":"905bc608-178a-3303-f844-f7b1db188b0c"},"destination":{"id":"70b1034b-0199-1000-ce24-756a7290d3be","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"/api/order/update","comments":"","instanceIdentifier":"e57b4846-81c1-35d6-69d1-386d90bbefe3"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1036f-0199-1000-bab2-e8838e7d3471","instanceIdentifier":"2c4e37a5-10f7-3dc2-9fee-76553ada3bef","name":"","source":{"id":"70b1034c-0199-1000-f609-5ddf8e77ec88","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"/api/payment/status/add","comments":"","instanceIdentifier":"aad6c291-34d2-361b-8830-deafd82fdbc8"},"destination":{"id":"70b10350-0199-1000-da59-8d2eeb9762b5","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"9ac52c37-b3df-36d1-f0ca-acd012c9b90d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1036a-0199-1000-dd2b-d121631ddcc0","instanceIdentifier":"58303572-1c8f-3810-d09d-4d831d052760","name":"","source":{"id":"70b10349-0199-1000-9f7a-928b41d98afb","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"ReplaceText","comments":"","instanceIdentifier":"8e35c536-2875-3009-b9f2-0db60951d196"},"destination":{"id":"70b1034c-0199-1000-f609-5ddf8e77ec88","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"/api/payment/status/add","comments":"","instanceIdentifier":"aad6c291-34d2-361b-8830-deafd82fdbc8"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10369-0199-1000-77b8-d507a7294ab1","instanceIdentifier":"96751f81-dc96-344b-9b9c-72dca40ba224","name":"","source":{"id":"70b10352-0199-1000-82b5-7cc3a68ad94f","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"RouteOnAttribute","comments":"","instanceIdentifier":"bbfaae9b-08b7-373e-a0b2-e9eb4ebfc074"},"destination":{"id":"70b10356-0199-1000-6283-e328b1de0c35","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"UpdateAttribute","comments":"","instanceIdentifier":"c91e02eb-4013-3192-fcd8-d889dba269af"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10361-0199-1000-58f6-2c8dab7662ff","instanceIdentifier":"9a129969-15ae-3d3a-aed9-97e857bec0d6","name":"","source":{"id":"70b10348-0199-1000-3f5c-19a9b30a80eb","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"/api/order/search","comments":"","instanceIdentifier":"0cda7c84-265f-31af-e257-b4f30697020e"},"destination":{"id":"70b1034f-0199-1000-619f-0b7388ab98ba","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"ba965ae0-d07f-3de8-b365-3361247c4017"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1036b-0199-1000-6045-43541bac99a1","instanceIdentifier":"2b7f6bfe-36df-30ad-d228-d500fa32fb3b","name":"","source":{"id":"70b1034f-0199-1000-619f-0b7388ab98ba","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"ba965ae0-d07f-3de8-b365-3361247c4017"},"destination":{"id":"70b10352-0199-1000-82b5-7cc3a68ad94f","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"RouteOnAttribute","comments":"","instanceIdentifier":"bbfaae9b-08b7-373e-a0b2-e9eb4ebfc074"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1036e-0199-1000-1dbc-05eab21b5807","instanceIdentifier":"dda59279-1eb2-3cf7-9af9-66839264182d","name":"","source":{"id":"70b10354-0199-1000-8e0c-00862c18475d","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"/api/payment/create","comments":"","instanceIdentifier":"c67ede23-94e8-3579-1976-47f720edabe6"},"destination":{"id":"70b10353-0199-1000-44c2-06a69d839567","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"ddb46583-f07b-3143-c0d8-6af22363716c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10371-0199-1000-b033-b8a232ef65c7","instanceIdentifier":"4ab62b45-966a-3639-c38f-91ddb3c8fddc","name":"","source":{"id":"70b10353-0199-1000-44c2-06a69d839567","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"ddb46583-f07b-3143-c0d8-6af22363716c"},"destination":{"id":"70b10349-0199-1000-9f7a-928b41d98afb","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"ReplaceText","comments":"","instanceIdentifier":"8e35c536-2875-3009-b9f2-0db60951d196"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10362-0199-1000-6a75-c90ce1ebacb7","instanceIdentifier":"1cef9608-5978-3dbb-1236-f49d52c6c6cf","name":"","source":{"id":"70b1034d-0199-1000-0f9b-c60aee5ad1b4","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"ReplaceText","comments":"","instanceIdentifier":"b3206eaf-ec70-3926-4ec6-f929a67142a7"},"destination":{"id":"70b1034e-0199-1000-2a21-3203225982a7","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"/api/order/status/add","comments":"","instanceIdentifier":"4462a78c-679a-325f-29f6-a3494c1db245"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1036d-0199-1000-72fb-36519fc83e18","instanceIdentifier":"dc88ce61-fa1d-3af0-3bf2-2f1e436944de","name":"","source":{"id":"70b10358-0199-1000-0139-44366093bc70","type":"INPUT_PORT","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"input","instanceIdentifier":"1bde6aea-9966-3ad6-8f45-192ad3c3bc9c"},"destination":{"id":"70b10351-0199-1000-3ef1-80670e6f634b","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"FlowGlobalSettings","comments":"","instanceIdentifier":"e7ff1a24-af07-3c0a-d913-89306fad0021"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10370-0199-1000-9cd0-23b653192c1c","instanceIdentifier":"a3237ab3-cd49-394f-e1c0-b1ff28061bba","name":"","source":{"id":"70b10351-0199-1000-3ef1-80670e6f634b","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"FlowGlobalSettings","comments":"","instanceIdentifier":"e7ff1a24-af07-3c0a-d913-89306fad0021"},"destination":{"id":"70b10348-0199-1000-3f5c-19a9b30a80eb","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"/api/order/search","comments":"","instanceIdentifier":"0cda7c84-265f-31af-e257-b4f30697020e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10365-0199-1000-d2aa-47408fae0e6a","instanceIdentifier":"ae0c2568-488d-3bc4-7dd2-1d8b1e4e00f7","name":"","source":{"id":"70b10355-0199-1000-d09e-507041dc734e","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"ReplaceText","comments":"","instanceIdentifier":"6cc6643e-7f8d-34ce-5607-6cd39a427afe"},"destination":{"id":"70b10354-0199-1000-8e0c-00862c18475d","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"/api/payment/create","comments":"","instanceIdentifier":"c67ede23-94e8-3579-1976-47f720edabe6"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10368-0199-1000-15bf-52184240b5be","instanceIdentifier":"9fe65172-5dff-3644-e4c4-f2d57025ee6a","name":"","source":{"id":"70b10350-0199-1000-da59-8d2eeb9762b5","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"9ac52c37-b3df-36d1-f0ca-acd012c9b90d"},"destination":{"id":"70b10357-0199-1000-4611-367731840759","type":"PROCESSOR","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"ReplaceText","comments":"","instanceIdentifier":"905bc608-178a-3303-f844-f7b1db188b0c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"}],"labels":[{"identifier":"70b1035c-0199-1000-f5fb-9b41a64683fa","instanceIdentifier":"b7d4350d-82f4-3f02-29a5-b6f70536f4bc","position":{"x":-408.0,"y":-304.0},"label":"[15-09-2025 . ]  ","zIndex":0,"width":440.0,"height":208.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1035d-0199-1000-c03a-a72e88890b7f","instanceIdentifier":"0985ad02-9ecc-3de0-2453-f99abbde7d48","position":{"x":-408.0,"y":544.0},"label":"[15-09-2025 . ]   ","zIndex":0,"width":2352.0,"height":208.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1035b-0199-1000-67ad-dfa79ac702dc","instanceIdentifier":"cd014023-9c37-3a1b-457b-cccef3b21298","position":{"x":-408.0,"y":264.0},"label":"[15-09-2025 . ]   ","zIndex":0,"width":2352.0,"height":208.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1035e-0199-1000-3661-8b2f24985a7e","instanceIdentifier":"3448fef6-3a00-359b-dab4-c901b808bb7d","position":{"x":-408.0,"y":-16.0},"label":"[15-09-2025 . ]     ","zIndex":0,"width":2352.0,"height":208.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b1035f-0199-1000-3c2b-22957f7b15a7","instanceIdentifier":"803976f3-d9fb-358e-7144-c2554db318b2","position":{"x":-8.0,"y":-488.0},"label":"[15-09-2025 . ] \npayment_method = loyalty_points\nsource = telegram-bot\nmime.type = application/json\nstatus_created_at\nstatus_created_timezone\n","zIndex":0,"width":264.0,"height":128.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"},{"identifier":"70b10360-0199-1000-f023-ff884b6cd402","instanceIdentifier":"65a9d259-1ab8-33d2-d07c-922920fa1ed1","position":{"x":-400.0,"y":808.0},"label":"[15-09-2025 . ]   ","zIndex":0,"width":2352.0,"height":208.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10347-0199-1000-f8a7-906088f9a153"}],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e","instanceIdentifier":"829962ac-a8d9-3ac7-1363-a5099af7a3ee","name":"Order-Create-ProxyAPI","comments":"","position":{"x":8.0,"y":-192.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b1039e-0199-1000-fce9-57272b14b860","instanceIdentifier":"74f3dd1b-5e18-3b7d-2a8b-2cd487ce4f4b","name":"/api/order/create","comments":"","position":{"x":-824.0,"y":512.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/create","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103a0-0199-1000-1fa8-e086be7f9f70","instanceIdentifier":"159b4c0c-cd2e-3178-5ed2-117594ea7e6f","name":"api/store/search","comments":"","position":{"x":-232.0,"y":-96.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/store/search","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103a2-0199-1000-4ef0-c63a0c3feaa4","instanceIdentifier":"77051481-a015-31fb-2d30-c32afc67fb47","name":"EvaluateJsonPath","comments":"","position":{"x":-824.0,"y":-96.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"store_code":"$.store_code","Destination":"flowfile-attribute","contact_phone":"$.contact_phone","Max String Length":"20 MB","Return Type":"auto-detect","store_name":"$.store_name","store_address":"$.store_address","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"store_code":{"name":"store_code","displayName":"store_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"contact_phone":{"name":"contact_phone","displayName":"contact_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"store_name":{"name":"store_name","displayName":"store_name","identifiesControllerService":false,"sensitive":false,"dynamic":true},"store_address":{"name":"store_address","displayName":"store_address","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103a1-0199-1000-d5e4-1a5a671d21ef","instanceIdentifier":"8c49b94d-a009-378b-15ef-9427d2fe0861","name":"UpdateAttribute","comments":"","position":{"x":-824.0,"y":192.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"store_code":"${store_code}","quantity":"1","total_points_amount":"3000","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","item_id":"BeautyRoom","points_line_amount":"3000","timezone":"Europe/Moscow","item_name":" ","source":"telegram-bot","creation_date":"${now():format('yyyy-MM-dd hh:mm:ss.SSS')}","Stateful Variables Initial Value":null,"Delete Attributes Expression":null,"storeAddress":"${store_address}","storeName":"${store_name}","appointment_timezone":"Europe/Moscow","contactPhone":"${contact_phone}","points_amount":"3000","commentary":""},"propertyDescriptors":{"store_code":{"name":"store_code","displayName":"store_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"quantity":{"name":"quantity","displayName":"quantity","identifiesControllerService":false,"sensitive":false,"dynamic":true},"total_points_amount":{"name":"total_points_amount","displayName":"total_points_amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"item_id":{"name":"item_id","displayName":"item_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"points_line_amount":{"name":"points_line_amount","displayName":"points_line_amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"timezone":{"name":"timezone","displayName":"timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"item_name":{"name":"item_name","displayName":"item_name","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"creation_date":{"name":"creation_date","displayName":"creation_date","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"storeAddress":{"name":"storeAddress","displayName":"storeAddress","identifiesControllerService":false,"sensitive":false,"dynamic":true},"storeName":{"name":"storeName","displayName":"storeName","identifiesControllerService":false,"sensitive":false,"dynamic":true},"appointment_timezone":{"name":"appointment_timezone","displayName":"appointment_timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"contactPhone":{"name":"contactPhone","displayName":"contactPhone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"points_amount":{"name":"points_amount","displayName":"points_amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"commentary":{"name":"commentary","displayName":"commentary","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b1039d-0199-1000-affc-931bd8f85941","instanceIdentifier":"55d9ff27-deaf-312e-bc3f-4538366020ab","name":"EvaluateJsonPath","comments":"","position":{"x":432.0,"y":512.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","client_phone":"$.client_phone","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b1039b-0199-1000-64f7-7638fbd57695","instanceIdentifier":"9ae51473-f049-31e3-b211-a7ed5facaa5f","name":"/api/client/info","comments":"","position":{"x":432.0,"y":208.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/client/info","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103a3-0199-1000-72a1-f5a61a0d9337","instanceIdentifier":"dd88b042-841b-3150-f2b2-4515b59a30f3","name":"EvaluateJsonPath","comments":"","position":{"x":432.0,"y":-432.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","appointment":"$.appointment","loyalty_card":"$.loyalty_card","seller_id":"$.seller_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"appointment":{"name":"appointment","displayName":"appointment","identifiesControllerService":false,"sensitive":false,"dynamic":true},"loyalty_card":{"name":"loyalty_card","displayName":"loyalty_card","identifiesControllerService":false,"sensitive":false,"dynamic":true},"seller_id":{"name":"seller_id","displayName":"seller_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b1039c-0199-1000-fe38-f49d83f64959","instanceIdentifier":"086b3a0b-d44a-3671-d8f9-c3fa799e408b","name":"ReplaceText","comments":"","position":{"x":432.0,"y":-96.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"seller_id\":\"${seller_id}\"\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103a4-0199-1000-a8f0-3dc9a4310eac","instanceIdentifier":"27377797-a6c4-36f2-29f9-30bc6bdfa14f","name":"ReplaceText","comments":"","position":{"x":-192.0,"y":208.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"loyalty_card\": \"${loyalty_card}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b1039f-0199-1000-77f6-18e01bfeebb9","instanceIdentifier":"d6e663d4-6475-339b-fba7-da0033b000c2","name":"ReplaceText","comments":"","position":{"x":-192.0,"y":512.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"creation_date\": \"${creation_date}\",\n    \"timezone\": \"${timezone}\",\n    \"seller_id\": \"${seller_id}\",\n    \"loyalty_card\": \"${loyalty_card}\",\n\t\"client_phone\":\"${client_phone}\",\n    \"store_code\": \"${store_code}\",\n\t\"store_name\": \"${storeName}\",\n\t\"contact_phone\": \"${contact_phone}\",\n\t\"store_address\": \"${storeAddress}\",\n    \"source\":\"${source}\",\n    \"commentary\":\"${appointment}\",\n    \"order_lines\": [\n        {\n            \"item_id\": \"${item_id}\",\n            \"item_name\": \"${item_name}\",\n            \"quantity\": ${quantity},\n            \"points_amount\": ${points_amount},\n            \"points_line_amount\": ${points_line_amount},\n            \"attributes\": [\n                {\n                    \"key\": \"appointment\",\n                    \"value\": \"${appointment}\"\n                },\n                {\n                    \"key\": \"appointment_timezone\",\n                    \"value\": \"${timezone}\"\n                },\n                {\n                    \"key\": \"storeName\",\n                    \"value\": \"${storeName}\"\n                },\n                {\n                    \"key\": \"storeAddress\",\n                    \"value\": \"${storeAddress}\"\n                },\n                {\n                    \"key\": \"contactPhone\",\n                    \"value\": \"${contactPhone}\"\n                }\n            ]\n        }\n    ],\n    \"total_points_amount\": ${total_points_amount},\n    \"attributes\": [\n        {\n            \"key\": \"order_source\",\n            \"value\": \"${source}\"\n        }\n    ]\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"}],"inputPorts":[{"identifier":"70b103a5-0199-1000-b111-50d8205d5142","instanceIdentifier":"29905aa4-e805-346c-2f0b-74b2393d429d","name":"input","position":{"x":488.0,"y":-664.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"}],"outputPorts":[{"identifier":"70b103a6-0199-1000-11ac-847b912332e9","instanceIdentifier":"846af43c-4dad-33d8-1e07-a0c81f95a4bf","name":"output","position":{"x":-768.0,"y":840.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"}],"connections":[{"identifier":"70b103aa-0199-1000-757d-f0c82f789a5d","instanceIdentifier":"b798ff0b-78c2-35f3-bccb-ec721109bceb","name":"","source":{"id":"70b1039f-0199-1000-77f6-18e01bfeebb9","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"ReplaceText","comments":"","instanceIdentifier":"d6e663d4-6475-339b-fba7-da0033b000c2"},"destination":{"id":"70b1039e-0199-1000-fce9-57272b14b860","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"/api/order/create","comments":"","instanceIdentifier":"74f3dd1b-5e18-3b7d-2a8b-2cd487ce4f4b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103b4-0199-1000-0890-ff97ed8777e5","instanceIdentifier":"8e335384-d9ac-3bb9-f894-9753b3c7aaf1","name":"","source":{"id":"70b1039e-0199-1000-fce9-57272b14b860","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"/api/order/create","comments":"","instanceIdentifier":"74f3dd1b-5e18-3b7d-2a8b-2cd487ce4f4b"},"destination":{"id":"70b103a6-0199-1000-11ac-847b912332e9","type":"OUTPUT_PORT","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"output","instanceIdentifier":"846af43c-4dad-33d8-1e07-a0c81f95a4bf"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103ab-0199-1000-f20b-b201f141e021","instanceIdentifier":"cdf1dd1c-ae82-3f14-06e3-f14602e51387","name":"","source":{"id":"70b103a1-0199-1000-d5e4-1a5a671d21ef","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"UpdateAttribute","comments":"","instanceIdentifier":"8c49b94d-a009-378b-15ef-9427d2fe0861"},"destination":{"id":"70b103a4-0199-1000-a8f0-3dc9a4310eac","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"ReplaceText","comments":"","instanceIdentifier":"27377797-a6c4-36f2-29f9-30bc6bdfa14f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103b2-0199-1000-b20a-731a52c60d70","instanceIdentifier":"2b8fe32c-8f08-3688-fa38-9129284ecba9","name":"","source":{"id":"70b103a4-0199-1000-a8f0-3dc9a4310eac","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"ReplaceText","comments":"","instanceIdentifier":"27377797-a6c4-36f2-29f9-30bc6bdfa14f"},"destination":{"id":"70b1039b-0199-1000-64f7-7638fbd57695","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"/api/client/info","comments":"","instanceIdentifier":"9ae51473-f049-31e3-b211-a7ed5facaa5f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103ad-0199-1000-e58a-2315da9a3634","instanceIdentifier":"d55e0aef-fb06-36a9-0f0e-38b8449118b1","name":"","source":{"id":"70b1039b-0199-1000-64f7-7638fbd57695","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"/api/client/info","comments":"","instanceIdentifier":"9ae51473-f049-31e3-b211-a7ed5facaa5f"},"destination":{"id":"70b1039d-0199-1000-affc-931bd8f85941","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"55d9ff27-deaf-312e-bc3f-4538366020ab"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103b3-0199-1000-a08e-a64beb58ccca","instanceIdentifier":"96eb42de-ec07-3ec6-a75c-0766b28c72a1","name":"","source":{"id":"70b1039c-0199-1000-fe38-f49d83f64959","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"ReplaceText","comments":"","instanceIdentifier":"086b3a0b-d44a-3671-d8f9-c3fa799e408b"},"destination":{"id":"70b103a0-0199-1000-1fa8-e086be7f9f70","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"api/store/search","comments":"","instanceIdentifier":"159b4c0c-cd2e-3178-5ed2-117594ea7e6f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103ac-0199-1000-71da-8c45ab71f9fd","instanceIdentifier":"e9597032-a1a0-3957-53d5-b5f17b84b158","name":"","source":{"id":"70b103a3-0199-1000-72a1-f5a61a0d9337","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"dd88b042-841b-3150-f2b2-4515b59a30f3"},"destination":{"id":"70b1039c-0199-1000-fe38-f49d83f64959","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"ReplaceText","comments":"","instanceIdentifier":"086b3a0b-d44a-3671-d8f9-c3fa799e408b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103b0-0199-1000-5c81-c0c3ff75c498","instanceIdentifier":"a63c99df-0ae5-3cfd-e2aa-34b0b9b194a0","name":"","source":{"id":"70b103a0-0199-1000-1fa8-e086be7f9f70","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"api/store/search","comments":"","instanceIdentifier":"159b4c0c-cd2e-3178-5ed2-117594ea7e6f"},"destination":{"id":"70b103a2-0199-1000-4ef0-c63a0c3feaa4","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"77051481-a015-31fb-2d30-c32afc67fb47"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103b1-0199-1000-7e82-75949e424b83","instanceIdentifier":"edec9a4f-ef8d-3d8c-ee9d-1952bb250856","name":"","source":{"id":"70b1039d-0199-1000-affc-931bd8f85941","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"55d9ff27-deaf-312e-bc3f-4538366020ab"},"destination":{"id":"70b1039f-0199-1000-77f6-18e01bfeebb9","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"ReplaceText","comments":"","instanceIdentifier":"d6e663d4-6475-339b-fba7-da0033b000c2"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103af-0199-1000-b91f-0b09a89f7e03","instanceIdentifier":"f187807b-271b-3cf2-625a-832143df5c22","name":"","source":{"id":"70b103a2-0199-1000-4ef0-c63a0c3feaa4","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"77051481-a015-31fb-2d30-c32afc67fb47"},"destination":{"id":"70b103a1-0199-1000-d5e4-1a5a671d21ef","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"UpdateAttribute","comments":"","instanceIdentifier":"8c49b94d-a009-378b-15ef-9427d2fe0861"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103ae-0199-1000-fe47-1a73f895f4e5","instanceIdentifier":"21ec487c-6229-3505-9957-1e637cb45f3d","name":"","source":{"id":"70b103a5-0199-1000-b111-50d8205d5142","type":"INPUT_PORT","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"input","instanceIdentifier":"29905aa4-e805-346c-2f0b-74b2393d429d"},"destination":{"id":"70b103a3-0199-1000-72a1-f5a61a0d9337","type":"PROCESSOR","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"dd88b042-841b-3150-f2b2-4515b59a30f3"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"}],"labels":[{"identifier":"70b103a7-0199-1000-a3f3-3aa7943ed602","instanceIdentifier":"057af990-c319-3014-a5ba-67922ae65a09","position":{"x":-248.0,"y":168.0},"label":"[15-09-2025 . ]    loyalty_card","zIndex":0,"width":1064.0,"height":192.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103a8-0199-1000-a3eb-dfbe60609157","instanceIdentifier":"669345c9-b222-3bf3-f895-74d3b2890bc7","position":{"x":-2144.0,"y":-552.0},"label":"[15-09-2025 . ]     ,       ","zIndex":0,"width":392.0,"height":120.0,"style":{"background-color":"#ff4d00","font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"},{"identifier":"70b103a9-0199-1000-5d09-f8f1d2fdd7b3","instanceIdentifier":"1ef8681c-8e2b-37a1-8b8b-c24b63922191","position":{"x":-864.0,"y":472.0},"label":"[15-09-2025 . ]  ","zIndex":0,"width":1688.0,"height":208.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1039a-0199-1000-d8b7-9dd48bd7236e"}],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"}],"remoteProcessGroups":[],"processors":[{"identifier":"70b10343-0199-1000-7e8f-ff925ab563ce","instanceIdentifier":"c71ac40d-3b69-35ce-7279-906dad34392f","name":"Global Settings","comments":"","position":{"x":24.0,"y":-744.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","port":"8089","host":"http://10.160.20.73","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"port":{"name":"port","displayName":"port","identifiesControllerService":false,"sensitive":false,"dynamic":true},"host":{"name":"host","displayName":"host","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b10342-0199-1000-e3a0-1395555e7bca","instanceIdentifier":"993ac315-f8f9-3dcb-ff2e-9405275a1ed4","name":"HandleHttpRequest","comments":"","position":{"x":24.0,"y":-976.0},"type":"org.apache.nifi.processors.standard.HandleHttpRequest","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"multipart-request-max-size":"1 MB","parameters-to-attributes":null,"Allow POST":"true","Hostname":null,"Default URL Character Set":"UTF-8","Allow DELETE":"false","Request Header Maximum Size":"8 KB","Maximum Threads":"200","HTTP Protocols":"HTTP_1_1","Additional HTTP Methods":null,"container-queue-size":"50","HTTP Context Map":"3bb413ad-0741-318b-811c-2c3ff50e9b97","multipart-read-buffer-size":"512 KB","SSL Context Service":null,"Allow OPTIONS":"false","Allowed Paths":"/api/proxy/order/create|/api/proxy/payment/create|/api/proxy/payment/async/confirm/update","Allow GET":"true","Allow HEAD":"false","Listening Port":"8099","Client Authentication":"No Authentication","Allow PUT":"false"},"propertyDescriptors":{"multipart-request-max-size":{"name":"multipart-request-max-size","displayName":"Multipart Request Max Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"parameters-to-attributes":{"name":"parameters-to-attributes","displayName":"Parameters to Attributes List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow POST":{"name":"Allow POST","displayName":"Allow POST","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Hostname":{"name":"Hostname","displayName":"Hostname","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Default URL Character Set":{"name":"Default URL Character Set","displayName":"Default URL Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow DELETE":{"name":"Allow DELETE","displayName":"Allow DELETE","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Maximum Size":{"name":"Request Header Maximum Size","displayName":"Request Header Maximum Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Threads":{"name":"Maximum Threads","displayName":"Maximum Threads","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Protocols":{"name":"HTTP Protocols","displayName":"HTTP Protocols","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Additional HTTP Methods":{"name":"Additional HTTP Methods","displayName":"Additional HTTP Methods","identifiesControllerService":false,"sensitive":false,"dynamic":false},"container-queue-size":{"name":"container-queue-size","displayName":"Container Queue Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"multipart-read-buffer-size":{"name":"multipart-read-buffer-size","displayName":"Multipart Read Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Allow OPTIONS":{"name":"Allow OPTIONS","displayName":"Allow OPTIONS","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allowed Paths":{"name":"Allowed Paths","displayName":"Allowed Paths","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow GET":{"name":"Allow GET","displayName":"Allow GET","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow HEAD":{"name":"Allow HEAD","displayName":"Allow HEAD","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Listening Port":{"name":"Listening Port","displayName":"Listening Port","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Client Authentication":{"name":"Client Authentication","displayName":"Client Authentication","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow PUT":{"name":"Allow PUT","displayName":"Allow PUT","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b10344-0199-1000-cf14-2d4c7ba48523","instanceIdentifier":"1ec3992a-49b0-3d9f-73bc-e67c39c9ee16","name":"RouteOnAttribute","comments":"","position":{"x":24.0,"y":-488.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Routing Strategy":"Route to Property name","proxy.payment.async.confirm.update":"${http.request.uri:contains('/api/proxy/payment/async/confirm/update')}","proxy.payment.create":"${http.request.uri:contains('/api/proxy/payment/create')}","proxy.order.create":"${http.request.uri:contains('/api/proxy/order/create')}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy.payment.async.confirm.update":{"name":"proxy.payment.async.confirm.update","displayName":"proxy.payment.async.confirm.update","identifiesControllerService":false,"sensitive":false,"dynamic":true},"proxy.payment.create":{"name":"proxy.payment.create","displayName":"proxy.payment.create","identifiesControllerService":false,"sensitive":false,"dynamic":true},"proxy.order.create":{"name":"proxy.order.create","displayName":"proxy.order.create","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b10341-0199-1000-0de9-f38cadb8b1d3","instanceIdentifier":"98e8913e-7e8d-3de6-741d-e908fd48998c","name":"UpdateAttribute","comments":"","position":{"x":24.0,"y":256.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b1033f-0199-1000-dd37-0598a1b562b8","instanceIdentifier":"22988eb4-0c5a-3b59-1619-50fcf1594cbd","name":"HandleHttpResponse","comments":"","position":{"x":24.0,"y":504.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"HTTP Context Map":"3bb413ad-0741-318b-811c-2c3ff50e9b97","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200","Content-Type":"${mime.type}"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b10340-0199-1000-5a40-0c901d252d63","instanceIdentifier":"1cd427ec-c561-3e96-0e75-3c95100de5af","name":"InvokeHTTP","comments":"","position":{"x":-648.0,"y":240.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/search","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b103bf-0199-1000-e438-87c74c26c37a","instanceIdentifier":"140140e6-530a-3772-e044-bc99166b9e5c","name":"","source":{"id":"70b10340-0199-1000-5a40-0c901d252d63","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"InvokeHTTP","comments":"","instanceIdentifier":"1cd427ec-c561-3e96-0e75-3c95100de5af"},"destination":{"id":"70b10341-0199-1000-0de9-f38cadb8b1d3","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"UpdateAttribute","comments":"","instanceIdentifier":"98e8913e-7e8d-3de6-741d-e908fd48998c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103c1-0199-1000-3200-f36419275c50","instanceIdentifier":"e4c5c2b6-92fa-3dcb-19df-a170ae1d2fad","name":"","source":{"id":"70b10345-0199-1000-aff6-e97fa22dadd8","type":"FUNNEL","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"Funnel","comments":"","instanceIdentifier":"ff24d54a-ffe3-342a-6f91-10318044999e"},"destination":{"id":"70b10341-0199-1000-0de9-f38cadb8b1d3","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"UpdateAttribute","comments":"","instanceIdentifier":"98e8913e-7e8d-3de6-741d-e908fd48998c"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103b5-0199-1000-6184-c03c479fa56e","instanceIdentifier":"8b29eca7-1b2c-3aa9-9482-c1c8ac75ff7e","name":"","source":{"id":"70b103a6-0199-1000-11ac-847b912332e9","type":"OUTPUT_PORT","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"output","instanceIdentifier":"846af43c-4dad-33d8-1e07-a0c81f95a4bf"},"destination":{"id":"70b10345-0199-1000-aff6-e97fa22dadd8","type":"FUNNEL","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"Funnel","comments":"","instanceIdentifier":"ff24d54a-ffe3-342a-6f91-10318044999e"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103b7-0199-1000-7692-05a824aefa4d","instanceIdentifier":"bdd77794-9287-30e1-7f2f-27e80dd09f53","name":"","source":{"id":"70b10359-0199-1000-c4bc-01e202cf63f0","type":"OUTPUT_PORT","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"output","instanceIdentifier":"32308bfd-4999-3b6c-1aa3-81af61ac67ed"},"destination":{"id":"70b10345-0199-1000-aff6-e97fa22dadd8","type":"FUNNEL","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"Funnel","comments":"","instanceIdentifier":"ff24d54a-ffe3-342a-6f91-10318044999e"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103bd-0199-1000-a373-ec9040b7b11b","instanceIdentifier":"fd581451-603a-3eff-a6b6-e7c69536f06e","name":"","source":{"id":"70b10385-0199-1000-681e-4d508d0821e0","type":"OUTPUT_PORT","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"output_confirmed","instanceIdentifier":"796e5134-7c98-3a14-68dd-4d998f54fd40"},"destination":{"id":"70b10340-0199-1000-5a40-0c901d252d63","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"InvokeHTTP","comments":"","instanceIdentifier":"1cd427ec-c561-3e96-0e75-3c95100de5af"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103c0-0199-1000-5fc3-47fee480cab5","instanceIdentifier":"2ed5636a-d4c4-31dc-d7e0-76a548d4f84c","name":"","source":{"id":"70b10386-0199-1000-840e-2630670cb979","type":"OUTPUT_PORT","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"output","instanceIdentifier":"1e9e202c-1d41-37e6-1751-c6286dde7878"},"destination":{"id":"70b10345-0199-1000-aff6-e97fa22dadd8","type":"FUNNEL","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"Funnel","comments":"","instanceIdentifier":"ff24d54a-ffe3-342a-6f91-10318044999e"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103bc-0199-1000-313b-0c4dac739dce","instanceIdentifier":"cf7efe43-a244-3c16-fd24-af9c4abbb56c","name":"","source":{"id":"70b1035a-0199-1000-ee53-40c0784486eb","type":"OUTPUT_PORT","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"output_paymentcreated","instanceIdentifier":"9f10ee33-2346-3016-7eb0-c84a7ac94209"},"destination":{"id":"70b10340-0199-1000-5a40-0c901d252d63","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"InvokeHTTP","comments":"","instanceIdentifier":"1cd427ec-c561-3e96-0e75-3c95100de5af"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103b8-0199-1000-1cb4-dbb8f3ad940b","instanceIdentifier":"3ac83dea-71f0-3d2c-5528-b645d485b15e","name":"","source":{"id":"70b10344-0199-1000-cf14-2d4c7ba48523","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"RouteOnAttribute","comments":"","instanceIdentifier":"1ec3992a-49b0-3d9f-73bc-e67c39c9ee16"},"destination":{"id":"70b10384-0199-1000-51f0-99f28becff85","type":"INPUT_PORT","groupId":"70b10372-0199-1000-63e4-804d8b3d52b2","name":"input","instanceIdentifier":"99552cfd-8a35-3561-40fd-5c034d30a4d3"},"labelIndex":0,"zIndex":0,"selectedRelationships":["proxy.payment.async.confirm.update"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103ba-0199-1000-1512-7a4db5e262be","instanceIdentifier":"69e9ed6e-930e-3cd8-58f5-aa4be817ab09","name":"","source":{"id":"70b10343-0199-1000-7e8f-ff925ab563ce","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"Global Settings","comments":"","instanceIdentifier":"c71ac40d-3b69-35ce-7279-906dad34392f"},"destination":{"id":"70b10344-0199-1000-cf14-2d4c7ba48523","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"RouteOnAttribute","comments":"","instanceIdentifier":"1ec3992a-49b0-3d9f-73bc-e67c39c9ee16"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103be-0199-1000-d1da-ea38bdaabc34","instanceIdentifier":"fc52fef4-d9ba-30f8-9e95-14a951579871","name":"","source":{"id":"70b10344-0199-1000-cf14-2d4c7ba48523","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"RouteOnAttribute","comments":"","instanceIdentifier":"1ec3992a-49b0-3d9f-73bc-e67c39c9ee16"},"destination":{"id":"70b10358-0199-1000-0139-44366093bc70","type":"INPUT_PORT","groupId":"70b10347-0199-1000-f8a7-906088f9a153","name":"input","instanceIdentifier":"1bde6aea-9966-3ad6-8f45-192ad3c3bc9c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["proxy.payment.create"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103b6-0199-1000-707e-a0934f24480f","instanceIdentifier":"7e2c6c1f-3ad8-3a52-7120-18b87b6ebe3b","name":"","source":{"id":"70b10342-0199-1000-e3a0-1395555e7bca","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"HandleHttpRequest","comments":"","instanceIdentifier":"993ac315-f8f9-3dcb-ff2e-9405275a1ed4"},"destination":{"id":"70b10343-0199-1000-7e8f-ff925ab563ce","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"Global Settings","comments":"","instanceIdentifier":"c71ac40d-3b69-35ce-7279-906dad34392f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103bb-0199-1000-89b6-48631dd29267","instanceIdentifier":"846af48e-5135-3a80-ed09-915f0d496f24","name":"","source":{"id":"70b10341-0199-1000-0de9-f38cadb8b1d3","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"UpdateAttribute","comments":"","instanceIdentifier":"98e8913e-7e8d-3de6-741d-e908fd48998c"},"destination":{"id":"70b1033f-0199-1000-dd37-0598a1b562b8","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"HandleHttpResponse","comments":"","instanceIdentifier":"22988eb4-0c5a-3b59-1619-50fcf1594cbd"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"},{"identifier":"70b103b9-0199-1000-a834-49648f43d1aa","instanceIdentifier":"88ae11cd-8d08-322f-b3f1-6813c7f4bf28","name":"","source":{"id":"70b10344-0199-1000-cf14-2d4c7ba48523","type":"PROCESSOR","groupId":"70b1033e-0199-1000-0ca2-3a593da7d89a","name":"RouteOnAttribute","comments":"","instanceIdentifier":"1ec3992a-49b0-3d9f-73bc-e67c39c9ee16"},"destination":{"id":"70b103a5-0199-1000-b111-50d8205d5142","type":"INPUT_PORT","groupId":"70b1039a-0199-1000-d8b7-9dd48bd7236e","name":"input","instanceIdentifier":"29905aa4-e805-346c-2f0b-74b2393d429d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["proxy.order.create"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"}],"labels":[{"identifier":"70b10346-0199-1000-cee3-e3796b59348f","instanceIdentifier":"374640e1-9098-37d3-1fac-179771ad490a","position":{"x":320.0,"y":-264.0},"label":"[15-09-2025 . ]     ,       ","zIndex":0,"width":424.0,"height":136.0,"style":{"background-color":"#f01414","font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"}],"funnels":[{"identifier":"70b10345-0199-1000-aff6-e97fa22dadd8","instanceIdentifier":"ff24d54a-ffe3-342a-6f91-10318044999e","position":{"x":176.0,"y":136.0},"componentType":"FUNNEL","groupIdentifier":"70b1033e-0199-1000-0ca2-3a593da7d89a"}],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1033c-0199-1000-cfe8-f4a9294041cc"},{"identifier":"70b104c1-0199-1000-1d5c-859c677966df","instanceIdentifier":"67c13d2b-d2a8-3f57-6507-80963486d95b","name":"LoyaltyOrders-API","comments":"","position":{"x":-624.0,"y":-192.0},"processGroups":[{"identifier":"70b10517-0199-1000-fb42-182075a22a07","instanceIdentifier":"c1c5fe05-1cf7-3582-1bd1-7da9d8361956","name":"order.update","comments":"","position":{"x":-96.0,"y":352.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b1051c-0199-1000-42a9-1b9ba835bc17","instanceIdentifier":"044e2891-dd7a-3f0c-1435-fd6fc865075c","name":"ExecuteSQL","comments":"","position":{"x":856.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"UPDATE orders\nSET\n\torder_status = '${order_status}'\n\t,last_updated_by = '${source}'\nWHERE order_short_id = '${order_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b1051e-0199-1000-cd14-4a5ba7ac9af5","instanceIdentifier":"6d692c99-0324-3d81-398a-5881b4b5e8e3","name":"ConvertRecord","comments":"","position":{"x":1536.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b10519-0199-1000-3f3b-d2e3d00ac49a","instanceIdentifier":"08c460ca-0702-3de6-2c61-509d503cc617","name":"UpdateAttribute","comments":"","position":{"x":48.0,"y":96.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b1051b-0199-1000-190a-961eb581aa7d","instanceIdentifier":"bba045f5-7f75-3150-18bd-e42919d7e237","name":"EvaluateJsonPath","comments":"","position":{"x":48.0,"y":-184.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","order_status":"$.order_status","Max String Length":"20 MB","Return Type":"json","Null Value Representation":"empty string","source":"$.source","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_status":{"name":"order_status","displayName":"order_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b1051d-0199-1000-20a1-1f207a21c90e","instanceIdentifier":"c6193fde-3562-30d0-4dcf-7f3c88c100fd","name":"ExecuteSQL","comments":"","position":{"x":1536.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT\n\torder_short_id\n\t,order_status\n\t,order_created_at\n\t,updated_at\n\t,last_updated_by\nfrom orders\nwhere\n\torder_short_id = '${order_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b1051a-0199-1000-870e-acf5d10c485d","instanceIdentifier":"1c707522-15c6-3f69-469a-4fa052bb7915","name":"SplitJson","comments":"","position":{"x":856.0,"y":440.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"}],"inputPorts":[{"identifier":"70b1051f-0199-1000-ac5a-0cdb1104e9cc","instanceIdentifier":"c9ff70a3-d1be-32e5-6977-45e722b51a58","name":"input","position":{"x":104.0,"y":-376.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"}],"outputPorts":[{"identifier":"70b10520-0199-1000-897c-2e5cb9f5c519","instanceIdentifier":"f19afeb8-c80d-3be0-4756-43e405ead28f","name":"output","position":{"x":104.0,"y":808.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"}],"connections":[{"identifier":"70b10521-0199-1000-6956-8b6108db9440","instanceIdentifier":"d01fba2e-68e5-3b44-5ed6-d73d21ca4c6f","name":"","source":{"id":"70b1051c-0199-1000-42a9-1b9ba835bc17","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"ExecuteSQL","comments":"","instanceIdentifier":"044e2891-dd7a-3f0c-1435-fd6fc865075c"},"destination":{"id":"70b1051d-0199-1000-20a1-1f207a21c90e","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"ExecuteSQL","comments":"","instanceIdentifier":"c6193fde-3562-30d0-4dcf-7f3c88c100fd"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b10527-0199-1000-44b2-10aaadb583a4","instanceIdentifier":"e1a3bc87-2cb4-3a82-ba3d-55b914265bc6","name":"","source":{"id":"70b1051d-0199-1000-20a1-1f207a21c90e","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"ExecuteSQL","comments":"","instanceIdentifier":"c6193fde-3562-30d0-4dcf-7f3c88c100fd"},"destination":{"id":"70b1051e-0199-1000-cd14-4a5ba7ac9af5","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"ConvertRecord","comments":"","instanceIdentifier":"6d692c99-0324-3d81-398a-5881b4b5e8e3"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b10525-0199-1000-addb-62f595b59b76","instanceIdentifier":"f827424d-7d99-31da-7a9a-7e5facb99d67","name":"","source":{"id":"70b1051a-0199-1000-870e-acf5d10c485d","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"SplitJson","comments":"","instanceIdentifier":"1c707522-15c6-3f69-469a-4fa052bb7915"},"destination":{"id":"70b10520-0199-1000-897c-2e5cb9f5c519","type":"OUTPUT_PORT","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"output","instanceIdentifier":"f19afeb8-c80d-3be0-4756-43e405ead28f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b10524-0199-1000-56e7-76556d4894a6","instanceIdentifier":"06e2bd2c-2225-381e-8959-4f25c33918e8","name":"","source":{"id":"70b10519-0199-1000-3f3b-d2e3d00ac49a","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"UpdateAttribute","comments":"","instanceIdentifier":"08c460ca-0702-3de6-2c61-509d503cc617"},"destination":{"id":"70b1051c-0199-1000-42a9-1b9ba835bc17","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"ExecuteSQL","comments":"","instanceIdentifier":"044e2891-dd7a-3f0c-1435-fd6fc865075c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b10523-0199-1000-7342-9a20bba00d64","instanceIdentifier":"fe5e36b4-2ec4-352b-7a48-ba503e61b8b2","name":"","source":{"id":"70b1051e-0199-1000-cd14-4a5ba7ac9af5","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"ConvertRecord","comments":"","instanceIdentifier":"6d692c99-0324-3d81-398a-5881b4b5e8e3"},"destination":{"id":"70b1051a-0199-1000-870e-acf5d10c485d","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"SplitJson","comments":"","instanceIdentifier":"1c707522-15c6-3f69-469a-4fa052bb7915"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b10522-0199-1000-8cb6-d879041cd16c","instanceIdentifier":"c4c244ea-e897-392f-11af-f231de4cb8f1","name":"","source":{"id":"70b1051b-0199-1000-190a-961eb581aa7d","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"bba045f5-7f75-3150-18bd-e42919d7e237"},"destination":{"id":"70b10519-0199-1000-3f3b-d2e3d00ac49a","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"UpdateAttribute","comments":"","instanceIdentifier":"08c460ca-0702-3de6-2c61-509d503cc617"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"},{"identifier":"70b10526-0199-1000-3482-0eb544c2eef5","instanceIdentifier":"e976f08f-551a-3b49-3617-1a7b08040a54","name":"","source":{"id":"70b1051f-0199-1000-ac5a-0cdb1104e9cc","type":"INPUT_PORT","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"input","instanceIdentifier":"c9ff70a3-d1be-32e5-6977-45e722b51a58"},"destination":{"id":"70b1051b-0199-1000-190a-961eb581aa7d","type":"PROCESSOR","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"bba045f5-7f75-3150-18bd-e42919d7e237"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"70b10518-0199-1000-0aee-95c0f348b8ed","instanceIdentifier":"8fa20dbc-b1c8-3945-58ee-b0953c147cdf","name":"AvroReader-BeautyRoom","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.3.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b10517-0199-1000-fb42-182075a22a07"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105d2-0199-1000-0a9b-786d30e9a252","instanceIdentifier":"47108f87-a5db-36dd-f498-7bd3d9453738","name":"client-info","comments":"","position":{"x":-2040.0,"y":336.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b105d6-0199-1000-9e6e-85a20612a571","instanceIdentifier":"3d74d639-d6b6-3ab8-098b-4506ca9429b7","name":"UpdateAttribute","comments":"","position":{"x":56.0,"y":-72.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"cardNumber":"${loyalty_card}"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cardNumber":{"name":"cardNumber","displayName":"cardNumber","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"},{"identifier":"70b105da-0199-1000-6570-e1ee5fbec8cd","instanceIdentifier":"5cf076a8-36c2-354e-359b-b4376ca1e70c","name":"EvaluateJsonPath","comments":"","position":{"x":992.0,"y":192.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","client_phone":"$.customers[0].contactInfo.mobiles.mobile[0].mobileNumber","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"},{"identifier":"70b105d5-0199-1000-86bc-702d3436087a","instanceIdentifier":"6dfdb1f2-1ade-3550-53d4-522d0bd0356e","name":"InvokeHTTP","comments":"","position":{"x":304.0,"y":192.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"https://api.crm360-ru.dc.iledebeaute.ru:443/customers/1.0?touchPoint=225&pageSize=1&page=1&cardNumber=${cardNumber}","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":"","Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"},{"identifier":"70b105d9-0199-1000-bf6d-81f9ed98e491","instanceIdentifier":"129a5199-540b-3aec-ee98-8f6a868ba740","name":"AttributesToJSON","comments":"","position":{"x":1552.0,"y":320.0},"type":"org.apache.nifi.processors.standard.AttributesToJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"attributes-to-json-regex":null,"Destination":"flowfile-content","Null Value":"false","Attributes List":"loyalty_card,\nclient_phone","Pretty Print":"false","Include Core Attributes":"false","JSON Handling Strategy":"ESCAPED"},"propertyDescriptors":{"attributes-to-json-regex":{"name":"attributes-to-json-regex","displayName":"Attributes Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value":{"name":"Null Value","displayName":"Null Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes List":{"name":"Attributes List","displayName":"Attributes List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pretty Print":{"name":"Pretty Print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Include Core Attributes":{"name":"Include Core Attributes","displayName":"Include Core Attributes","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JSON Handling Strategy":{"name":"JSON Handling Strategy","displayName":"JSON Handling Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"},{"identifier":"70b105d8-0199-1000-a633-c5027504337e","instanceIdentifier":"8eacbba0-663e-34f7-4150-d9c5f7605ea6","name":"EvaluateJsonPath","comments":"","position":{"x":-344.0,"y":192.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","client_phone":"$.client_phone","Max String Length":"20 MB","Return Type":"json","Null Value Representation":"empty string","loyalty_card":"$.loyalty_card","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"loyalty_card":{"name":"loyalty_card","displayName":"loyalty_card","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"}],"inputPorts":[{"identifier":"70b105db-0199-1000-4535-30a3486e61e5","instanceIdentifier":"08d29295-b9e6-35e9-9fc9-9b1a129f595b","name":"input","position":{"x":-282.50031287766933,"y":-88.38918994771728},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"}],"outputPorts":[{"identifier":"70b105dc-0199-1000-2efd-94704ac05891","instanceIdentifier":"e187fb0c-9bc0-3ee0-8d4f-7f8e7cdaf74c","name":"output","position":{"x":1048.0,"y":440.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"}],"connections":[{"identifier":"70b105e3-0199-1000-3828-766626273903","instanceIdentifier":"4baf1d0e-46c3-3323-0149-4f5fc11e02d5","name":"","source":{"id":"70b105da-0199-1000-6570-e1ee5fbec8cd","type":"PROCESSOR","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"5cf076a8-36c2-354e-359b-b4376ca1e70c"},"destination":{"id":"70b105d9-0199-1000-bf6d-81f9ed98e491","type":"PROCESSOR","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"AttributesToJSON","comments":"","instanceIdentifier":"129a5199-540b-3aec-ee98-8f6a868ba740"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"},{"identifier":"70b105e2-0199-1000-d21d-ebf0270586a2","instanceIdentifier":"a0e72426-df05-3c25-db7d-ff43bcc97164","name":"","source":{"id":"70b105d5-0199-1000-86bc-702d3436087a","type":"PROCESSOR","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"InvokeHTTP","comments":"","instanceIdentifier":"6dfdb1f2-1ade-3550-53d4-522d0bd0356e"},"destination":{"id":"70b105da-0199-1000-6570-e1ee5fbec8cd","type":"PROCESSOR","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"5cf076a8-36c2-354e-359b-b4376ca1e70c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"},{"identifier":"70b105de-0199-1000-8f93-1da33657dcea","instanceIdentifier":"1df24782-5a1a-3bb6-5140-c2c002b88cef","name":"","source":{"id":"70b105d6-0199-1000-9e6e-85a20612a571","type":"PROCESSOR","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"UpdateAttribute","comments":"","instanceIdentifier":"3d74d639-d6b6-3ab8-098b-4506ca9429b7"},"destination":{"id":"70b105d5-0199-1000-86bc-702d3436087a","type":"PROCESSOR","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"InvokeHTTP","comments":"","instanceIdentifier":"6dfdb1f2-1ade-3550-53d4-522d0bd0356e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"},{"identifier":"70b105df-0199-1000-9e24-418110a78199","instanceIdentifier":"7cce717d-897b-3076-eeda-e0ecfd10a422","name":"","source":{"id":"70b105d8-0199-1000-a633-c5027504337e","type":"PROCESSOR","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8eacbba0-663e-34f7-4150-d9c5f7605ea6"},"destination":{"id":"70b105d6-0199-1000-9e6e-85a20612a571","type":"PROCESSOR","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"UpdateAttribute","comments":"","instanceIdentifier":"3d74d639-d6b6-3ab8-098b-4506ca9429b7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"},{"identifier":"70b105e0-0199-1000-4c48-f0cc547accb2","instanceIdentifier":"3d1e8f64-1cce-35c8-2de6-a16e3b1c5613","name":"","source":{"id":"70b105d9-0199-1000-bf6d-81f9ed98e491","type":"PROCESSOR","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"AttributesToJSON","comments":"","instanceIdentifier":"129a5199-540b-3aec-ee98-8f6a868ba740"},"destination":{"id":"70b105dc-0199-1000-2efd-94704ac05891","type":"OUTPUT_PORT","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"output","instanceIdentifier":"e187fb0c-9bc0-3ee0-8d4f-7f8e7cdaf74c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"},{"identifier":"70b105e1-0199-1000-61a5-b764c653e38d","instanceIdentifier":"229345f7-086d-34a7-98e5-4d7af855da02","name":"","source":{"id":"70b105db-0199-1000-4535-30a3486e61e5","type":"INPUT_PORT","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"input","instanceIdentifier":"08d29295-b9e6-35e9-9fc9-9b1a129f595b"},"destination":{"id":"70b105d8-0199-1000-a633-c5027504337e","type":"PROCESSOR","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8eacbba0-663e-34f7-4150-d9c5f7605ea6"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"70b105d4-0199-1000-e27d-762d97488723","instanceIdentifier":"efd68e62-fc3e-3280-48a1-534b9e61dfc5","name":"JsonRecordSetWriter-BeautyRoom","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.3.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"Allow Scientific Notation":"false","compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-version":null,"schema-text":"${avro.schema}","Schema Reference Writer":null},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow Scientific Notation":{"name":"Allow Scientific Notation","displayName":"Allow Scientific Notation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false,"dynamic":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Reference Writer":{"name":"Schema Reference Writer","displayName":"Schema Reference Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"},{"identifier":"70b105d3-0199-1000-a13a-a4673dfff330","instanceIdentifier":"4bc91d91-a578-30ad-791e-f79dc3deb892","name":"JsonTreeReader-BeautyRoom","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.3.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"Max String Length":"20 MB","schema-application-strategy":"SELECTED_PART","Timestamp Format":null,"schema-inference-cache":null,"Date Format":null,"schema-name":"${schema.name}","starting-field-strategy":"ROOT_NODE","schema-registry":null,"starting-field-name":null,"Time Format":null,"schema-access-strategy":"infer-schema","schema-version":null,"schema-text":"${avro.schema}","Allow Comments":"false"},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-application-strategy":{"name":"schema-application-strategy","displayName":"Schema Application Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"starting-field-strategy":{"name":"starting-field-strategy","displayName":"Starting Field Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"starting-field-name":{"name":"starting-field-name","displayName":"Starting Field Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow Comments":{"name":"Allow Comments","displayName":"Allow Comments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b105d2-0199-1000-0a9b-786d30e9a252"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b1059e-0199-1000-2f48-e4a3a353b563","instanceIdentifier":"cea21e1b-5b5a-3e0e-20d1-6c06bb159755","name":"order.status.add","comments":"","position":{"x":-544.0,"y":344.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b105a2-0199-1000-7dc7-c4ac0b2d53ff","instanceIdentifier":"87266d21-ccc3-34b2-e4ca-5574ca6d9e1b","name":"UpdateAttribute","comments":"","position":{"x":368.0,"y":24.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","status_long_id":"${order_short_id:append('-'):append(${now():format('yyyyMMddHHmmssSSS')})}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_long_id":{"name":"status_long_id","displayName":"status_long_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b105a3-0199-1000-aee3-8ac187d56c76","instanceIdentifier":"ca168b68-2be4-3a69-d9c1-ee608f01dff7","name":"ExecuteSQL","comments":"","position":{"x":1032.0,"y":440.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"select * from order_status_history where status_long_id = '${status_long_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b105a1-0199-1000-76f1-e9297826b264","instanceIdentifier":"a547d1ae-2ff9-3c09-a720-8f48a3ea7135","name":"SplitJson","comments":"","position":{"x":-304.0,"y":440.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b1059f-0199-1000-b675-79160895db5a","instanceIdentifier":"7bd22c06-e4de-32eb-fe3c-5527608ccfc3","name":"ConvertRecord","comments":"","position":{"x":368.0,"y":440.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b105a0-0199-1000-a161-52554c997b5b","instanceIdentifier":"e4dde438-7201-349a-a057-f36cb631ad32","name":"ExecuteSQL","comments":"","position":{"x":1032.0,"y":24.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT status_long_id from order_status_history where status_id = last_insert_rowid();","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":"INSERT INTO order_status_history (\n    order_short_id,\n    status_long_id,\n    status_code,\n    status_name,\n    source,\n    additional_info,\n    commentary,\n    status_created_at,\n    status_created_timezone\n)\nVALUES (\n    '${order_short_id}',\n    '${status_long_id}',\n    '${status_code}',\n    '${status_name}',\n    '${source}',\n    '${additional_info}',\n    '${commentary}',\n    '${status_created_at}',\n    '${status_created_timezone}'\n);","compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b105a4-0199-1000-3922-3147f735e7fb","instanceIdentifier":"7d01ca4b-15de-31c9-2c0b-c27c8731a196","name":"EvaluateJsonPath","comments":"","position":{"x":-304.0,"y":24.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","status_code":"$.status_code","Max String Length":"20 MB","status_name":"$.status_name","Return Type":"auto-detect","Null Value Representation":"empty string","source":"$.source","status_created_at":"$.status_created_at","Path Not Found Behavior":"ignore","status_created_timezone":"$.status_created_timezone","additional_info":"$.additional_info","comment":"$.comment","order_short_id":"$.order_short_id"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_code":{"name":"status_code","displayName":"status_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_name":{"name":"status_name","displayName":"status_name","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"status_created_at":{"name":"status_created_at","displayName":"status_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_created_timezone":{"name":"status_created_timezone","displayName":"status_created_timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"additional_info":{"name":"additional_info","displayName":"additional_info","identifiesControllerService":false,"sensitive":false,"dynamic":true},"comment":{"name":"comment","displayName":"comment","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"}],"inputPorts":[{"identifier":"70b105a5-0199-1000-a42e-bfcbd70c549d","instanceIdentifier":"884ce7d1-64e5-392e-714e-f0f933e6137c","name":"input","position":{"x":-248.0,"y":-168.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"}],"outputPorts":[{"identifier":"70b105a6-0199-1000-98dd-898a338a2c10","instanceIdentifier":"4e47ae5f-13ee-3237-7d15-2d3b4e7568a1","name":"output","position":{"x":-248.0,"y":808.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"}],"connections":[{"identifier":"70b105aa-0199-1000-8647-833ec10af120","instanceIdentifier":"1fb305c4-a685-303b-1374-648e803f4bbc","name":"","source":{"id":"70b105a2-0199-1000-7dc7-c4ac0b2d53ff","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"UpdateAttribute","comments":"","instanceIdentifier":"87266d21-ccc3-34b2-e4ca-5574ca6d9e1b"},"destination":{"id":"70b105a0-0199-1000-a161-52554c997b5b","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"ExecuteSQL","comments":"","instanceIdentifier":"e4dde438-7201-349a-a057-f36cb631ad32"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b105ac-0199-1000-0623-1db409107cd8","instanceIdentifier":"0fb926e9-574c-30f4-6a45-ca57bcceab57","name":"","source":{"id":"70b105a3-0199-1000-aee3-8ac187d56c76","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"ExecuteSQL","comments":"","instanceIdentifier":"ca168b68-2be4-3a69-d9c1-ee608f01dff7"},"destination":{"id":"70b1059f-0199-1000-b675-79160895db5a","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"ConvertRecord","comments":"","instanceIdentifier":"7bd22c06-e4de-32eb-fe3c-5527608ccfc3"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b105ad-0199-1000-f137-b0729fb387f8","instanceIdentifier":"019f7b88-2e42-3ae4-cda6-1e698a5092f2","name":"","source":{"id":"70b105a4-0199-1000-3922-3147f735e7fb","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"7d01ca4b-15de-31c9-2c0b-c27c8731a196"},"destination":{"id":"70b105a2-0199-1000-7dc7-c4ac0b2d53ff","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"UpdateAttribute","comments":"","instanceIdentifier":"87266d21-ccc3-34b2-e4ca-5574ca6d9e1b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b105a9-0199-1000-3e26-3ffaf26a5c98","instanceIdentifier":"57fa43f1-dc59-3e59-f675-bd7bc688a655","name":"","source":{"id":"70b105a0-0199-1000-a161-52554c997b5b","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"ExecuteSQL","comments":"","instanceIdentifier":"e4dde438-7201-349a-a057-f36cb631ad32"},"destination":{"id":"70b105a3-0199-1000-aee3-8ac187d56c76","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"ExecuteSQL","comments":"","instanceIdentifier":"ca168b68-2be4-3a69-d9c1-ee608f01dff7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b105a7-0199-1000-558a-19d88185e421","instanceIdentifier":"0bc207ef-0d5a-3a66-9347-c329413ea3f3","name":"","source":{"id":"70b1059f-0199-1000-b675-79160895db5a","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"ConvertRecord","comments":"","instanceIdentifier":"7bd22c06-e4de-32eb-fe3c-5527608ccfc3"},"destination":{"id":"70b105a1-0199-1000-76f1-e9297826b264","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"SplitJson","comments":"","instanceIdentifier":"a547d1ae-2ff9-3c09-a720-8f48a3ea7135"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b105a8-0199-1000-1547-b4210088ae4d","instanceIdentifier":"eee7c842-500f-371f-cb1a-41616230f4ea","name":"","source":{"id":"70b105a1-0199-1000-76f1-e9297826b264","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"SplitJson","comments":"","instanceIdentifier":"a547d1ae-2ff9-3c09-a720-8f48a3ea7135"},"destination":{"id":"70b105a6-0199-1000-98dd-898a338a2c10","type":"OUTPUT_PORT","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"output","instanceIdentifier":"4e47ae5f-13ee-3237-7d15-2d3b4e7568a1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"},{"identifier":"70b105ab-0199-1000-1291-4bff5146d05f","instanceIdentifier":"fe0a2d49-3b55-322c-3f51-7cb4bd2d3490","name":"","source":{"id":"70b105a5-0199-1000-a42e-bfcbd70c549d","type":"INPUT_PORT","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"input","instanceIdentifier":"884ce7d1-64e5-392e-714e-f0f933e6137c"},"destination":{"id":"70b105a4-0199-1000-3922-3147f735e7fb","type":"PROCESSOR","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"7d01ca4b-15de-31c9-2c0b-c27c8731a196"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1059e-0199-1000-2f48-e4a3a353b563"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104de-0199-1000-3bf9-9c179b27cca5","instanceIdentifier":"30f7a705-3114-307c-cb07-bf5afc6423b7","name":"payment.create","comments":"","position":{"x":352.0,"y":352.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b104e1-0199-1000-08e3-3e2c4405d9f3","instanceIdentifier":"ea10fbec-2622-37de-876d-e1bd48585303","name":"ExecuteSQL","comments":"","position":{"x":1032.0,"y":24.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT payment_short_id from payments where payment_id = last_insert_rowid();","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":"INSERT INTO payments (\n    order_short_id,\n\tpayment_long_id,\n\tpayment_short_id,\n    payment_method,\n    amount,\n    payment_status,\n\tclient_phone,\n\tattributes,\n\tpayment_created_at,\n    source\n) \nVALUES (\n    '${order_short_id}',\n    '${payment_long_id}',\n    '${payment_short_id}',\n\t'${payment_method}',\n    ${amount},\n    '${payment_status}',\n\t'${client_phone}',\n    '${attributes}',\n    '${payment_created_at}',\n    '${source}'\n);","compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104e0-0199-1000-0c88-526229b488a6","instanceIdentifier":"96204a8e-dc1d-3ef7-dd0f-6b7c9332c88b","name":"EvaluateJsonPath","comments":"","position":{"x":-312.0,"y":24.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","amount":"$.amount","client_phone":"$.client_phone","Max String Length":"20 MB","Return Type":"json","payment_status":"$.payment_status","Null Value Representation":"empty string","source":"$.source","Path Not Found Behavior":"ignore","attributes":"$.attributes","loyalty_card":"$.loyalty_card","order_short_id":"$.order_short_id","payment_method":"$.payment_method","payment_created_at":"$.payment_created_at"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"amount":{"name":"amount","displayName":"amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_status":{"name":"payment_status","displayName":"payment_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributes":{"name":"attributes","displayName":"attributes","identifiesControllerService":false,"sensitive":false,"dynamic":true},"loyalty_card":{"name":"loyalty_card","displayName":"loyalty_card","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_method":{"name":"payment_method","displayName":"payment_method","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_created_at":{"name":"payment_created_at","displayName":"payment_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104e2-0199-1000-6e00-87f833763d9d","instanceIdentifier":"c0d288dc-a642-3d52-2cd5-3cee8831a35e","name":"SplitJson","comments":"","position":{"x":-304.0,"y":432.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104e3-0199-1000-9f4d-f9ea64999986","instanceIdentifier":"7245ccbc-c06b-3b50-983c-848b2c402994","name":"UpdateAttribute","comments":"","position":{"x":360.0,"y":24.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","payment_short_id":"${order_short_id:append('-'):append(${payment_method})}","payment_long_id":"${order_short_id:append('-'):append(${payment_method})}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_short_id":{"name":"payment_short_id","displayName":"payment_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_long_id":{"name":"payment_long_id","displayName":"payment_long_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104df-0199-1000-cc55-eb346e30fa84","instanceIdentifier":"aa7c3908-32ee-3d82-4ea5-613696991a2a","name":"ExecuteSQL","comments":"","position":{"x":1032.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"select * from payments where payment_short_id = '${payment_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104e4-0199-1000-3991-d4cdddcb2533","instanceIdentifier":"32ab7483-d04a-3d68-5133-3841a7f1af22","name":"ConvertRecord","comments":"","position":{"x":376.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"}],"inputPorts":[{"identifier":"70b104e5-0199-1000-5539-58acf12a8934","instanceIdentifier":"321dc923-7469-3227-c44f-955b376abbe4","name":"input","position":{"x":-252.5000561790489,"y":-167.38923387872535},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"}],"outputPorts":[{"identifier":"70b104e7-0199-1000-0a7a-929ca64de86e","instanceIdentifier":"c2b4332c-3724-38c5-d9cd-0fac39292785","name":"output","position":{"x":-168.0,"y":968.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104e6-0199-1000-435b-622a4116847d","instanceIdentifier":"91b1f7df-baea-30c4-cd55-c2f80b29fb1e","name":"error","position":{"x":1783.4937277787228,"y":428.8032084041005},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"}],"connections":[{"identifier":"70b104ef-0199-1000-144e-ad68363f5dea","instanceIdentifier":"df6c6be8-b87b-3a91-40df-40609bea997f","name":"","source":{"id":"70b104e3-0199-1000-9f4d-f9ea64999986","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"UpdateAttribute","comments":"","instanceIdentifier":"7245ccbc-c06b-3b50-983c-848b2c402994"},"destination":{"id":"70b104e1-0199-1000-08e3-3e2c4405d9f3","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"ExecuteSQL","comments":"","instanceIdentifier":"ea10fbec-2622-37de-876d-e1bd48585303"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104ea-0199-1000-ecfe-9ac5e74e6ece","instanceIdentifier":"2940caef-f53c-3e8d-b98d-c913b2a65436","name":"","source":{"id":"70b104df-0199-1000-cc55-eb346e30fa84","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"ExecuteSQL","comments":"","instanceIdentifier":"aa7c3908-32ee-3d82-4ea5-613696991a2a"},"destination":{"id":"70b104e4-0199-1000-3991-d4cdddcb2533","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"ConvertRecord","comments":"","instanceIdentifier":"32ab7483-d04a-3d68-5133-3841a7f1af22"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104eb-0199-1000-c7ff-99efe41658ea","instanceIdentifier":"1e31c5f4-9702-3800-5aa9-d54d0702e3e7","name":"","source":{"id":"70b104e1-0199-1000-08e3-3e2c4405d9f3","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"ExecuteSQL","comments":"","instanceIdentifier":"ea10fbec-2622-37de-876d-e1bd48585303"},"destination":{"id":"70b104df-0199-1000-cc55-eb346e30fa84","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"ExecuteSQL","comments":"","instanceIdentifier":"aa7c3908-32ee-3d82-4ea5-613696991a2a"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104ec-0199-1000-dd7f-9289b27d5f82","instanceIdentifier":"62462c6a-c651-37b5-abeb-863d356d1ed3","name":"","source":{"id":"70b104e4-0199-1000-3991-d4cdddcb2533","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"ConvertRecord","comments":"","instanceIdentifier":"32ab7483-d04a-3d68-5133-3841a7f1af22"},"destination":{"id":"70b104e2-0199-1000-6e00-87f833763d9d","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"SplitJson","comments":"","instanceIdentifier":"c0d288dc-a642-3d52-2cd5-3cee8831a35e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104e8-0199-1000-1e73-99bda15854c8","instanceIdentifier":"a9402456-234a-3ccf-df99-dd9db5111843","name":"","source":{"id":"70b104e5-0199-1000-5539-58acf12a8934","type":"INPUT_PORT","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"input","instanceIdentifier":"321dc923-7469-3227-c44f-955b376abbe4"},"destination":{"id":"70b104e0-0199-1000-0c88-526229b488a6","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"96204a8e-dc1d-3ef7-dd0f-6b7c9332c88b"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104ed-0199-1000-6689-5bd14e992971","instanceIdentifier":"52130b3d-7853-3e76-3b6b-71422b74256b","name":"","source":{"id":"70b104e1-0199-1000-08e3-3e2c4405d9f3","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"ExecuteSQL","comments":"","instanceIdentifier":"ea10fbec-2622-37de-876d-e1bd48585303"},"destination":{"id":"70b104e6-0199-1000-435b-622a4116847d","type":"OUTPUT_PORT","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"error","instanceIdentifier":"91b1f7df-baea-30c4-cd55-c2f80b29fb1e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104e9-0199-1000-b221-065c11e9789a","instanceIdentifier":"ea36a24d-c5c2-36c0-4678-90673a82bb53","name":"","source":{"id":"70b104e2-0199-1000-6e00-87f833763d9d","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"SplitJson","comments":"","instanceIdentifier":"c0d288dc-a642-3d52-2cd5-3cee8831a35e"},"destination":{"id":"70b104e7-0199-1000-0a7a-929ca64de86e","type":"OUTPUT_PORT","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"output","instanceIdentifier":"c2b4332c-3724-38c5-d9cd-0fac39292785"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"},{"identifier":"70b104ee-0199-1000-a4b3-151708f7ce3f","instanceIdentifier":"00c0aaec-14cc-3db3-010b-b79883b9d338","name":"","source":{"id":"70b104e0-0199-1000-0c88-526229b488a6","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"96204a8e-dc1d-3ef7-dd0f-6b7c9332c88b"},"destination":{"id":"70b104e3-0199-1000-9f4d-f9ea64999986","type":"PROCESSOR","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"UpdateAttribute","comments":"","instanceIdentifier":"7245ccbc-c06b-3b50-983c-848b2c402994"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104de-0199-1000-3bf9-9c179b27cca5"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","instanceIdentifier":"7a8e9498-6f8c-3e93-8414-dd35aca53f1e","name":"payment.async.confirm.enter-code","comments":"","position":{"x":368.0,"y":1560.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b104f4-0199-1000-11ae-91f40a8f6ef9","instanceIdentifier":"d55713d7-3abe-3246-bb18-f32297aec2d8","name":"SplitJson","comments":"","position":{"x":856.0,"y":440.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b104f7-0199-1000-2c08-7ad8c54bcbdb","instanceIdentifier":"b8848124-29be-3172-a675-6e0e1c18754b","name":"ExecuteSQL","comments":"","position":{"x":1536.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT\n\tconfirmation_id,\n    confirmation_long_id,\n    confirmation_short_id,\n    payment_short_id,\n    order_short_id,\n    client_phone,\n    send_code,\n    entered_code,\n    confirmation_status,\n    attempts,\n    max_attempts,\n    expiration_time,\n    confirmed_at,\n    created_at,\n    updated_at,\n    source,\n    last_updated_by\nfrom payment_confirmations\nwhere\n\tconfirmation_short_id = '${confirmation_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b104f3-0199-1000-1c41-939b1ca9d79a","instanceIdentifier":"37f2118f-9440-36da-a414-7d854bce642e","name":"UpdateAttribute","comments":"","position":{"x":48.0,"y":96.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b104f6-0199-1000-2c78-ca6389ec4874","instanceIdentifier":"54212215-3f48-3e66-0c15-ee14579f3768","name":"EvaluateJsonPath","comments":"","position":{"x":48.0,"y":-184.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","confirmation_short_id":"$.confirmation_short_id","Return Type":"json","action":"$.action","Null Value Representation":"empty string","source":"$.source","entered_code":"$.entered_code","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_short_id":{"name":"confirmation_short_id","displayName":"confirmation_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"action":{"name":"action","displayName":"action","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"entered_code":{"name":"entered_code","displayName":"entered_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b104f2-0199-1000-4bcc-6a10570c7c43","instanceIdentifier":"60c329f6-9abe-377e-6d65-f35221fdc0b0","name":"ExecuteSQL","comments":"","position":{"x":856.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"UPDATE payment_confirmations\nSET\n\tconfirmation_status = '${action}'\n\t,entered_code = '${entered_code}'\n\t,last_updated_by = '${source}'\nWHERE confirmation_short_id = '${confirmation_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b104f5-0199-1000-e6a7-52fea4a9375f","instanceIdentifier":"3ad8c807-6c9b-3ab1-db2d-4e05fa51bdf3","name":"ConvertRecord","comments":"","position":{"x":1536.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"}],"inputPorts":[{"identifier":"70b104f8-0199-1000-8ed0-edf728d17192","instanceIdentifier":"ed18770a-bdf2-3983-c435-411f969d7d22","name":"input","position":{"x":104.0,"y":-376.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"}],"outputPorts":[{"identifier":"70b104f9-0199-1000-6980-27864e2ab530","instanceIdentifier":"b290ba8e-6679-3561-605e-9fb866cfc4c4","name":"output","position":{"x":-64.0,"y":560.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"}],"connections":[{"identifier":"70b104fe-0199-1000-8a55-48aad9514c5b","instanceIdentifier":"e3ef6547-3fc2-3b5c-a51e-ea463f9de747","name":"","source":{"id":"70b104f7-0199-1000-2c08-7ad8c54bcbdb","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"ExecuteSQL","comments":"","instanceIdentifier":"b8848124-29be-3172-a675-6e0e1c18754b"},"destination":{"id":"70b104f5-0199-1000-e6a7-52fea4a9375f","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"ConvertRecord","comments":"","instanceIdentifier":"3ad8c807-6c9b-3ab1-db2d-4e05fa51bdf3"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b104fd-0199-1000-94fb-640f7be6352a","instanceIdentifier":"eeff84fb-ce23-30d5-9628-5b39ef521bb1","name":"","source":{"id":"70b104f2-0199-1000-4bcc-6a10570c7c43","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"ExecuteSQL","comments":"","instanceIdentifier":"60c329f6-9abe-377e-6d65-f35221fdc0b0"},"destination":{"id":"70b104f7-0199-1000-2c08-7ad8c54bcbdb","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"ExecuteSQL","comments":"","instanceIdentifier":"b8848124-29be-3172-a675-6e0e1c18754b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b104fc-0199-1000-e34b-bc1f0c0df829","instanceIdentifier":"abc0e13f-bd3b-3707-8053-8684558874b0","name":"","source":{"id":"70b104f4-0199-1000-11ae-91f40a8f6ef9","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"SplitJson","comments":"","instanceIdentifier":"d55713d7-3abe-3246-bb18-f32297aec2d8"},"destination":{"id":"70b104f9-0199-1000-6980-27864e2ab530","type":"OUTPUT_PORT","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"output","instanceIdentifier":"b290ba8e-6679-3561-605e-9fb866cfc4c4"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b104fb-0199-1000-1519-13bba21e0d38","instanceIdentifier":"771671d0-a8cc-39b0-801c-16714736d246","name":"","source":{"id":"70b104f6-0199-1000-2c78-ca6389ec4874","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"54212215-3f48-3e66-0c15-ee14579f3768"},"destination":{"id":"70b104f3-0199-1000-1c41-939b1ca9d79a","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"UpdateAttribute","comments":"","instanceIdentifier":"37f2118f-9440-36da-a414-7d854bce642e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b104ff-0199-1000-07da-765c8a14b397","instanceIdentifier":"a239cbe8-ba52-3cd7-a214-3adf06ae3039","name":"","source":{"id":"70b104f8-0199-1000-8ed0-edf728d17192","type":"INPUT_PORT","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"input","instanceIdentifier":"ed18770a-bdf2-3983-c435-411f969d7d22"},"destination":{"id":"70b104f6-0199-1000-2c78-ca6389ec4874","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"54212215-3f48-3e66-0c15-ee14579f3768"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b104fa-0199-1000-3a1b-752ee684a1f5","instanceIdentifier":"72245e15-7328-3cda-00df-d6503ef62282","name":"","source":{"id":"70b104f5-0199-1000-e6a7-52fea4a9375f","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"ConvertRecord","comments":"","instanceIdentifier":"3ad8c807-6c9b-3ab1-db2d-4e05fa51bdf3"},"destination":{"id":"70b104f4-0199-1000-11ae-91f40a8f6ef9","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"SplitJson","comments":"","instanceIdentifier":"d55713d7-3abe-3246-bb18-f32297aec2d8"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"},{"identifier":"70b10500-0199-1000-fb0b-5cae358f16af","instanceIdentifier":"47bc7fae-c75c-3672-f540-82dd59e23183","name":"","source":{"id":"70b104f3-0199-1000-1c41-939b1ca9d79a","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"UpdateAttribute","comments":"","instanceIdentifier":"37f2118f-9440-36da-a414-7d854bce642e"},"destination":{"id":"70b104f2-0199-1000-4bcc-6a10570c7c43","type":"PROCESSOR","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"ExecuteSQL","comments":"","instanceIdentifier":"60c329f6-9abe-377e-6d65-f35221fdc0b0"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"70b104f1-0199-1000-3735-60242263d206","instanceIdentifier":"36be0b09-da45-35f5-31b0-e5fcefd7953c","name":"AvroReader-BeautyRoom","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.3.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b104f0-0199-1000-5ac3-1d48f93aa7e6"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b1055d-0199-1000-1d12-3b84074633e3","instanceIdentifier":"97f36c1b-de00-34e7-9780-c354f55ec265","name":"payment.get.confirm","comments":"","position":{"x":-3104.0,"y":40.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10560-0199-1000-bb80-a0ec3a91ca33","instanceIdentifier":"f5071bd2-e3c4-3de4-3372-365f2c6cfb2a","name":"ExecuteScript","comments":"","position":{"x":1848.0,"y":104.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.*\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def inputText = session.read(flowFile).text\n    def jsonSlurper = new JsonSlurper()\n    def confirmationsArray = []\n    \n    //   \n    if (inputText.trim().startsWith('[')) {\n        confirmationsArray = jsonSlurper.parseText(inputText)\n    }\n    \n    def result = [\n        page: 1,\n        pageSize: 100,\n        confirmationsQuantity: confirmationsArray.size(),\n        confirmations: confirmationsArray\n    ]\n    \n    def outputText = new JsonBuilder(result).toString()\n    \n    flowFile = session.write(flowFile, { outputStream ->\n        outputStream.write(outputText.getBytes('UTF-8'))\n    } as OutputStreamCallback)\n    \n    session.transfer(flowFile, REL_SUCCESS)\n} catch (e) {\n    log.error(\"Error processing JSON: ${e.message}\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"},{"identifier":"70b1055e-0199-1000-9248-3a33db97b951","instanceIdentifier":"92e66b10-11ae-3f11-f234-5db36c6b90e6","name":"ExecuteSQL","comments":"","position":{"x":448.0,"y":104.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"select\n    confirmation_id,\n\tconfirmation_long_id,\n\tconfirmation_short_id,\n    payment_short_id,\n    order_short_id,\n    client_phone,\n    send_code,\n    entered_code,\n    confirmation_status,\n    attempts,\n    max_attempts,\n    created_at,\n    expiration_time,\n    confirmed_at from payment_confirmations\nwhere confirmation_status = '${confirmation_status}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"},{"identifier":"70b10561-0199-1000-d8b2-746a997042ec","instanceIdentifier":"9c12ac61-87dd-3518-5194-091e66e2a923","name":"ConvertRecord","comments":"","position":{"x":1096.0,"y":104.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"},{"identifier":"70b1055f-0199-1000-0eca-a20c651ee622","instanceIdentifier":"b1871348-44e9-3e58-b55d-0484f487fb9a","name":"UpdateAttribute","comments":"","position":{"x":-208.0,"y":104.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"confirmation_status":"${http.query.param.confirmation_status}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"}],"inputPorts":[{"identifier":"70b10562-0199-1000-f267-13abb03f4421","instanceIdentifier":"4a781db6-1d78-3d46-0746-ab3296e10b1a","name":"input","position":{"x":-152.0,"y":-256.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"}],"outputPorts":[{"identifier":"70b10563-0199-1000-2cd4-d80631799dcf","instanceIdentifier":"0c1ed109-029f-314d-574d-4a38333fc4ca","name":"output","position":{"x":1904.0,"y":544.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"}],"connections":[{"identifier":"70b10566-0199-1000-0f28-d161b6e2e2a1","instanceIdentifier":"c331c5de-bafb-3cfd-44e7-03bc55053b97","name":"","source":{"id":"70b1055e-0199-1000-9248-3a33db97b951","type":"PROCESSOR","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"ExecuteSQL","comments":"","instanceIdentifier":"92e66b10-11ae-3f11-f234-5db36c6b90e6"},"destination":{"id":"70b10561-0199-1000-d8b2-746a997042ec","type":"PROCESSOR","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"ConvertRecord","comments":"","instanceIdentifier":"9c12ac61-87dd-3518-5194-091e66e2a923"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"},{"identifier":"70b10567-0199-1000-e5da-f28aa0c97124","instanceIdentifier":"9257a794-b304-3018-d1f2-d4b67df02e8e","name":"","source":{"id":"70b1055f-0199-1000-0eca-a20c651ee622","type":"PROCESSOR","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"UpdateAttribute","comments":"","instanceIdentifier":"b1871348-44e9-3e58-b55d-0484f487fb9a"},"destination":{"id":"70b1055e-0199-1000-9248-3a33db97b951","type":"PROCESSOR","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"ExecuteSQL","comments":"","instanceIdentifier":"92e66b10-11ae-3f11-f234-5db36c6b90e6"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"},{"identifier":"70b10565-0199-1000-da6d-dd8f08a88e27","instanceIdentifier":"f5394f27-a3cd-3d37-6670-cb9407bd4805","name":"","source":{"id":"70b10562-0199-1000-f267-13abb03f4421","type":"INPUT_PORT","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"input","instanceIdentifier":"4a781db6-1d78-3d46-0746-ab3296e10b1a"},"destination":{"id":"70b1055f-0199-1000-0eca-a20c651ee622","type":"PROCESSOR","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"UpdateAttribute","comments":"","instanceIdentifier":"b1871348-44e9-3e58-b55d-0484f487fb9a"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"},{"identifier":"70b10564-0199-1000-19eb-f7a3a02d84c1","instanceIdentifier":"08f2f5ce-68b5-3432-c3ac-3429d8930785","name":"","source":{"id":"70b10561-0199-1000-d8b2-746a997042ec","type":"PROCESSOR","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"ConvertRecord","comments":"","instanceIdentifier":"9c12ac61-87dd-3518-5194-091e66e2a923"},"destination":{"id":"70b10560-0199-1000-bb80-a0ec3a91ca33","type":"PROCESSOR","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"ExecuteScript","comments":"","instanceIdentifier":"f5071bd2-e3c4-3de4-3372-365f2c6cfb2a"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"},{"identifier":"70b10568-0199-1000-3d0c-ba6fa36db24e","instanceIdentifier":"8e1e1f09-f0f9-3a08-2dda-f988738fa414","name":"","source":{"id":"70b10560-0199-1000-bb80-a0ec3a91ca33","type":"PROCESSOR","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"ExecuteScript","comments":"","instanceIdentifier":"f5071bd2-e3c4-3de4-3372-365f2c6cfb2a"},"destination":{"id":"70b10563-0199-1000-2cd4-d80631799dcf","type":"OUTPUT_PORT","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"output","instanceIdentifier":"0c1ed109-029f-314d-574d-4a38333fc4ca"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1055d-0199-1000-1d12-3b84074633e3"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10501-0199-1000-d2de-1f70e732858b","instanceIdentifier":"a77398a6-d9bd-3e85-15e6-777eb882bbc1","name":"payment.async.confirm.add","comments":"","position":{"x":352.0,"y":720.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10505-0199-1000-caca-ea9e4fb4cb45","instanceIdentifier":"12cd373a-0bd6-3515-512e-7f7d076adff8","name":"ConvertRecord","comments":"","position":{"x":376.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10504-0199-1000-ca0f-0069d39dd8ee","instanceIdentifier":"91c9d30f-4349-3907-60a9-0485c891fb75","name":"ExecuteSQL","comments":"","position":{"x":1032.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"select\n    confirmation_id,\n\tconfirmation_long_id,\n\tconfirmation_short_id,\n    payment_short_id,\n    order_short_id,\n    client_phone,\n    send_code,\n    entered_code,\n    confirmation_status,\n    attempts,\n    max_attempts,\n    created_at,\n    expiration_time,\n    confirmed_at from payment_confirmations\nwhere confirmation_long_id = '${confirmation_long_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10508-0199-1000-5ace-c21ca6d63f21","instanceIdentifier":"71116b93-5473-3b19-8196-869301a050c5","name":"EvaluateJsonPath","comments":"","position":{"x":-312.0,"y":24.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","client_phone":"$.client_phone","expiration_minutes":"$.expiration_minutes","send_code":"$.send_code","Max String Length":"20 MB","Return Type":"auto-detect","payment_short_id":"$.payment_short_id","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"expiration_minutes":{"name":"expiration_minutes","displayName":"expiration_minutes","identifiesControllerService":false,"sensitive":false,"dynamic":true},"send_code":{"name":"send_code","displayName":"send_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_short_id":{"name":"payment_short_id","displayName":"payment_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10507-0199-1000-e7c8-843d3245ad94","instanceIdentifier":"ce5c95aa-9cc7-3c9f-1a95-e1f2670f9b27","name":"UpdateAttribute","comments":"","position":{"x":360.0,"y":24.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"confirmation_long_id":"${payment_short_id:append('-'):append(${confirmation_status})}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","confirmation_short_id":"${payment_short_id:append('-'):append(${confirmation_status})}","Stateful Variables Initial Value":null},"propertyDescriptors":{"confirmation_long_id":{"name":"confirmation_long_id","displayName":"confirmation_long_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_short_id":{"name":"confirmation_short_id","displayName":"confirmation_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10506-0199-1000-ba43-f1399dba8fe4","instanceIdentifier":"c518c452-1981-3bce-53af-6264b2efc659","name":"UpdateAttribute","comments":"","position":{"x":360.0,"y":-184.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"confirmation_status":"confirmation_pending","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_status":{"name":"confirmation_status","displayName":"confirmation_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10503-0199-1000-650a-cddf8be79947","instanceIdentifier":"79c435d8-ca66-3f0e-94a4-2e7fc14b07ca","name":"SplitJson","comments":"","position":{"x":-304.0,"y":432.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10502-0199-1000-c9c3-56cb4e846edf","instanceIdentifier":"db05460f-3418-3058-dde9-f95147c23f37","name":"ExecuteSQL","comments":"","position":{"x":1032.0,"y":24.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT confirmation_long_id from payment_confirmations where confirmation_id = last_insert_rowid();","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":"UPDATE payment_confirmations \nSET confirmation_short_id = \n    (SELECT payment_short_id FROM payment_confirmations WHERE confirmation_id = last_insert_rowid()) || \n    '-' || \n    last_insert_rowid(),\n    updated_at = CURRENT_TIMESTAMP\nWHERE confirmation_id = last_insert_rowid();","esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":"INSERT INTO payment_confirmations (\n    confirmation_long_id,\n    payment_short_id,\n    order_short_id,\n    client_phone,\n    send_code,\n    confirmation_status,\n    expiration_time,\n    created_at\n)\nVALUES (\n    '${confirmation_long_id}',\n    '${payment_short_id}',\n    '${order_short_id}', \n    '${client_phone}',\n    '${send_code}',\n    '${confirmation_status}',\n    datetime('now', '+3 minutes'),\n    CURRENT_TIMESTAMP\n);","compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"}],"inputPorts":[{"identifier":"70b10509-0199-1000-6686-1c45f77b7c22","instanceIdentifier":"28814425-574d-34dc-4b69-9af930e675d2","name":"input","position":{"x":-252.5000561790489,"y":-167.38923387872535},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"}],"outputPorts":[{"identifier":"70b1050a-0199-1000-baf4-7dac6493c42f","instanceIdentifier":"8628b119-9c04-3fec-669e-b219d5ce1257","name":"output","position":{"x":-168.0,"y":968.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b1050b-0199-1000-9c20-0992341ba9b7","instanceIdentifier":"8de0464f-e41f-35d1-7810-e6d4032dd198","name":"error","position":{"x":1783.4937277787228,"y":428.8032084041005},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"}],"connections":[{"identifier":"70b10513-0199-1000-bdfb-9c3afb06c621","instanceIdentifier":"fd2ef68d-be5c-3136-ac43-51c3e6efaab6","name":"","source":{"id":"70b10502-0199-1000-c9c3-56cb4e846edf","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"ExecuteSQL","comments":"","instanceIdentifier":"db05460f-3418-3058-dde9-f95147c23f37"},"destination":{"id":"70b10504-0199-1000-ca0f-0069d39dd8ee","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"ExecuteSQL","comments":"","instanceIdentifier":"91c9d30f-4349-3907-60a9-0485c891fb75"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10511-0199-1000-1872-6a35e761e5f0","instanceIdentifier":"45c8a6f3-6ee4-3b60-71b2-69f859caa082","name":"","source":{"id":"70b10506-0199-1000-ba43-f1399dba8fe4","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"UpdateAttribute","comments":"","instanceIdentifier":"c518c452-1981-3bce-53af-6264b2efc659"},"destination":{"id":"70b10507-0199-1000-e7c8-843d3245ad94","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"UpdateAttribute","comments":"","instanceIdentifier":"ce5c95aa-9cc7-3c9f-1a95-e1f2670f9b27"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10516-0199-1000-0712-e5a1f91abd16","instanceIdentifier":"38f466c1-c18b-3fb4-627f-361b8efef1aa","name":"","source":{"id":"70b10507-0199-1000-e7c8-843d3245ad94","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"UpdateAttribute","comments":"","instanceIdentifier":"ce5c95aa-9cc7-3c9f-1a95-e1f2670f9b27"},"destination":{"id":"70b10502-0199-1000-c9c3-56cb4e846edf","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"ExecuteSQL","comments":"","instanceIdentifier":"db05460f-3418-3058-dde9-f95147c23f37"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10510-0199-1000-3ee1-3a862fe6767f","instanceIdentifier":"c8d37656-0ad0-39eb-e523-bcb375f96076","name":"","source":{"id":"70b10509-0199-1000-6686-1c45f77b7c22","type":"INPUT_PORT","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"input","instanceIdentifier":"28814425-574d-34dc-4b69-9af930e675d2"},"destination":{"id":"70b10508-0199-1000-5ace-c21ca6d63f21","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"71116b93-5473-3b19-8196-869301a050c5"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10515-0199-1000-49a8-43835d847dec","instanceIdentifier":"ab91e268-3139-396c-7605-85185243781e","name":"","source":{"id":"70b10502-0199-1000-c9c3-56cb4e846edf","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"ExecuteSQL","comments":"","instanceIdentifier":"db05460f-3418-3058-dde9-f95147c23f37"},"destination":{"id":"70b1050b-0199-1000-9c20-0992341ba9b7","type":"OUTPUT_PORT","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"error","instanceIdentifier":"8de0464f-e41f-35d1-7810-e6d4032dd198"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10514-0199-1000-eff3-d3678f3f2fd4","instanceIdentifier":"38b23462-ff9f-36c0-ac65-81d23a9ba6e5","name":"","source":{"id":"70b10503-0199-1000-650a-cddf8be79947","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"SplitJson","comments":"","instanceIdentifier":"79c435d8-ca66-3f0e-94a4-2e7fc14b07ca"},"destination":{"id":"70b1050a-0199-1000-baf4-7dac6493c42f","type":"OUTPUT_PORT","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"output","instanceIdentifier":"8628b119-9c04-3fec-669e-b219d5ce1257"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b10512-0199-1000-9630-848161d99e5c","instanceIdentifier":"421699b8-ee23-3131-ce77-d453472328fb","name":"","source":{"id":"70b10504-0199-1000-ca0f-0069d39dd8ee","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"ExecuteSQL","comments":"","instanceIdentifier":"91c9d30f-4349-3907-60a9-0485c891fb75"},"destination":{"id":"70b1050c-0199-1000-548a-a74266a9b0ae","type":"FUNNEL","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"Funnel","comments":"","instanceIdentifier":"f02a235c-882b-356b-7b4a-da08481afddd"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b1050e-0199-1000-d56b-71360cafd14b","instanceIdentifier":"249c44aa-4b05-3351-d751-036cc5d5f732","name":"","source":{"id":"70b10505-0199-1000-caca-ea9e4fb4cb45","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"ConvertRecord","comments":"","instanceIdentifier":"12cd373a-0bd6-3515-512e-7f7d076adff8"},"destination":{"id":"70b10503-0199-1000-650a-cddf8be79947","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"SplitJson","comments":"","instanceIdentifier":"79c435d8-ca66-3f0e-94a4-2e7fc14b07ca"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b1050f-0199-1000-5271-5fe96c697d3e","instanceIdentifier":"af2f98b4-e0ee-33d7-35cc-03f8983dfcd7","name":"","source":{"id":"70b10504-0199-1000-ca0f-0069d39dd8ee","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"ExecuteSQL","comments":"","instanceIdentifier":"91c9d30f-4349-3907-60a9-0485c891fb75"},"destination":{"id":"70b10505-0199-1000-caca-ea9e4fb4cb45","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"ConvertRecord","comments":"","instanceIdentifier":"12cd373a-0bd6-3515-512e-7f7d076adff8"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"},{"identifier":"70b1050d-0199-1000-c15b-54f49cb2e4ff","instanceIdentifier":"9c7b34f4-9964-3caf-e323-2b79d342dee7","name":"","source":{"id":"70b10508-0199-1000-5ace-c21ca6d63f21","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"71116b93-5473-3b19-8196-869301a050c5"},"destination":{"id":"70b10506-0199-1000-ba43-f1399dba8fe4","type":"PROCESSOR","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"UpdateAttribute","comments":"","instanceIdentifier":"c518c452-1981-3bce-53af-6264b2efc659"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"}],"labels":[],"funnels":[{"identifier":"70b1050c-0199-1000-548a-a74266a9b0ae","instanceIdentifier":"f02a235c-882b-356b-7b4a-da08481afddd","position":{"x":1752.0,"y":512.0},"componentType":"FUNNEL","groupIdentifier":"70b10501-0199-1000-d2de-1f70e732858b"}],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10569-0199-1000-15f1-06f3d736a5a7","instanceIdentifier":"116f5215-0e12-3cd1-0627-3915d9a94e7a","name":"payment.async.confirm.search","comments":"","position":{"x":352.0,"y":1120.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b1056c-0199-1000-617f-c8cd182efdbf","instanceIdentifier":"a5eb0fb4-d747-3dc0-3832-81d03b7a1ae8","name":"ConvertRecord","comments":"","position":{"x":1536.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"},{"identifier":"70b1056b-0199-1000-9dcb-b7b35937103b","instanceIdentifier":"23c47167-1fd8-3fb8-8398-2f6078b07f7e","name":"SplitJson","comments":"","position":{"x":856.0,"y":440.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"},{"identifier":"70b1056e-0199-1000-b44b-05598ac0af2a","instanceIdentifier":"45192422-a0c7-315b-29e8-54aeb8d91256","name":"EvaluateJsonPath","comments":"","position":{"x":48.0,"y":-184.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"json","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"},{"identifier":"70b1056d-0199-1000-6b26-5ac4247355d0","instanceIdentifier":"762d57e1-3e50-321e-f624-691bdcc71ff2","name":"ExecuteSQL","comments":"","position":{"x":856.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT\n    confirmation_id,\n    confirmation_long_id,\n    confirmation_short_id,\n    payment_short_id,\n    order_short_id,\n    client_phone,\n    send_code,\n    entered_code,\n    confirmation_status,\n    attempts,\n    max_attempts,\n    expiration_time,\n    confirmed_at,\n    created_at,\n    updated_at,\n    source,\n    last_updated_by\nFROM payment_confirmations\nWHERE order_short_id = '${order_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"},{"identifier":"70b1056f-0199-1000-9fad-9b3b4c1a56ba","instanceIdentifier":"a45ae745-33d9-38a8-d967-870c52628e21","name":"UpdateAttribute","comments":"","position":{"x":48.0,"y":96.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"}],"inputPorts":[{"identifier":"70b10570-0199-1000-da8d-2342e2b628e9","instanceIdentifier":"7bc30aa2-f04f-3ad8-67b5-f68e648484d1","name":"input","position":{"x":104.0,"y":-376.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"}],"outputPorts":[{"identifier":"70b10571-0199-1000-ff26-d1a5d9c18a14","instanceIdentifier":"d12b2ef8-45cc-3560-b61e-2a8bb284dcb1","name":"output","position":{"x":-64.0,"y":560.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"}],"connections":[{"identifier":"70b10574-0199-1000-ee61-7c47cd7b2bb3","instanceIdentifier":"3df966a9-ab35-3653-3eb0-9b0bc2aa3d70","name":"","source":{"id":"70b1056d-0199-1000-6b26-5ac4247355d0","type":"PROCESSOR","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"ExecuteSQL","comments":"","instanceIdentifier":"762d57e1-3e50-321e-f624-691bdcc71ff2"},"destination":{"id":"70b1056c-0199-1000-617f-c8cd182efdbf","type":"PROCESSOR","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"ConvertRecord","comments":"","instanceIdentifier":"a5eb0fb4-d747-3dc0-3832-81d03b7a1ae8"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"},{"identifier":"70b10577-0199-1000-ce29-f8593d20e204","instanceIdentifier":"af19527d-3010-383e-61c1-bebbd7107ec7","name":"","source":{"id":"70b10570-0199-1000-da8d-2342e2b628e9","type":"INPUT_PORT","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"input","instanceIdentifier":"7bc30aa2-f04f-3ad8-67b5-f68e648484d1"},"destination":{"id":"70b1056e-0199-1000-b44b-05598ac0af2a","type":"PROCESSOR","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"45192422-a0c7-315b-29e8-54aeb8d91256"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"},{"identifier":"70b10573-0199-1000-12a2-365076262ae5","instanceIdentifier":"e59a06fe-ec07-3db6-bfb7-772c5f4da4c5","name":"","source":{"id":"70b1056f-0199-1000-9fad-9b3b4c1a56ba","type":"PROCESSOR","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"UpdateAttribute","comments":"","instanceIdentifier":"a45ae745-33d9-38a8-d967-870c52628e21"},"destination":{"id":"70b1056d-0199-1000-6b26-5ac4247355d0","type":"PROCESSOR","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"ExecuteSQL","comments":"","instanceIdentifier":"762d57e1-3e50-321e-f624-691bdcc71ff2"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"},{"identifier":"70b10572-0199-1000-bd3d-5a02db5e1662","instanceIdentifier":"8101482c-d803-3af9-e164-ed4f731518da","name":"","source":{"id":"70b1056c-0199-1000-617f-c8cd182efdbf","type":"PROCESSOR","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"ConvertRecord","comments":"","instanceIdentifier":"a5eb0fb4-d747-3dc0-3832-81d03b7a1ae8"},"destination":{"id":"70b1056b-0199-1000-9dcb-b7b35937103b","type":"PROCESSOR","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"SplitJson","comments":"","instanceIdentifier":"23c47167-1fd8-3fb8-8398-2f6078b07f7e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"},{"identifier":"70b10575-0199-1000-6832-be80cd839d97","instanceIdentifier":"93db2538-a1d6-3577-b545-047e2978774e","name":"","source":{"id":"70b1056e-0199-1000-b44b-05598ac0af2a","type":"PROCESSOR","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"45192422-a0c7-315b-29e8-54aeb8d91256"},"destination":{"id":"70b1056f-0199-1000-9fad-9b3b4c1a56ba","type":"PROCESSOR","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"UpdateAttribute","comments":"","instanceIdentifier":"a45ae745-33d9-38a8-d967-870c52628e21"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"},{"identifier":"70b10576-0199-1000-d03d-30a113fc7446","instanceIdentifier":"9cc3db70-62a4-37d9-c0c6-171edd83db01","name":"","source":{"id":"70b1056b-0199-1000-9dcb-b7b35937103b","type":"PROCESSOR","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"SplitJson","comments":"","instanceIdentifier":"23c47167-1fd8-3fb8-8398-2f6078b07f7e"},"destination":{"id":"70b10571-0199-1000-ff26-d1a5d9c18a14","type":"OUTPUT_PORT","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"output","instanceIdentifier":"d12b2ef8-45cc-3560-b61e-2a8bb284dcb1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"70b1056a-0199-1000-24f8-a87f585e4e6f","instanceIdentifier":"344fab5b-0406-35ae-cc1a-b40371801133","name":"AvroReader-BeautyRoom","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.3.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b10569-0199-1000-15f1-06f3d736a5a7"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105c6-0199-1000-5eeb-387b2d688fe9","instanceIdentifier":"912cdd1f-b29d-3021-db5a-1f1dbb76149a","name":"payment.get.new","comments":"","position":{"x":-2576.0,"y":48.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b105c9-0199-1000-cf82-50f2199c6b39","instanceIdentifier":"ec9703f8-6383-3035-d91a-7cb9e435f7b0","name":"ExecuteScript","comments":"","position":{"x":1424.0,"y":-288.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.*\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def inputText = session.read(flowFile).text\n    def jsonSlurper = new JsonSlurper()\n    def paymentsArray = []\n    \n    //   \n    if (inputText.trim().startsWith('[')) {\n        paymentsArray = jsonSlurper.parseText(inputText)\n    }\n    \n    def result = [\n        page: 1,\n        pageSize: 100,\n        paymentsQuantity: paymentsArray.size(),\n        payments: paymentsArray\n    ]\n    \n    def outputText = new JsonBuilder(result).toString()\n    \n    flowFile = session.write(flowFile, { outputStream ->\n        outputStream.write(outputText.getBytes('UTF-8'))\n    } as OutputStreamCallback)\n    \n    session.transfer(flowFile, REL_SUCCESS)\n} catch (e) {\n    log.error(\"Error processing JSON: ${e.message}\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"},{"identifier":"70b105c8-0199-1000-bf1d-36ff33292538","instanceIdentifier":"a7725ff2-2b51-32eb-9999-c112922fc0e4","name":"UpdateAttribute","comments":"","position":{"x":-208.0,"y":88.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","payment_status":"${http.query.param.payment_status}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_status":{"name":"payment_status","displayName":"payment_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"},{"identifier":"70b105c7-0199-1000-e306-0870156d1d73","instanceIdentifier":"bc0d5e37-7973-332e-cfc4-47029b935f23","name":"ExecuteSQL","comments":"","position":{"x":448.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"select  \n    *\nfrom payments as payments\nwhere payment_status = '${payment_status}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"},{"identifier":"70b105ca-0199-1000-f476-08eb7d9cee80","instanceIdentifier":"d8a1b90f-b1bd-31e5-8482-bd94407fce8e","name":"ConvertRecord","comments":"","position":{"x":1096.0,"y":104.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"}],"inputPorts":[{"identifier":"70b105cb-0199-1000-758d-0445aa312bca","instanceIdentifier":"84b94dc5-1968-39c2-1c3d-9505baf3df3f","name":"input","position":{"x":-136.0,"y":-256.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"}],"outputPorts":[{"identifier":"70b105cc-0199-1000-756c-4276ea799755","instanceIdentifier":"d6ee8177-51f2-36a5-0c52-63a9eadc6478","name":"output","position":{"x":1832.0,"y":544.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"}],"connections":[{"identifier":"70b105cf-0199-1000-0a8f-75efa2512f3f","instanceIdentifier":"9ecb6b22-3369-3907-bcf6-77296a81fec0","name":"","source":{"id":"70b105c8-0199-1000-bf1d-36ff33292538","type":"PROCESSOR","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"UpdateAttribute","comments":"","instanceIdentifier":"a7725ff2-2b51-32eb-9999-c112922fc0e4"},"destination":{"id":"70b105c7-0199-1000-e306-0870156d1d73","type":"PROCESSOR","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"ExecuteSQL","comments":"","instanceIdentifier":"bc0d5e37-7973-332e-cfc4-47029b935f23"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"},{"identifier":"70b105cd-0199-1000-e1fd-7a8827f053df","instanceIdentifier":"4d26bd27-e946-32ee-5d98-4f4ecde91fea","name":"","source":{"id":"70b105c7-0199-1000-e306-0870156d1d73","type":"PROCESSOR","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"ExecuteSQL","comments":"","instanceIdentifier":"bc0d5e37-7973-332e-cfc4-47029b935f23"},"destination":{"id":"70b105ca-0199-1000-f476-08eb7d9cee80","type":"PROCESSOR","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"ConvertRecord","comments":"","instanceIdentifier":"d8a1b90f-b1bd-31e5-8482-bd94407fce8e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"},{"identifier":"70b105d1-0199-1000-4826-c0761e38cb97","instanceIdentifier":"7f0c3c53-9831-368e-d853-e8ce7d12fbde","name":"","source":{"id":"70b105ca-0199-1000-f476-08eb7d9cee80","type":"PROCESSOR","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"ConvertRecord","comments":"","instanceIdentifier":"d8a1b90f-b1bd-31e5-8482-bd94407fce8e"},"destination":{"id":"70b105c9-0199-1000-cf82-50f2199c6b39","type":"PROCESSOR","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"ExecuteScript","comments":"","instanceIdentifier":"ec9703f8-6383-3035-d91a-7cb9e435f7b0"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"},{"identifier":"70b105d0-0199-1000-0ade-6090701a2a67","instanceIdentifier":"204eaddb-b61a-3556-0c8a-1962fe517e7e","name":"","source":{"id":"70b105cb-0199-1000-758d-0445aa312bca","type":"INPUT_PORT","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"input","instanceIdentifier":"84b94dc5-1968-39c2-1c3d-9505baf3df3f"},"destination":{"id":"70b105c8-0199-1000-bf1d-36ff33292538","type":"PROCESSOR","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"UpdateAttribute","comments":"","instanceIdentifier":"a7725ff2-2b51-32eb-9999-c112922fc0e4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"},{"identifier":"70b105ce-0199-1000-1d11-aef6a2d6d024","instanceIdentifier":"bdf2d694-355b-330e-c960-28de1493d338","name":"","source":{"id":"70b105c9-0199-1000-cf82-50f2199c6b39","type":"PROCESSOR","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"ExecuteScript","comments":"","instanceIdentifier":"ec9703f8-6383-3035-d91a-7cb9e435f7b0"},"destination":{"id":"70b105cc-0199-1000-756c-4276ea799755","type":"OUTPUT_PORT","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"output","instanceIdentifier":"d6ee8177-51f2-36a5-0c52-63a9eadc6478"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105c6-0199-1000-5eeb-387b2d688fe9"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b1058e-0199-1000-76e6-52deba10e06a","instanceIdentifier":"0304ed7c-8321-3f26-4b87-84994bb825fb","name":"payment.status.add","comments":"","position":{"x":1256.0,"y":352.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10590-0199-1000-2a16-ffd80bdcf45c","instanceIdentifier":"ffacb598-71b9-30bf-1e74-7f317ba76473","name":"UpdateAttribute","comments":"","position":{"x":360.0,"y":24.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","status_long_id":"${payment_short_id:append('-'):append(${now():format('yyyyMMddHHmmssSSS')})}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_long_id":{"name":"status_long_id","displayName":"status_long_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b10592-0199-1000-caa7-911fd55baab5","instanceIdentifier":"b8fa9a09-efee-39c8-1306-852917577b65","name":"EvaluateJsonPath","comments":"","position":{"x":-304.0,"y":24.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","status_code":"$.status_code","Max String Length":"20 MB","status_name":"$.status_name","Return Type":"auto-detect","Null Value Representation":"empty string","source":"$.source","status_created_at":"$.status_created_at","Path Not Found Behavior":"ignore","status_created_timezone":"$.status_created_timezone","additional_info":"$.additional_info","payment_short_id":"$.payment_short_id","commentary":"$.commentary","order_short_id":"$.order_short_id"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_code":{"name":"status_code","displayName":"status_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_name":{"name":"status_name","displayName":"status_name","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"status_created_at":{"name":"status_created_at","displayName":"status_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_created_timezone":{"name":"status_created_timezone","displayName":"status_created_timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"additional_info":{"name":"additional_info","displayName":"additional_info","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_short_id":{"name":"payment_short_id","displayName":"payment_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"commentary":{"name":"commentary","displayName":"commentary","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b10591-0199-1000-16d2-59c370b1f6f9","instanceIdentifier":"a1856991-bbd3-346a-5980-2fb9b559c109","name":"SplitJson","comments":"","position":{"x":-304.0,"y":432.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b10593-0199-1000-26fd-263ba65c9764","instanceIdentifier":"076c4485-6ce4-343c-752e-fb6e18c2cb22","name":"ExecuteSQL","comments":"","position":{"x":1032.0,"y":24.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT payment_long_id from payment_status_history where status_id = last_insert_rowid();","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":"INSERT INTO payment_status_history (\n\tstatus_long_id,\n\tpayment_short_id,\n    order_short_id,\n    payment_long_id,\n    status_code,\n    status_name,\n    source,\n    additional_info,\n    commentary,\n    status_created_at,\n    status_created_timezone\n)\nVALUES (\n    '${status_long_id}',\n    '${payment_short_id}',\n    '${order_short_id}',\n    '${payment_long_id}',\n    '${status_code}',\n    '${status_name}',\n    '${source}',\n    '${additional_info}',\n    '${commentary}',\n    '${status_created_at}',\n    '${status_created_timezone}'\n);","compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b10594-0199-1000-6c3b-eb9105b84825","instanceIdentifier":"c4945761-c9d0-3b36-9a2a-8bfc713321ac","name":"ConvertRecord","comments":"","position":{"x":376.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b1058f-0199-1000-4351-d4846031bb50","instanceIdentifier":"238157aa-08ea-3fec-45e7-fd3e52401d01","name":"ExecuteSQL","comments":"","position":{"x":1032.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"select * from payment_status_history where status_long_id = '${status_long_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"}],"inputPorts":[{"identifier":"70b10595-0199-1000-52c4-dc0b8d8fcebb","instanceIdentifier":"880dff62-e1b3-396e-de69-73dd2eac4482","name":"input","position":{"x":-252.5000561790489,"y":-167.38923387872535},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"}],"outputPorts":[{"identifier":"70b10596-0199-1000-0164-7ba09e99af29","instanceIdentifier":"876a862f-0bdb-31c5-ea56-ea43039281bc","name":"output","position":{"x":-232.0,"y":808.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"}],"connections":[{"identifier":"70b10597-0199-1000-e0a1-17d33471f48c","instanceIdentifier":"2f78449f-c395-3c7b-2b9b-66f0a9ce3eae","name":"","source":{"id":"70b1058f-0199-1000-4351-d4846031bb50","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"ExecuteSQL","comments":"","instanceIdentifier":"238157aa-08ea-3fec-45e7-fd3e52401d01"},"destination":{"id":"70b10594-0199-1000-6c3b-eb9105b84825","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"ConvertRecord","comments":"","instanceIdentifier":"c4945761-c9d0-3b36-9a2a-8bfc713321ac"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b1059c-0199-1000-f76a-c0b544d3bca0","instanceIdentifier":"897ec564-44f0-3f82-c819-d2bfdc172e58","name":"","source":{"id":"70b10594-0199-1000-6c3b-eb9105b84825","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"ConvertRecord","comments":"","instanceIdentifier":"c4945761-c9d0-3b36-9a2a-8bfc713321ac"},"destination":{"id":"70b10591-0199-1000-16d2-59c370b1f6f9","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"SplitJson","comments":"","instanceIdentifier":"a1856991-bbd3-346a-5980-2fb9b559c109"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b10599-0199-1000-462e-5c58ae104f59","instanceIdentifier":"6aebf7b9-c505-372e-fa43-5da7d3a5a647","name":"","source":{"id":"70b10593-0199-1000-26fd-263ba65c9764","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"ExecuteSQL","comments":"","instanceIdentifier":"076c4485-6ce4-343c-752e-fb6e18c2cb22"},"destination":{"id":"70b1058f-0199-1000-4351-d4846031bb50","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"ExecuteSQL","comments":"","instanceIdentifier":"238157aa-08ea-3fec-45e7-fd3e52401d01"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b10598-0199-1000-12e1-88e89af75c6b","instanceIdentifier":"f3d36288-0afb-3fc8-71da-761db82382ed","name":"","source":{"id":"70b10592-0199-1000-caa7-911fd55baab5","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"b8fa9a09-efee-39c8-1306-852917577b65"},"destination":{"id":"70b10590-0199-1000-2a16-ffd80bdcf45c","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"UpdateAttribute","comments":"","instanceIdentifier":"ffacb598-71b9-30bf-1e74-7f317ba76473"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b1059a-0199-1000-ba43-ac1f9a76cf0a","instanceIdentifier":"a008bef3-92e7-3fb2-1cf2-eb82aef0558d","name":"","source":{"id":"70b10591-0199-1000-16d2-59c370b1f6f9","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"SplitJson","comments":"","instanceIdentifier":"a1856991-bbd3-346a-5980-2fb9b559c109"},"destination":{"id":"70b10596-0199-1000-0164-7ba09e99af29","type":"OUTPUT_PORT","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"output","instanceIdentifier":"876a862f-0bdb-31c5-ea56-ea43039281bc"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b1059b-0199-1000-e09d-41b3f5a8a0bb","instanceIdentifier":"cb5a6169-171a-3421-abe5-a248c3e427f8","name":"","source":{"id":"70b10590-0199-1000-2a16-ffd80bdcf45c","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"UpdateAttribute","comments":"","instanceIdentifier":"ffacb598-71b9-30bf-1e74-7f317ba76473"},"destination":{"id":"70b10593-0199-1000-26fd-263ba65c9764","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"ExecuteSQL","comments":"","instanceIdentifier":"076c4485-6ce4-343c-752e-fb6e18c2cb22"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"},{"identifier":"70b1059d-0199-1000-32c1-3de27938ce67","instanceIdentifier":"76dd3d40-c4f1-3657-031c-ddfe8bc23396","name":"","source":{"id":"70b10595-0199-1000-52c4-dc0b8d8fcebb","type":"INPUT_PORT","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"input","instanceIdentifier":"880dff62-e1b3-396e-de69-73dd2eac4482"},"destination":{"id":"70b10592-0199-1000-caa7-911fd55baab5","type":"PROCESSOR","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"b8fa9a09-efee-39c8-1306-852917577b65"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1058e-0199-1000-76e6-52deba10e06a"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b1054a-0199-1000-4f1a-b36027c7097e","instanceIdentifier":"91f3b362-ce53-3036-9b34-590b09e83cd2","name":"payment.update","comments":"","position":{"x":824.0,"y":352.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b1054d-0199-1000-0814-2bef4b3c6d67","instanceIdentifier":"f4f1bd9f-1ab1-3f7d-9b87-7d4bca4cd01f","name":"ExecuteSQL","comments":"","position":{"x":1032.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"select * from payments where payment_short_id = '${payment_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b1054f-0199-1000-caaa-5e99f283fc7e","instanceIdentifier":"b5fd45f5-a7be-3fe3-e85f-d1faff7a7ca6","name":"UpdateAttribute","comments":"","position":{"x":360.0,"y":24.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b1054c-0199-1000-b286-a25d05d0c7af","instanceIdentifier":"8d233ad1-0c4f-3efb-4d08-871340c5b9ff","name":"SplitJson","comments":"","position":{"x":-304.0,"y":432.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b1054e-0199-1000-dd1d-e8e2466ad74d","instanceIdentifier":"bc8f0f93-3447-39a0-d11e-32bff08fcdf0","name":"ExecuteSQL","comments":"","position":{"x":1032.0,"y":24.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"UPDATE payments SET\n\tpayment_status = '${payment_status}',\n\tlast_updated_by = '${source}'\nWHERE\n\tpayment_short_id = '${payment_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b1054b-0199-1000-4d98-3c432e3b8217","instanceIdentifier":"8142ecd3-689c-3b0b-9b8d-33a5061ccbf1","name":"EvaluateJsonPath","comments":"","position":{"x":-312.0,"y":24.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","payment_status":"$.payment_status","payment_short_id":"$.payment_short_id","Null Value Representation":"empty string","source":"$.source","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_status":{"name":"payment_status","displayName":"payment_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_short_id":{"name":"payment_short_id","displayName":"payment_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b10550-0199-1000-5283-25bfb00bd980","instanceIdentifier":"eea6a5dc-f688-3603-c563-7d77312a673d","name":"ConvertRecord","comments":"","position":{"x":376.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"}],"inputPorts":[{"identifier":"70b10551-0199-1000-08e2-0f98fcb7f355","instanceIdentifier":"7f6be0c4-6243-3866-c579-f9f090f21a63","name":"input","position":{"x":-252.5000561790489,"y":-167.38923387872535},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"}],"outputPorts":[{"identifier":"70b10552-0199-1000-37c6-1b44d91c76cb","instanceIdentifier":"f5eff070-83c0-30eb-db7f-4ea0e4887e71","name":"error","position":{"x":1783.4937277787228,"y":428.8032084041005},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b10553-0199-1000-89b9-7334a9594435","instanceIdentifier":"dfe30d45-54f1-3d3d-a65d-1fc8c412f16a","name":"output","position":{"x":-168.0,"y":968.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"}],"connections":[{"identifier":"70b10555-0199-1000-9fd0-7208f4aa7954","instanceIdentifier":"d5abf5ec-b902-3b67-c837-8cf4e4af180e","name":"","source":{"id":"70b1054d-0199-1000-0814-2bef4b3c6d67","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"ExecuteSQL","comments":"","instanceIdentifier":"f4f1bd9f-1ab1-3f7d-9b87-7d4bca4cd01f"},"destination":{"id":"70b10550-0199-1000-5283-25bfb00bd980","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"ConvertRecord","comments":"","instanceIdentifier":"eea6a5dc-f688-3603-c563-7d77312a673d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b10556-0199-1000-fbeb-920197ef8689","instanceIdentifier":"372e64c2-7adb-3288-197f-44edb6a8282a","name":"","source":{"id":"70b1054e-0199-1000-dd1d-e8e2466ad74d","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"ExecuteSQL","comments":"","instanceIdentifier":"bc8f0f93-3447-39a0-d11e-32bff08fcdf0"},"destination":{"id":"70b10552-0199-1000-37c6-1b44d91c76cb","type":"OUTPUT_PORT","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"error","instanceIdentifier":"f5eff070-83c0-30eb-db7f-4ea0e4887e71"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b1055b-0199-1000-6967-68e3fb255aad","instanceIdentifier":"e23da449-1c33-3ec6-f4a3-86cfd8b69d13","name":"","source":{"id":"70b1054c-0199-1000-b286-a25d05d0c7af","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"SplitJson","comments":"","instanceIdentifier":"8d233ad1-0c4f-3efb-4d08-871340c5b9ff"},"destination":{"id":"70b10553-0199-1000-89b9-7334a9594435","type":"OUTPUT_PORT","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"output","instanceIdentifier":"dfe30d45-54f1-3d3d-a65d-1fc8c412f16a"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b10558-0199-1000-2968-6c9e3e63d995","instanceIdentifier":"c7a1ad54-2e75-3e63-6169-ecf20760800b","name":"","source":{"id":"70b10550-0199-1000-5283-25bfb00bd980","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"ConvertRecord","comments":"","instanceIdentifier":"eea6a5dc-f688-3603-c563-7d77312a673d"},"destination":{"id":"70b1054c-0199-1000-b286-a25d05d0c7af","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"SplitJson","comments":"","instanceIdentifier":"8d233ad1-0c4f-3efb-4d08-871340c5b9ff"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b10554-0199-1000-414e-16aac111d8c7","instanceIdentifier":"b275402b-b633-34c2-1241-b53d78299e54","name":"","source":{"id":"70b1054f-0199-1000-caaa-5e99f283fc7e","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"UpdateAttribute","comments":"","instanceIdentifier":"b5fd45f5-a7be-3fe3-e85f-d1faff7a7ca6"},"destination":{"id":"70b1054e-0199-1000-dd1d-e8e2466ad74d","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"ExecuteSQL","comments":"","instanceIdentifier":"bc8f0f93-3447-39a0-d11e-32bff08fcdf0"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b10557-0199-1000-a7bc-59879062c383","instanceIdentifier":"ed3df6a8-6a75-3d28-60ff-5a9543812658","name":"","source":{"id":"70b1054b-0199-1000-4d98-3c432e3b8217","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8142ecd3-689c-3b0b-9b8d-33a5061ccbf1"},"destination":{"id":"70b1054f-0199-1000-caaa-5e99f283fc7e","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"UpdateAttribute","comments":"","instanceIdentifier":"b5fd45f5-a7be-3fe3-e85f-d1faff7a7ca6"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b10559-0199-1000-a030-ba670c884d67","instanceIdentifier":"965ca796-b81c-34da-72b2-745e86e1a95a","name":"","source":{"id":"70b1054e-0199-1000-dd1d-e8e2466ad74d","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"ExecuteSQL","comments":"","instanceIdentifier":"bc8f0f93-3447-39a0-d11e-32bff08fcdf0"},"destination":{"id":"70b1054d-0199-1000-0814-2bef4b3c6d67","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"ExecuteSQL","comments":"","instanceIdentifier":"f4f1bd9f-1ab1-3f7d-9b87-7d4bca4cd01f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"},{"identifier":"70b1055a-0199-1000-0a48-e4ec466da76f","instanceIdentifier":"cd75ebfb-cc50-3056-a873-061e105ee5cd","name":"","source":{"id":"70b10551-0199-1000-08e2-0f98fcb7f355","type":"INPUT_PORT","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"input","instanceIdentifier":"7f6be0c4-6243-3866-c579-f9f090f21a63"},"destination":{"id":"70b1054b-0199-1000-4d98-3c432e3b8217","type":"PROCESSOR","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8142ecd3-689c-3b0b-9b8d-33a5061ccbf1"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1054a-0199-1000-4f1a-b36027c7097e"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10539-0199-1000-de94-2ccdf9a643a6","instanceIdentifier":"9adfd57c-aca1-3e08-9277-396724d3f197","name":"payment.async.confirm.send-code","comments":"","position":{"x":360.0,"y":1336.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b1053f-0199-1000-49b2-97fbd8e2b152","instanceIdentifier":"f6ec5c85-8105-35d4-6f1c-9a908b8d92a6","name":"ExecuteSQL","comments":"","position":{"x":856.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"UPDATE payment_confirmations\nSET\n\tconfirmation_status = '${action}'\n\t,send_code = '${send_code}'\n\t,last_updated_by = '${source}'\nWHERE confirmation_short_id = '${confirmation_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b1053e-0199-1000-868e-e13f37d6a4dc","instanceIdentifier":"34c3afa6-aa32-392c-6333-5fe9a535b418","name":"EvaluateJsonPath","comments":"","position":{"x":48.0,"y":-184.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","send_code":"$.send_code","Max String Length":"20 MB","confirmation_short_id":"$.confirmation_short_id","Return Type":"json","action":"$.action","Null Value Representation":"empty string","source":"$.source","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"send_code":{"name":"send_code","displayName":"send_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_short_id":{"name":"confirmation_short_id","displayName":"confirmation_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"action":{"name":"action","displayName":"action","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b1053d-0199-1000-0ef3-52c70469008c","instanceIdentifier":"d1460054-affd-3007-bae4-c8066201e6a2","name":"ConvertRecord","comments":"","position":{"x":1536.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b10540-0199-1000-e1e0-b5c457592809","instanceIdentifier":"d8564142-ee0c-3b30-1f20-f91655d8f7af","name":"SplitJson","comments":"","position":{"x":856.0,"y":440.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b1053b-0199-1000-81f0-92c3511262ea","instanceIdentifier":"591f75f7-1c77-3b30-e8d9-f89313ba9d2b","name":"ExecuteSQL","comments":"","position":{"x":1536.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT\n\tconfirmation_id,\n    confirmation_long_id,\n    confirmation_short_id,\n    payment_short_id,\n    order_short_id,\n    client_phone,\n    send_code,\n    entered_code,\n    confirmation_status,\n    attempts,\n    max_attempts,\n    expiration_time,\n    confirmed_at,\n    created_at,\n    updated_at,\n    source,\n    last_updated_by\nfrom payment_confirmations\nwhere\n\tconfirmation_short_id = '${confirmation_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b1053c-0199-1000-8d00-c8fde9216fef","instanceIdentifier":"00c2a816-ab49-3398-792b-071c7e6200bc","name":"UpdateAttribute","comments":"","position":{"x":48.0,"y":96.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"}],"inputPorts":[{"identifier":"70b10541-0199-1000-8e03-afd0d72521ef","instanceIdentifier":"68c2abc1-9cad-3f32-4a70-468a48c0043f","name":"input","position":{"x":104.0,"y":-376.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"}],"outputPorts":[{"identifier":"70b10542-0199-1000-d374-ef68c21ba721","instanceIdentifier":"058ab688-7db1-3cd0-0b4f-df1239f2f24e","name":"output","position":{"x":-64.0,"y":560.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"}],"connections":[{"identifier":"70b10549-0199-1000-7b53-d3d1efb343a5","instanceIdentifier":"78ecf555-6ba0-377f-ba71-67fab6afb9cd","name":"","source":{"id":"70b1053f-0199-1000-49b2-97fbd8e2b152","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"ExecuteSQL","comments":"","instanceIdentifier":"f6ec5c85-8105-35d4-6f1c-9a908b8d92a6"},"destination":{"id":"70b1053b-0199-1000-81f0-92c3511262ea","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"ExecuteSQL","comments":"","instanceIdentifier":"591f75f7-1c77-3b30-e8d9-f89313ba9d2b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b10547-0199-1000-6e7f-0cb6bef57130","instanceIdentifier":"cbd8d7f6-5449-35d6-f6f2-34c12ec5e4dd","name":"","source":{"id":"70b1053d-0199-1000-0ef3-52c70469008c","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"ConvertRecord","comments":"","instanceIdentifier":"d1460054-affd-3007-bae4-c8066201e6a2"},"destination":{"id":"70b10540-0199-1000-e1e0-b5c457592809","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"SplitJson","comments":"","instanceIdentifier":"d8564142-ee0c-3b30-1f20-f91655d8f7af"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b10545-0199-1000-49fc-1e961450e1a3","instanceIdentifier":"a7266373-7c14-3100-bfd6-6bb6ce8b9477","name":"","source":{"id":"70b10541-0199-1000-8e03-afd0d72521ef","type":"INPUT_PORT","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"input","instanceIdentifier":"68c2abc1-9cad-3f32-4a70-468a48c0043f"},"destination":{"id":"70b1053e-0199-1000-868e-e13f37d6a4dc","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"34c3afa6-aa32-392c-6333-5fe9a535b418"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b10544-0199-1000-fa80-d46242ae9876","instanceIdentifier":"93c41b9e-ce32-346f-11c5-c06d83c78a2a","name":"","source":{"id":"70b1053e-0199-1000-868e-e13f37d6a4dc","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"34c3afa6-aa32-392c-6333-5fe9a535b418"},"destination":{"id":"70b1053c-0199-1000-8d00-c8fde9216fef","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"UpdateAttribute","comments":"","instanceIdentifier":"00c2a816-ab49-3398-792b-071c7e6200bc"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b10548-0199-1000-cab5-fef2eefe5e38","instanceIdentifier":"4e0ddc6c-9410-3334-48bf-b2d5982e0ff8","name":"","source":{"id":"70b10540-0199-1000-e1e0-b5c457592809","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"SplitJson","comments":"","instanceIdentifier":"d8564142-ee0c-3b30-1f20-f91655d8f7af"},"destination":{"id":"70b10542-0199-1000-d374-ef68c21ba721","type":"OUTPUT_PORT","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"output","instanceIdentifier":"058ab688-7db1-3cd0-0b4f-df1239f2f24e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b10546-0199-1000-8f90-2b4aecebca36","instanceIdentifier":"a4eb3473-7d87-35a0-16d9-9769e552b44c","name":"","source":{"id":"70b1053c-0199-1000-8d00-c8fde9216fef","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"UpdateAttribute","comments":"","instanceIdentifier":"00c2a816-ab49-3398-792b-071c7e6200bc"},"destination":{"id":"70b1053f-0199-1000-49b2-97fbd8e2b152","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"ExecuteSQL","comments":"","instanceIdentifier":"f6ec5c85-8105-35d4-6f1c-9a908b8d92a6"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"},{"identifier":"70b10543-0199-1000-db47-167c5c1d68fd","instanceIdentifier":"7ee7ef85-ee1f-3c31-cc58-6fdce55b0370","name":"","source":{"id":"70b1053b-0199-1000-81f0-92c3511262ea","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"ExecuteSQL","comments":"","instanceIdentifier":"591f75f7-1c77-3b30-e8d9-f89313ba9d2b"},"destination":{"id":"70b1053d-0199-1000-0ef3-52c70469008c","type":"PROCESSOR","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"ConvertRecord","comments":"","instanceIdentifier":"d1460054-affd-3007-bae4-c8066201e6a2"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"70b1053a-0199-1000-43c2-ead3e2be1039","instanceIdentifier":"2568239c-c5dd-3484-b073-0147a8772b8c","name":"AvroReader-BeautyRoom","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.3.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b10539-0199-1000-de94-2ccdf9a643a6"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43","instanceIdentifier":"7c6305ec-5e9e-3b32-948b-57539350b681","name":"store.search","comments":"","position":{"x":-3136.0,"y":416.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b104d5-0199-1000-322b-c4e03a07f269","instanceIdentifier":"b886384f-7fd4-30b5-1fed-0af1531653ef","name":"EvaluateJsonPath","comments":"","position":{"x":-208.0,"y":88.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"store_code":"$.store_code","Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","seller_id":"$.seller_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"store_code":{"name":"store_code","displayName":"store_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"seller_id":{"name":"seller_id","displayName":"seller_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"},{"identifier":"70b104d4-0199-1000-c8c9-f6122176168b","instanceIdentifier":"5675aca4-bce1-37d4-7ccc-d0eb9dd1e8d9","name":"SplitJson","comments":"","position":{"x":1776.0,"y":96.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"},{"identifier":"70b104d3-0199-1000-45a7-894eceb6fd03","instanceIdentifier":"73b80876-f787-3a0c-ce3e-e447c1397581","name":"ConvertRecord","comments":"","position":{"x":1096.0,"y":104.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"},{"identifier":"70b104d6-0199-1000-6fe3-b0585d2afc47","instanceIdentifier":"4d9a5868-427b-38cb-8277-b18a5fd85688","name":"ExecuteSQL","comments":"","position":{"x":448.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"select  \n    stores.store_id,\n    stores.store_code,\n    stores.store_name,\n    stores.store_address,\n    stores.contact_phone,\n    stores.working_hours,\n    stores.timezone,\n    stores.created_at,\n    stores.updated_at\nfrom stores as stores\ninner join store_sellers as store_sellers\nwhere\n    store_sellers.seller_id = ${seller_id};","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"}],"inputPorts":[{"identifier":"70b104d7-0199-1000-9758-65e7d2ba779c","instanceIdentifier":"f5bdabd1-e40a-3f5b-fed6-99abb18ab481","name":"input","position":{"x":-152.0,"y":-96.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"}],"outputPorts":[{"identifier":"70b104d8-0199-1000-b707-64ef76017aa9","instanceIdentifier":"b7776244-48d9-3131-2a53-26f41e8a3f25","name":"output","position":{"x":1832.0,"y":544.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"}],"connections":[{"identifier":"70b104da-0199-1000-6305-66d49732d62e","instanceIdentifier":"c2a02859-528e-3031-19ad-35421d5004d0","name":"","source":{"id":"70b104d6-0199-1000-6fe3-b0585d2afc47","type":"PROCESSOR","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"ExecuteSQL","comments":"","instanceIdentifier":"4d9a5868-427b-38cb-8277-b18a5fd85688"},"destination":{"id":"70b104d3-0199-1000-45a7-894eceb6fd03","type":"PROCESSOR","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"ConvertRecord","comments":"","instanceIdentifier":"73b80876-f787-3a0c-ce3e-e447c1397581"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"},{"identifier":"70b104dc-0199-1000-61f6-1a7a3c19a9d0","instanceIdentifier":"a223b50e-0a8f-375f-837b-98e690606578","name":"","source":{"id":"70b104d5-0199-1000-322b-c4e03a07f269","type":"PROCESSOR","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"b886384f-7fd4-30b5-1fed-0af1531653ef"},"destination":{"id":"70b104d6-0199-1000-6fe3-b0585d2afc47","type":"PROCESSOR","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"ExecuteSQL","comments":"","instanceIdentifier":"4d9a5868-427b-38cb-8277-b18a5fd85688"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"},{"identifier":"70b104db-0199-1000-b87d-552e7587fc86","instanceIdentifier":"4c4819cb-36cc-30d9-854f-1ef2d384f030","name":"","source":{"id":"70b104d4-0199-1000-c8c9-f6122176168b","type":"PROCESSOR","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"SplitJson","comments":"","instanceIdentifier":"5675aca4-bce1-37d4-7ccc-d0eb9dd1e8d9"},"destination":{"id":"70b104d8-0199-1000-b707-64ef76017aa9","type":"OUTPUT_PORT","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"output","instanceIdentifier":"b7776244-48d9-3131-2a53-26f41e8a3f25"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"},{"identifier":"70b104d9-0199-1000-09f3-e9a2e7d0fe43","instanceIdentifier":"3e222353-fd10-3415-0687-26ca21ae089e","name":"","source":{"id":"70b104d7-0199-1000-9758-65e7d2ba779c","type":"INPUT_PORT","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"input","instanceIdentifier":"f5bdabd1-e40a-3f5b-fed6-99abb18ab481"},"destination":{"id":"70b104d5-0199-1000-322b-c4e03a07f269","type":"PROCESSOR","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"b886384f-7fd4-30b5-1fed-0af1531653ef"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"},{"identifier":"70b104dd-0199-1000-4cdf-7ef509d3f6c2","instanceIdentifier":"259b7234-a139-3b53-89a3-4979ffd14191","name":"","source":{"id":"70b104d3-0199-1000-45a7-894eceb6fd03","type":"PROCESSOR","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"ConvertRecord","comments":"","instanceIdentifier":"73b80876-f787-3a0c-ce3e-e447c1397581"},"destination":{"id":"70b104d4-0199-1000-c8c9-f6122176168b","type":"PROCESSOR","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"SplitJson","comments":"","instanceIdentifier":"5675aca4-bce1-37d4-7ccc-d0eb9dd1e8d9"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104d2-0199-1000-697e-d0c7ee8e9f43"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4","instanceIdentifier":"a82a2df3-372e-3b2d-39cc-23c267faef7f","name":"order.search","comments":"","position":{"x":-1536.0,"y":344.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b105be-0199-1000-1a83-441cbcb29bf0","instanceIdentifier":"497a3388-2d32-325f-2baf-b2bea83d7a1d","name":"ConvertRecord","comments":"","position":{"x":1096.0,"y":104.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"},{"identifier":"70b105bb-0199-1000-fae6-d2d08595667b","instanceIdentifier":"a5610b1a-e57e-374b-58f1-10d0ff2d4835","name":"EvaluateJsonPath","comments":"","position":{"x":-208.0,"y":88.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"},{"identifier":"70b105bc-0199-1000-53aa-a0620ef144aa","instanceIdentifier":"b24becd2-31b9-389b-8a60-e34b8412b520","name":"ExecuteSQL","comments":"","position":{"x":448.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"select  \n    orders.order_id,\n    orders.order_long_id,\n    orders.order_short_id,\n    orders.store_code,\n    orders.store_name,\n    orders.store_address,\n\torders.contact_phone,\n    orders.seller_id,\n    orders.client_id,\n    orders.loyalty_card,\n    orders.client_phone,\n    orders.total_points_amount,\n    orders.order_status,\n    orders.attributes,\n\torders.commentary,\n    orders.order_created_at,\n    orders.order_created_timezone,\n    orders.created_at,\n    orders.updated_at,\n    orders.source,\n\torders.last_updated_by\n   -- payments.payment_number,\n   -- payments.payment_method,\n   -- payments.amount,\n   -- payments.currency,\n   -- payments.final_status,\n   -- payments.external_id,\n   -- payments.created_at as payments_created_at,\n  --  payments.updated_at as payments_updated_at\nfrom orders as orders\n    --left outer join payments as payments\n    --on orders.order_short_id = payments.order_short_id\n\t--left outer join order_status_history as order_status_history\n    --on orders.order_short_id = order_status_history.order_short_id\n--and\nwhere\n    orders.order_short_id = '${order_short_id}'\n\t-- and orders.order_status <> 'confirmation_verified'\n;","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"},{"identifier":"70b105bd-0199-1000-80d3-f75963585c04","instanceIdentifier":"cb77f2cb-fca8-30b4-bc7d-b4e316143828","name":"SplitJson","comments":"","position":{"x":1776.0,"y":96.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"}],"inputPorts":[{"identifier":"70b105bf-0199-1000-7b73-ecbb8fd4ea5b","instanceIdentifier":"bb0b56bc-3445-3457-3084-602d67c5fdc0","name":"input","position":{"x":-152.0,"y":-96.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"}],"outputPorts":[{"identifier":"70b105c0-0199-1000-ed8d-2fa4f4f70058","instanceIdentifier":"7264241f-3e59-3b5f-4fed-36b2e1d95e81","name":"output","position":{"x":1832.0,"y":544.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"}],"connections":[{"identifier":"70b105c2-0199-1000-e906-eb3bf316e18f","instanceIdentifier":"a3ff78aa-6c34-39c7-5f3b-0f26ec3f4b1b","name":"","source":{"id":"70b105bf-0199-1000-7b73-ecbb8fd4ea5b","type":"INPUT_PORT","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"input","instanceIdentifier":"bb0b56bc-3445-3457-3084-602d67c5fdc0"},"destination":{"id":"70b105bb-0199-1000-fae6-d2d08595667b","type":"PROCESSOR","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"a5610b1a-e57e-374b-58f1-10d0ff2d4835"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"},{"identifier":"70b105c3-0199-1000-e18c-4e1f6adba226","instanceIdentifier":"ff484d11-b7fc-3516-4fe0-d63d35f3d044","name":"","source":{"id":"70b105be-0199-1000-1a83-441cbcb29bf0","type":"PROCESSOR","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"ConvertRecord","comments":"","instanceIdentifier":"497a3388-2d32-325f-2baf-b2bea83d7a1d"},"destination":{"id":"70b105bd-0199-1000-80d3-f75963585c04","type":"PROCESSOR","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"SplitJson","comments":"","instanceIdentifier":"cb77f2cb-fca8-30b4-bc7d-b4e316143828"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"},{"identifier":"70b105c1-0199-1000-c34a-11e68308e38a","instanceIdentifier":"1e9ebf12-4027-313c-9a8c-600fc882c15d","name":"","source":{"id":"70b105bc-0199-1000-53aa-a0620ef144aa","type":"PROCESSOR","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"ExecuteSQL","comments":"","instanceIdentifier":"b24becd2-31b9-389b-8a60-e34b8412b520"},"destination":{"id":"70b105be-0199-1000-1a83-441cbcb29bf0","type":"PROCESSOR","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"ConvertRecord","comments":"","instanceIdentifier":"497a3388-2d32-325f-2baf-b2bea83d7a1d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"},{"identifier":"70b105c5-0199-1000-db96-bb78e19a69bb","instanceIdentifier":"b4906261-f679-34e8-cd7d-a90c18334044","name":"","source":{"id":"70b105bb-0199-1000-fae6-d2d08595667b","type":"PROCESSOR","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"a5610b1a-e57e-374b-58f1-10d0ff2d4835"},"destination":{"id":"70b105bc-0199-1000-53aa-a0620ef144aa","type":"PROCESSOR","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"ExecuteSQL","comments":"","instanceIdentifier":"b24becd2-31b9-389b-8a60-e34b8412b520"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"},{"identifier":"70b105c4-0199-1000-d1a4-c92324b08c25","instanceIdentifier":"dfba94f9-fbb5-3592-c87c-8ddc063f0fbd","name":"","source":{"id":"70b105bd-0199-1000-80d3-f75963585c04","type":"PROCESSOR","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"SplitJson","comments":"","instanceIdentifier":"cb77f2cb-fca8-30b4-bc7d-b4e316143828"},"destination":{"id":"70b105c0-0199-1000-ed8d-2fa4f4f70058","type":"OUTPUT_PORT","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"output","instanceIdentifier":"7264241f-3e59-3b5f-4fed-36b2e1d95e81"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105ba-0199-1000-bffd-9f64e74fa9a4"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10528-0199-1000-a7bf-70597e1a3502","instanceIdentifier":"53e1e54c-a9c7-38ef-35bd-45bddc9f1c8a","name":"payment.async.confirm.update","comments":"","position":{"x":352.0,"y":920.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b1052f-0199-1000-0e8c-7d636fd39415","instanceIdentifier":"d640525a-af08-37ce-0c31-71cc7fdf3c64","name":"ExecuteSQL","comments":"","position":{"x":856.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"UPDATE payment_confirmations\nSET\n\tconfirmation_status = '${action}'\n\t,last_updated_by = '${source}'\nWHERE confirmation_short_id = '${confirmation_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b1052d-0199-1000-bed3-887aafa2f3f9","instanceIdentifier":"fe97d102-80db-3d5b-8107-6c5ff11be717","name":"ConvertRecord","comments":"","position":{"x":1536.0,"y":448.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b1052e-0199-1000-d5f1-e345fc70236f","instanceIdentifier":"96b5c9da-a7b9-3c92-272f-a39199c22137","name":"EvaluateJsonPath","comments":"","position":{"x":48.0,"y":-184.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","confirmation_short_id":"$.confirmation_short_id","Return Type":"json","action":"$.action","Null Value Representation":"empty string","source":"$.source","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"confirmation_short_id":{"name":"confirmation_short_id","displayName":"confirmation_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"action":{"name":"action","displayName":"action","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b1052b-0199-1000-805b-4a727e347888","instanceIdentifier":"5174ff86-2007-31bb-a631-011075c19bdc","name":"SplitJson","comments":"","position":{"x":856.0,"y":440.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b1052a-0199-1000-4cee-fdecb95fffef","instanceIdentifier":"b5523498-4553-3584-3826-4e3b8bdb83ab","name":"ExecuteSQL","comments":"","position":{"x":1536.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT\n\tconfirmation_id,\n    confirmation_long_id,\n    confirmation_short_id,\n    payment_short_id,\n    order_short_id,\n    client_phone,\n    send_code,\n    entered_code,\n    confirmation_status,\n    attempts,\n    max_attempts,\n    expiration_time,\n    confirmed_at,\n    created_at,\n    updated_at,\n    source,\n    last_updated_by\nfrom payment_confirmations\nwhere\n\tconfirmation_short_id = '${confirmation_short_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b1052c-0199-1000-4d3a-0ac09324e08e","instanceIdentifier":"2656c61d-2648-302c-dab1-dae9309af6fe","name":"UpdateAttribute","comments":"","position":{"x":48.0,"y":96.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"}],"inputPorts":[{"identifier":"70b10530-0199-1000-e5f7-9d646ff6f9dd","instanceIdentifier":"457b668c-87a6-31bc-46d6-c2fd27eed1a5","name":"input","position":{"x":104.0,"y":-376.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"}],"outputPorts":[{"identifier":"70b10531-0199-1000-99cb-7c249a16b7ad","instanceIdentifier":"3b396205-2737-38ad-c217-b0ce4ea93d3a","name":"output","position":{"x":-64.0,"y":560.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"}],"connections":[{"identifier":"70b10535-0199-1000-13e1-03837011a674","instanceIdentifier":"b464a659-0449-37af-53b5-7d18f1dfd267","name":"","source":{"id":"70b10530-0199-1000-e5f7-9d646ff6f9dd","type":"INPUT_PORT","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"input","instanceIdentifier":"457b668c-87a6-31bc-46d6-c2fd27eed1a5"},"destination":{"id":"70b1052e-0199-1000-d5f1-e345fc70236f","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"96b5c9da-a7b9-3c92-272f-a39199c22137"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b10534-0199-1000-9edd-d18fad036332","instanceIdentifier":"e492932f-6df4-3c13-5f4d-8fcde3339d72","name":"","source":{"id":"70b1052e-0199-1000-d5f1-e345fc70236f","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"96b5c9da-a7b9-3c92-272f-a39199c22137"},"destination":{"id":"70b1052c-0199-1000-4d3a-0ac09324e08e","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"UpdateAttribute","comments":"","instanceIdentifier":"2656c61d-2648-302c-dab1-dae9309af6fe"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b10533-0199-1000-a3e9-651aa137111f","instanceIdentifier":"8a041b29-f07d-3622-9fea-9704cb8db3fc","name":"","source":{"id":"70b1052a-0199-1000-4cee-fdecb95fffef","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"ExecuteSQL","comments":"","instanceIdentifier":"b5523498-4553-3584-3826-4e3b8bdb83ab"},"destination":{"id":"70b1052d-0199-1000-bed3-887aafa2f3f9","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"ConvertRecord","comments":"","instanceIdentifier":"fe97d102-80db-3d5b-8107-6c5ff11be717"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b10537-0199-1000-59dc-fc1285e6d151","instanceIdentifier":"e0868458-a3de-32d8-eaa6-028d4cd87420","name":"","source":{"id":"70b1052d-0199-1000-bed3-887aafa2f3f9","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"ConvertRecord","comments":"","instanceIdentifier":"fe97d102-80db-3d5b-8107-6c5ff11be717"},"destination":{"id":"70b1052b-0199-1000-805b-4a727e347888","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"SplitJson","comments":"","instanceIdentifier":"5174ff86-2007-31bb-a631-011075c19bdc"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b10532-0199-1000-f485-38cc6404b4dd","instanceIdentifier":"dc127486-d472-30c7-0d5f-f33f083847d4","name":"","source":{"id":"70b1052b-0199-1000-805b-4a727e347888","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"SplitJson","comments":"","instanceIdentifier":"5174ff86-2007-31bb-a631-011075c19bdc"},"destination":{"id":"70b10531-0199-1000-99cb-7c249a16b7ad","type":"OUTPUT_PORT","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"output","instanceIdentifier":"3b396205-2737-38ad-c217-b0ce4ea93d3a"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b10536-0199-1000-cde6-971156601ca8","instanceIdentifier":"006ab5e5-f3c2-3eae-719b-09558fe795fc","name":"","source":{"id":"70b1052c-0199-1000-4d3a-0ac09324e08e","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"UpdateAttribute","comments":"","instanceIdentifier":"2656c61d-2648-302c-dab1-dae9309af6fe"},"destination":{"id":"70b1052f-0199-1000-0e8c-7d636fd39415","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"ExecuteSQL","comments":"","instanceIdentifier":"d640525a-af08-37ce-0c31-71cc7fdf3c64"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"},{"identifier":"70b10538-0199-1000-4f36-06b6f4cd48a7","instanceIdentifier":"b438ca8a-8f6a-340a-8ff9-20f5720d8d53","name":"","source":{"id":"70b1052f-0199-1000-0e8c-7d636fd39415","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"ExecuteSQL","comments":"","instanceIdentifier":"d640525a-af08-37ce-0c31-71cc7fdf3c64"},"destination":{"id":"70b1052a-0199-1000-4cee-fdecb95fffef","type":"PROCESSOR","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"ExecuteSQL","comments":"","instanceIdentifier":"b5523498-4553-3584-3826-4e3b8bdb83ab"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"70b10529-0199-1000-b0fa-550c85549339","instanceIdentifier":"2bc0c424-3d67-3ec4-1bb9-124a098c0b65","name":"AvroReader-BeautyRoom","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.3.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b10528-0199-1000-a7bf-70597e1a3502"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105ae-0199-1000-f4a3-f2ed408466ff","instanceIdentifier":"038cfde3-e501-37db-4d86-9974dcb9288c","name":"orders.get.new","comments":"","position":{"x":-2096.0,"y":56.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b105af-0199-1000-9174-0d92f7d18c02","instanceIdentifier":"a0dae814-d978-3fb7-fb39-ae06d25c5343","name":"ExecuteSQL","comments":"","position":{"x":448.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"select  \n    *\nfrom orders as orders\nwhere order_status = '${order_status}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"},{"identifier":"70b105b2-0199-1000-44b2-ce26980e445d","instanceIdentifier":"5fee1f0c-7cca-3321-c330-30c1e13f02e5","name":"ExecuteScript","comments":"","position":{"x":1424.0,"y":-288.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.*\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def inputText = session.read(flowFile).text\n    def jsonSlurper = new JsonSlurper()\n    def ordersArray = []\n    \n    //   \n    if (inputText.trim().startsWith('[')) {\n        ordersArray = jsonSlurper.parseText(inputText)\n    }\n    \n    def result = [\n        page: 1,\n        pageSize: 100,\n        ordersQuantity: ordersArray.size(),\n        orders: ordersArray\n    ]\n    \n    def outputText = new JsonBuilder(result).toString()\n    \n    flowFile = session.write(flowFile, { outputStream ->\n        outputStream.write(outputText.getBytes('UTF-8'))\n    } as OutputStreamCallback)\n    \n    session.transfer(flowFile, REL_SUCCESS)\n} catch (e) {\n    log.error(\"Error processing JSON: ${e.message}\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"},{"identifier":"70b105b1-0199-1000-2b21-abbb3e67735f","instanceIdentifier":"33b321e6-adb6-3c7c-ae27-1840c083bec0","name":"UpdateAttribute","comments":"","position":{"x":-184.0,"y":96.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"order_status":"${http.query.param.order_status}","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"order_status":{"name":"order_status","displayName":"order_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"},{"identifier":"70b105b0-0199-1000-5b4e-1da6b5f182fe","instanceIdentifier":"cc8bb994-5c7a-3a14-64a7-47ab2f644f5d","name":"ConvertRecord","comments":"","position":{"x":1096.0,"y":104.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"}],"inputPorts":[{"identifier":"70b105b3-0199-1000-d0cf-b0e1d7604119","instanceIdentifier":"9fa9bd34-abb0-30a0-411a-edeca2baa510","name":"input","position":{"x":-136.0,"y":-256.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"}],"outputPorts":[{"identifier":"70b105b4-0199-1000-8c9a-77ca9349b973","instanceIdentifier":"f2e0e210-72df-3ac1-e609-efc58dd7cd26","name":"output","position":{"x":1832.0,"y":544.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"}],"connections":[{"identifier":"70b105b6-0199-1000-c510-49957e11ddb5","instanceIdentifier":"caa191bc-fc84-32e0-4bd4-5c9af4cd7779","name":"","source":{"id":"70b105b2-0199-1000-44b2-ce26980e445d","type":"PROCESSOR","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"ExecuteScript","comments":"","instanceIdentifier":"5fee1f0c-7cca-3321-c330-30c1e13f02e5"},"destination":{"id":"70b105b4-0199-1000-8c9a-77ca9349b973","type":"OUTPUT_PORT","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"output","instanceIdentifier":"f2e0e210-72df-3ac1-e609-efc58dd7cd26"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"},{"identifier":"70b105b8-0199-1000-0745-b38ef488b830","instanceIdentifier":"f6472e61-a080-322f-5481-385a3624a774","name":"","source":{"id":"70b105b3-0199-1000-d0cf-b0e1d7604119","type":"INPUT_PORT","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"input","instanceIdentifier":"9fa9bd34-abb0-30a0-411a-edeca2baa510"},"destination":{"id":"70b105b1-0199-1000-2b21-abbb3e67735f","type":"PROCESSOR","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"UpdateAttribute","comments":"","instanceIdentifier":"33b321e6-adb6-3c7c-ae27-1840c083bec0"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"},{"identifier":"70b105b7-0199-1000-a36c-7e1a9a54008a","instanceIdentifier":"019f023f-8489-3fd2-3b98-e89664fcfa6c","name":"","source":{"id":"70b105b0-0199-1000-5b4e-1da6b5f182fe","type":"PROCESSOR","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"ConvertRecord","comments":"","instanceIdentifier":"cc8bb994-5c7a-3a14-64a7-47ab2f644f5d"},"destination":{"id":"70b105b2-0199-1000-44b2-ce26980e445d","type":"PROCESSOR","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"ExecuteScript","comments":"","instanceIdentifier":"5fee1f0c-7cca-3321-c330-30c1e13f02e5"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"},{"identifier":"70b105b5-0199-1000-fd42-eaad15170cbd","instanceIdentifier":"d0d26372-0046-3810-63b8-e956843cb896","name":"","source":{"id":"70b105b1-0199-1000-2b21-abbb3e67735f","type":"PROCESSOR","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"UpdateAttribute","comments":"","instanceIdentifier":"33b321e6-adb6-3c7c-ae27-1840c083bec0"},"destination":{"id":"70b105af-0199-1000-9174-0d92f7d18c02","type":"PROCESSOR","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"ExecuteSQL","comments":"","instanceIdentifier":"a0dae814-d978-3fb7-fb39-ae06d25c5343"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"},{"identifier":"70b105b9-0199-1000-f034-5b50e0d2eda4","instanceIdentifier":"7b1bc84e-ea70-3378-791e-b31126af9f9a","name":"","source":{"id":"70b105af-0199-1000-9174-0d92f7d18c02","type":"PROCESSOR","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"ExecuteSQL","comments":"","instanceIdentifier":"a0dae814-d978-3fb7-fb39-ae06d25c5343"},"destination":{"id":"70b105b0-0199-1000-5b4e-1da6b5f182fe","type":"PROCESSOR","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"ConvertRecord","comments":"","instanceIdentifier":"cc8bb994-5c7a-3a14-64a7-47ab2f644f5d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b105ae-0199-1000-f4a3-f2ed408466ff"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10578-0199-1000-61da-25c67e339abc","instanceIdentifier":"aa4599bd-ab5e-3917-24ae-1c5523193b6c","name":"order.create","comments":"","position":{"x":-984.0,"y":336.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b1057a-0199-1000-56d9-12bc5eccd3e4","instanceIdentifier":"f7e49c85-6265-3ec0-ad65-0bded28ea123","name":"ExecuteSQL","comments":"","position":{"x":1528.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT \n\torder_id,\n    order_long_id,\n    order_short_id,\n    store_code,\n    store_name,\n    store_address,\n    contact_phone,\n    seller_id,\n    loyalty_card,\n    client_id,\n    client_phone,\n    total_points_amount,\n    order_status,\n    attributes,\n    commentary,\n    order_created_at,\n    order_created_timezone,\n    created_at,\n    updated_at,\n    source,\n    last_updated_by\nfrom orders\nwhere\n\torder_long_id = '${order_long_id}'","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b1057f-0199-1000-f80a-21c9c54a5802","instanceIdentifier":"600dc706-55dc-3313-3665-fab4ca119815","name":"EvaluateJsonPath","comments":"","position":{"x":48.0,"y":-184.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"store_code":"$.store_code","Destination":"flowfile-attribute","client_phone":"$.client_phone","total_points_amount":"$.total_points_amount","contact_phone":"$.contact_phone","Max String Length":"20 MB","timezone":"$.timezone","Return Type":"json","store_address":"$.store_address","Null Value Representation":"empty string","creation_date":"$.creation_date","Path Not Found Behavior":"ignore","attributres":"$.attributes","order_lines":"$.order_lines","store_name":"$.store_name","loyalty_card":"$.loyalty_card","commentary":"$.commentary","seller_id":"$.seller_id"},"propertyDescriptors":{"store_code":{"name":"store_code","displayName":"store_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"total_points_amount":{"name":"total_points_amount","displayName":"total_points_amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"contact_phone":{"name":"contact_phone","displayName":"contact_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"timezone":{"name":"timezone","displayName":"timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"store_address":{"name":"store_address","displayName":"store_address","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"creation_date":{"name":"creation_date","displayName":"creation_date","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"attributres":{"name":"attributres","displayName":"attributres","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_lines":{"name":"order_lines","displayName":"order_lines","identifiesControllerService":false,"sensitive":false,"dynamic":true},"store_name":{"name":"store_name","displayName":"store_name","identifiesControllerService":false,"sensitive":false,"dynamic":true},"loyalty_card":{"name":"loyalty_card","displayName":"loyalty_card","identifiesControllerService":false,"sensitive":false,"dynamic":true},"commentary":{"name":"commentary","displayName":"commentary","identifiesControllerService":false,"sensitive":false,"dynamic":true},"seller_id":{"name":"seller_id","displayName":"seller_id","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b10580-0199-1000-740d-6918e80d479b","instanceIdentifier":"7574f72a-4bb8-3f21-6531-238f3c7d8d2e","name":"ReplaceText","comments":"","position":{"x":840.0,"y":-208.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n\t\"code\":\"400\",\n\t\"message\":\"${executesql.error.message}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b1057e-0199-1000-16c8-c033fb7a5cbf","instanceIdentifier":"f93a9162-87f6-33b6-8dc2-c0a536f1d660","name":"SplitJson","comments":"","position":{"x":2152.0,"y":432.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b1057d-0199-1000-4278-57b224232fdf","instanceIdentifier":"0cbb4ec4-5ead-3ee5-79ff-449e164e5810","name":"ExecuteSQL","comments":"","position":{"x":840.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ExecuteSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"esql-max-rows":"0","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"SELECT order_long_id from orders where order_id = last_insert_rowid();","Database Connection Pooling Service":"70b104c5-0199-1000-da0b-c5cd71482697","sql-post-query":"UPDATE orders \nSET order_short_id = \n    (SELECT store_code FROM orders WHERE order_id = last_insert_rowid()) || \n    '-' || \n    strftime('%Y%m', 'now') || \n    '-' || \n    last_insert_rowid(),\n    updated_at = CURRENT_TIMESTAMP\nWHERE order_id = last_insert_rowid();","esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":"INSERT INTO orders (\n\torder_long_id,\n    store_code,\n\tstore_name,\n\tstore_address,\n\tcontact_phone,\n    seller_id,\n    loyalty_card,\n    client_phone,\n    total_points_amount,\n    attributes,\n\tcommentary,\n    order_created_at,\n\torder_created_timezone,\n    last_updated_by\n)\nVALUES (\n\t'${order_long_id}',\n    '${store_code}',\n    '${store_name}',\n    '${store_address}',\n    '${contact_phone}',\n    '${seller_id}',\n    '${loyalty_card}',\n    '${client_phone}',\n    ${total_points_amount},\n    '${attributes}',\n    '${commentary}',\n    '${creation_date}',\n\t'${timezone}',\n    '${last_updated_by}'\n);","compression-format":"NONE","esql-output-batch-size":"0","esql-fetch-size":"0","dbf-normalize":"false","Content Output Strategy":"EMPTY"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-normalize":{"name":"dbf-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Output Strategy":{"name":"Content Output Strategy","displayName":"Content Output Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b1057c-0199-1000-1f23-3c578e8c786a","instanceIdentifier":"5d4f0d2b-e45b-3913-6b58-ece59f2b6568","name":"UpdateAttribute","comments":"","position":{"x":48.0,"y":96.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"order_long_id":"${store_code:append('-'):append(${seller_id}):append('-'):append(${loyalty_card}):append('-'):append(${now():format('yyyyMMddHHmmssSSS')})}","last_updated_by":"telegram-bot","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","source":"telegram-bot","Stateful Variables Initial Value":null},"propertyDescriptors":{"order_long_id":{"name":"order_long_id","displayName":"order_long_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"last_updated_by":{"name":"last_updated_by","displayName":"last_updated_by","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b1057b-0199-1000-839c-b3b39a0c3d25","instanceIdentifier":"f39d4eea-06a5-3223-f8a4-c7b4c224f217","name":"ConvertRecord","comments":"","position":{"x":2152.0,"y":96.0},"type":"org.apache.nifi.processors.standard.ConvertRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Include Zero Record FlowFiles":"true","Record Writer":"70b104c2-0199-1000-6113-57387ef9d01b","Record Reader":"70b104c4-0199-1000-8837-389b2c5afa3e"},"propertyDescriptors":{"Include Zero Record FlowFiles":{"name":"Include Zero Record FlowFiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Record Writer":{"name":"Record Writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Record Reader":{"name":"Record Reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"}],"inputPorts":[{"identifier":"70b10581-0199-1000-16a7-621f614e0924","instanceIdentifier":"a6f7e059-6dd7-37f1-e751-fd557bb57456","name":"input","position":{"x":104.0,"y":-376.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"}],"outputPorts":[{"identifier":"70b10582-0199-1000-c18e-d2111f51b2f6","instanceIdentifier":"a5fbdc43-b8e0-3711-25c9-fc0e47a6d6da","name":"error","position":{"x":888.0,"y":-328.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b10583-0199-1000-6b20-6f8955d4070f","instanceIdentifier":"943f41e6-ccf2-39d4-11dc-4a86c189b303","name":"output","position":{"x":1568.0,"y":480.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"}],"connections":[{"identifier":"70b10587-0199-1000-0502-d00d55d8a722","instanceIdentifier":"5b51ef49-88c7-320d-632a-7e829a05f198","name":"","source":{"id":"70b10581-0199-1000-16a7-621f614e0924","type":"INPUT_PORT","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"input","instanceIdentifier":"a6f7e059-6dd7-37f1-e751-fd557bb57456"},"destination":{"id":"70b1057f-0199-1000-f80a-21c9c54a5802","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"600dc706-55dc-3313-3665-fab4ca119815"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b1058b-0199-1000-d3c2-9a329042ec18","instanceIdentifier":"fa73d089-d144-3d21-50d7-93e0685277d7","name":"","source":{"id":"70b1057d-0199-1000-4278-57b224232fdf","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"ExecuteSQL","comments":"","instanceIdentifier":"0cbb4ec4-5ead-3ee5-79ff-449e164e5810"},"destination":{"id":"70b1057a-0199-1000-56d9-12bc5eccd3e4","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"ExecuteSQL","comments":"","instanceIdentifier":"f7e49c85-6265-3ec0-ad65-0bded28ea123"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b1058d-0199-1000-12c5-48bd6e8914fd","instanceIdentifier":"9523a12f-81b9-393b-9e0d-5aafad4855f0","name":"","source":{"id":"70b1057a-0199-1000-56d9-12bc5eccd3e4","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"ExecuteSQL","comments":"","instanceIdentifier":"f7e49c85-6265-3ec0-ad65-0bded28ea123"},"destination":{"id":"70b1057b-0199-1000-839c-b3b39a0c3d25","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"ConvertRecord","comments":"","instanceIdentifier":"f39d4eea-06a5-3223-f8a4-c7b4c224f217"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b10588-0199-1000-de3e-f496fea4b79c","instanceIdentifier":"ecdc14db-df7a-3191-8ed9-428ffa81429c","name":"","source":{"id":"70b1057b-0199-1000-839c-b3b39a0c3d25","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"ConvertRecord","comments":"","instanceIdentifier":"f39d4eea-06a5-3223-f8a4-c7b4c224f217"},"destination":{"id":"70b1057e-0199-1000-16c8-c033fb7a5cbf","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"SplitJson","comments":"","instanceIdentifier":"f93a9162-87f6-33b6-8dc2-c0a536f1d660"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b10586-0199-1000-83a5-bc8b0b6988c3","instanceIdentifier":"3d30d027-c7d7-33b8-62d7-4aeb40761788","name":"","source":{"id":"70b1057e-0199-1000-16c8-c033fb7a5cbf","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"SplitJson","comments":"","instanceIdentifier":"f93a9162-87f6-33b6-8dc2-c0a536f1d660"},"destination":{"id":"70b10583-0199-1000-6b20-6f8955d4070f","type":"OUTPUT_PORT","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"output","instanceIdentifier":"943f41e6-ccf2-39d4-11dc-4a86c189b303"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b1058a-0199-1000-f759-a2adf57b40ae","instanceIdentifier":"a7cfe916-b7b1-3955-805a-6f9285c675ee","name":"","source":{"id":"70b10580-0199-1000-740d-6918e80d479b","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"ReplaceText","comments":"","instanceIdentifier":"7574f72a-4bb8-3f21-6531-238f3c7d8d2e"},"destination":{"id":"70b10582-0199-1000-c18e-d2111f51b2f6","type":"OUTPUT_PORT","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"error","instanceIdentifier":"a5fbdc43-b8e0-3711-25c9-fc0e47a6d6da"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b10589-0199-1000-f0f4-309af881493d","instanceIdentifier":"43aafcf1-5a8c-3006-a82c-1f97375aa21e","name":"","source":{"id":"70b1057f-0199-1000-f80a-21c9c54a5802","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"600dc706-55dc-3313-3665-fab4ca119815"},"destination":{"id":"70b1057c-0199-1000-1f23-3c578e8c786a","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"UpdateAttribute","comments":"","instanceIdentifier":"5d4f0d2b-e45b-3913-6b58-ece59f2b6568"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b10585-0199-1000-b882-2f9477a6621b","instanceIdentifier":"767eb180-e0b3-3705-75dc-809c19b97f7b","name":"","source":{"id":"70b1057d-0199-1000-4278-57b224232fdf","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"ExecuteSQL","comments":"","instanceIdentifier":"0cbb4ec4-5ead-3ee5-79ff-449e164e5810"},"destination":{"id":"70b10580-0199-1000-740d-6918e80d479b","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"ReplaceText","comments":"","instanceIdentifier":"7574f72a-4bb8-3f21-6531-238f3c7d8d2e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"},{"identifier":"70b1058c-0199-1000-d956-256e27ec37e3","instanceIdentifier":"af0473ca-9b6b-30b0-1078-4e7774d9e8e4","name":"","source":{"id":"70b1057c-0199-1000-1f23-3c578e8c786a","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"UpdateAttribute","comments":"","instanceIdentifier":"5d4f0d2b-e45b-3913-6b58-ece59f2b6568"},"destination":{"id":"70b1057d-0199-1000-4278-57b224232fdf","type":"PROCESSOR","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"ExecuteSQL","comments":"","instanceIdentifier":"0cbb4ec4-5ead-3ee5-79ff-449e164e5810"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"}],"labels":[{"identifier":"70b10584-0199-1000-b5fb-1459d884fc59","instanceIdentifier":"a254e2ad-8736-3d7c-1ce2-43697951a9f7","position":{"x":552.0,"y":-192.0},"label":"    json ,      SQL","zIndex":0,"width":150.0,"height":150.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"}],"funnels":[],"controllerServices":[{"identifier":"70b10579-0199-1000-e7c6-885092533551","instanceIdentifier":"5531811d-8196-3340-b6e1-3dffbdf23488","name":"AvroReader-BeautyRoom","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.3.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b10578-0199-1000-61da-25c67e339abc"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"}],"remoteProcessGroups":[],"processors":[{"identifier":"70b104cf-0199-1000-033b-414b9cdee911","instanceIdentifier":"39fce8f5-01c5-3001-bfbd-fbd7e5521e18","name":"HandleHttpResponse","comments":"","position":{"x":-960.0,"y":2000.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"HTTP Context Map":"3bb413ad-0741-318b-811c-2c3ff50e9b97","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"400","Content-Type":"${mime.type}"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104cd-0199-1000-ca63-94bc59246f25","instanceIdentifier":"3f95f5a5-3295-3256-5431-0630bcbca706","name":"UpdateAttribute","comments":"","position":{"x":-960.0,"y":-504.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","schema.name":"${http.request.uri}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema.name":{"name":"schema.name","displayName":"schema.name","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104c9-0199-1000-fee6-3da8c85dedf6","instanceIdentifier":"dfb2c2c3-dd1e-3d9a-4b93-c8ad57263b00","name":"UpdateAttribute","comments":"","position":{"x":-968.0,"y":920.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104cc-0199-1000-20b8-c31c58c4fc6c","instanceIdentifier":"6faf6050-f1a8-3118-12ab-1df726c2cbe3","name":"ValidateJson","comments":"","position":{"x":-968.0,"y":-296.0},"type":"org.apache.nifi.processors.standard.ValidateJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","JSON Schema Version":"DRAFT_2020_12","JSON Schema":null,"JSON Schema Registry":"70b104c3-0199-1000-6a03-f121c84c39e4","Schema Access Strategy":"SCHEMA_NAME_PROPERTY","Schema Name":"${schema.name}"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JSON Schema Version":{"name":"JSON Schema Version","displayName":"JSON Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JSON Schema":{"name":"JSON Schema","displayName":"JSON Schema","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE","URL","TEXT"]}},"JSON Schema Registry":{"name":"JSON Schema Registry","displayName":"JSON Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Schema Access Strategy":{"name":"Schema Access Strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Name":{"name":"Schema Name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104c8-0199-1000-563e-7ec9920f2d4d","instanceIdentifier":"16344a84-6a4e-32de-8685-2a13a42a29d7","name":"UpdateAttribute","comments":"","position":{"x":-968.0,"y":1680.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","mime.type":"application/json","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104ce-0199-1000-a77e-097448ecd252","instanceIdentifier":"acec45fc-d888-3c1e-c95c-4140911e02d1","name":"ReplaceText","comments":"","position":{"x":2376.0,"y":1416.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"code\":\"400\",\n  \"errorMessage\" : \"${json.validation.errors}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104ca-0199-1000-8213-2f612ca311f5","instanceIdentifier":"2e7e3971-7f74-3603-657c-703dacee1aa5","name":"HandleHttpResponse","comments":"","position":{"x":-968.0,"y":1208.0},"type":"org.apache.nifi.processors.standard.HandleHttpResponse","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"HTTP Context Map":"3bb413ad-0741-318b-811c-2c3ff50e9b97","Attributes to add to the HTTP Response (Regex)":null,"HTTP Status Code":"200","Content-Type":"${mime.type}"},"propertyDescriptors":{"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Attributes to add to the HTTP Response (Regex)":{"name":"Attributes to add to the HTTP Response (Regex)","displayName":"Attributes to add to the HTTP Response (Regex)","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Status Code":{"name":"HTTP Status Code","displayName":"HTTP Status Code","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content-Type":{"name":"Content-Type","displayName":"Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104cb-0199-1000-330f-dd2ade6c09fe","instanceIdentifier":"1e0bf960-71e7-3e08-01da-c7ce945a86d9","name":"AttributesToJSON","comments":"","position":{"x":2376.0,"y":-320.0},"type":"org.apache.nifi.processors.standard.AttributesToJSON","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"attributes-to-json-regex":null,"Destination":"flowfile-content","Null Value":"false","Attributes List":"json.validation.errors","Pretty Print":"false","Include Core Attributes":"false","JSON Handling Strategy":"ESCAPED"},"propertyDescriptors":{"attributes-to-json-regex":{"name":"attributes-to-json-regex","displayName":"Attributes Regular Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value":{"name":"Null Value","displayName":"Null Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attributes List":{"name":"Attributes List","displayName":"Attributes List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pretty Print":{"name":"Pretty Print","displayName":"Pretty Print","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Include Core Attributes":{"name":"Include Core Attributes","displayName":"Include Core Attributes","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JSON Handling Strategy":{"name":"JSON Handling Strategy","displayName":"JSON Handling Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105","name":"RouteOnAttribute","comments":"","position":{"x":-968.0,"y":24.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"orders.get.new":"${http.request.uri:contains('/api/orders/list-new')}","payment.async.confirm.add":"${http.request.uri:contains('/api/payment/async/confirm/add')}","payment.async.confirm.search":"${http.request.uri:contains('/api/payment/async/confirm/search')}","order.create":"${http.request.uri:contains('/api/order/create')}","payment.async.confirm.enter-code":"${http.request.uri:contains('/api/payment/async/confirm/enter-code')}","payment.status.add":"${http.request.uri:contains('/api/payment/status/add')}","payment.async.confirm.send-code":"${http.request.uri:contains('/api/payment/async/confirm/send-code')}","order.search":"${http.request.uri:contains('/api/order/search')}","payment.get.confirm":"${http.request.uri:contains('/api/payment/async/confirm/list-new')}","payment.async.confirm.update":"${http.request.uri:contains('/api/payment/async/confirm/update')}","payment.get.new":"${http.request.uri:contains('/api/payment/list-new')}","Routing Strategy":"Route to Property name","payment.create":"${http.request.uri:contains('/api/payment/create')}","order.status.add":"${http.request.uri:contains('/api/order/status/add')}","store.search":"${http.request.uri:contains('/api/store/search')}","order.update":"${http.request.uri:contains('/api/order/update')}","payment.update":"${http.request.uri:contains('/api/payment/update')}","client.info":"${http.request.uri:contains('/api/client/info')}"},"propertyDescriptors":{"orders.get.new":{"name":"orders.get.new","displayName":"orders.get.new","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.async.confirm.add":{"name":"payment.async.confirm.add","displayName":"payment.async.confirm.add","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.async.confirm.search":{"name":"payment.async.confirm.search","displayName":"payment.async.confirm.search","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order.create":{"name":"order.create","displayName":"order.create","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.async.confirm.enter-code":{"name":"payment.async.confirm.enter-code","displayName":"payment.async.confirm.enter-code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.status.add":{"name":"payment.status.add","displayName":"payment.status.add","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.async.confirm.send-code":{"name":"payment.async.confirm.send-code","displayName":"payment.async.confirm.send-code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order.search":{"name":"order.search","displayName":"order.search","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.get.confirm":{"name":"payment.get.confirm","displayName":"payment.get.confirm","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.async.confirm.update":{"name":"payment.async.confirm.update","displayName":"payment.async.confirm.update","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.get.new":{"name":"payment.get.new","displayName":"payment.get.new","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment.create":{"name":"payment.create","displayName":"payment.create","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order.status.add":{"name":"order.status.add","displayName":"order.status.add","identifiesControllerService":false,"sensitive":false,"dynamic":true},"store.search":{"name":"store.search","displayName":"store.search","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order.update":{"name":"order.update","displayName":"order.update","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.update":{"name":"payment.update","displayName":"payment.update","identifiesControllerService":false,"sensitive":false,"dynamic":true},"client.info":{"name":"client.info","displayName":"client.info","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104c7-0199-1000-0518-d067764634e1","instanceIdentifier":"05dab624-03fe-3636-9798-196eaf41d2f9","name":"HandleHttpRequest","comments":"","position":{"x":-960.0,"y":-728.0},"type":"org.apache.nifi.processors.standard.HandleHttpRequest","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"multipart-request-max-size":"1 MB","parameters-to-attributes":null,"Allow POST":"true","Hostname":null,"Default URL Character Set":"UTF-8","Allow DELETE":"false","Request Header Maximum Size":"8 KB","Maximum Threads":"200","HTTP Protocols":"HTTP_1_1","Additional HTTP Methods":null,"container-queue-size":"50","HTTP Context Map":"3bb413ad-0741-318b-811c-2c3ff50e9b97","multipart-read-buffer-size":"512 KB","SSL Context Service":null,"Allow OPTIONS":"false","Allowed Paths":"/api/order/create|/api/order/update|/api/order/search|/api/orders/list-new|/api/order/status/add|/api/payment/create|/api/payment/update|/api/payment/status/add|/api/payment/list-new|/api/payment/async/confirm/add|/api/payment/async/confirm/update|/api/payment/async/confirm/list-new|/api/client/info|/api/payment/async/confirm/search|/api/payment/async/confirm/enter-code|/api/payment/async/confirm/send-code|/api/store/search","Allow GET":"true","Allow HEAD":"false","Listening Port":"8089","Client Authentication":"No Authentication","Allow PUT":"false"},"propertyDescriptors":{"multipart-request-max-size":{"name":"multipart-request-max-size","displayName":"Multipart Request Max Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"parameters-to-attributes":{"name":"parameters-to-attributes","displayName":"Parameters to Attributes List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow POST":{"name":"Allow POST","displayName":"Allow POST","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Hostname":{"name":"Hostname","displayName":"Hostname","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Default URL Character Set":{"name":"Default URL Character Set","displayName":"Default URL Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow DELETE":{"name":"Allow DELETE","displayName":"Allow DELETE","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Maximum Size":{"name":"Request Header Maximum Size","displayName":"Request Header Maximum Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Threads":{"name":"Maximum Threads","displayName":"Maximum Threads","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Protocols":{"name":"HTTP Protocols","displayName":"HTTP Protocols","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Additional HTTP Methods":{"name":"Additional HTTP Methods","displayName":"Additional HTTP Methods","identifiesControllerService":false,"sensitive":false,"dynamic":false},"container-queue-size":{"name":"container-queue-size","displayName":"Container Queue Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Context Map":{"name":"HTTP Context Map","displayName":"HTTP Context Map","identifiesControllerService":true,"sensitive":false,"dynamic":false},"multipart-read-buffer-size":{"name":"multipart-read-buffer-size","displayName":"Multipart Read Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Allow OPTIONS":{"name":"Allow OPTIONS","displayName":"Allow OPTIONS","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allowed Paths":{"name":"Allowed Paths","displayName":"Allowed Paths","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow GET":{"name":"Allow GET","displayName":"Allow GET","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow HEAD":{"name":"Allow HEAD","displayName":"Allow HEAD","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Listening Port":{"name":"Listening Port","displayName":"Listening Port","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Client Authentication":{"name":"Client Authentication","displayName":"Client Authentication","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow PUT":{"name":"Allow PUT","displayName":"Allow PUT","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b105e8-0199-1000-13ce-3f27cd698fda","instanceIdentifier":"40a73e1d-8dca-3112-178f-96e081a7371b","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b105db-0199-1000-4535-30a3486e61e5","type":"INPUT_PORT","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"input","instanceIdentifier":"08d29295-b9e6-35e9-9fc9-9b1a129f595b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["client.info"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105f3-0199-1000-faa5-ae45802264a0","instanceIdentifier":"f352ac9b-5b78-3ef4-8123-0cc64d0225bb","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b105b3-0199-1000-d0cf-b0e1d7604119","type":"INPUT_PORT","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"input","instanceIdentifier":"9fa9bd34-abb0-30a0-411a-edeca2baa510"},"labelIndex":0,"zIndex":0,"selectedRelationships":["orders.get.new"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10606-0199-1000-c769-c9f13c109b41","instanceIdentifier":"e11c18d2-9a35-39d8-2140-cb4e38376e06","name":"","source":{"id":"70b104ce-0199-1000-a77e-097448ecd252","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"ReplaceText","comments":"","instanceIdentifier":"acec45fc-d888-3c1e-c95c-4140911e02d1"},"destination":{"id":"70b104d1-0199-1000-0df8-1dad057d89ee","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"25c8bf36-a757-3713-9987-615e48e501a6"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105e5-0199-1000-b5b9-ed9129e7aafb","instanceIdentifier":"f54c6c6a-9db3-33c7-0af9-a0bf67cb408b","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b10551-0199-1000-08e2-0f98fcb7f355","type":"INPUT_PORT","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"input","instanceIdentifier":"7f6be0c4-6243-3866-c579-f9f090f21a63"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.update"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b1060a-0199-1000-5d20-0400ae5e74db","instanceIdentifier":"48a9abf3-61b0-3201-a1c4-6da9ee8720f0","name":"","source":{"id":"70b10582-0199-1000-c18e-d2111f51b2f6","type":"OUTPUT_PORT","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"error","instanceIdentifier":"a5fbdc43-b8e0-3711-25c9-fc0e47a6d6da"},"destination":{"id":"70b104d1-0199-1000-0df8-1dad057d89ee","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"25c8bf36-a757-3713-9987-615e48e501a6"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b1060d-0199-1000-ce4a-329f1349d76a","instanceIdentifier":"e3e6fc85-e2ae-3097-262a-2f8577298964","name":"","source":{"id":"70b104cd-0199-1000-ca63-94bc59246f25","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"UpdateAttribute","comments":"","instanceIdentifier":"3f95f5a5-3295-3256-5431-0630bcbca706"},"destination":{"id":"70b104cc-0199-1000-20b8-c31c58c4fc6c","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"ValidateJson","comments":"","instanceIdentifier":"6faf6050-f1a8-3118-12ab-1df726c2cbe3"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105ee-0199-1000-1faa-cb053716c873","instanceIdentifier":"34bc5ac9-e443-3a59-6136-4337b75b878d","name":"","source":{"id":"70b104e7-0199-1000-0a7a-929ca64de86e","type":"OUTPUT_PORT","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"output","instanceIdentifier":"c2b4332c-3724-38c5-d9cd-0fac39292785"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105ed-0199-1000-8243-269641169815","instanceIdentifier":"fda62429-2ba2-3d70-c54a-79d493bd16c6","name":"","source":{"id":"70b10583-0199-1000-6b20-6f8955d4070f","type":"OUTPUT_PORT","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"output","instanceIdentifier":"943f41e6-ccf2-39d4-11dc-4a86c189b303"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105fe-0199-1000-5028-b8042eb4351d","instanceIdentifier":"42ba6f54-e0fc-38d0-1e97-7dd88212eeed","name":"","source":{"id":"70b104cc-0199-1000-20b8-c31c58c4fc6c","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"ValidateJson","comments":"","instanceIdentifier":"6faf6050-f1a8-3118-12ab-1df726c2cbe3"},"destination":{"id":"70b104cb-0199-1000-330f-dd2ade6c09fe","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"AttributesToJSON","comments":"","instanceIdentifier":"1e0bf960-71e7-3e08-01da-c7ce945a86d9"},"labelIndex":0,"zIndex":0,"selectedRelationships":["invalid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10611-0199-1000-4f05-ad0ef834f07e","instanceIdentifier":"34a74ca7-b7cd-332c-2353-72e9b1798523","name":"","source":{"id":"70b10542-0199-1000-d374-ef68c21ba721","type":"OUTPUT_PORT","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"output","instanceIdentifier":"058ab688-7db1-3cd0-0b4f-df1239f2f24e"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105ff-0199-1000-28b9-c51e8749a761","instanceIdentifier":"87136fec-77fb-3a04-4eaa-5efff0d85764","name":"","source":{"id":"70b104d1-0199-1000-0df8-1dad057d89ee","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"25c8bf36-a757-3713-9987-615e48e501a6"},"destination":{"id":"70b104c8-0199-1000-563e-7ec9920f2d4d","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"UpdateAttribute","comments":"","instanceIdentifier":"16344a84-6a4e-32de-8685-2a13a42a29d7"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105fa-0199-1000-1dc1-38fbd9c6bcea","instanceIdentifier":"58796a64-02fa-3f50-dcc7-bf46d4cf5b15","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b10509-0199-1000-6686-1c45f77b7c22","type":"INPUT_PORT","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"input","instanceIdentifier":"28814425-574d-34dc-4b69-9af930e675d2"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.async.confirm.add"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105fc-0199-1000-380a-164dec129e29","instanceIdentifier":"48b15246-7daf-3c04-890d-02fd9d2e6839","name":"","source":{"id":"70b105a6-0199-1000-98dd-898a338a2c10","type":"OUTPUT_PORT","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"output","instanceIdentifier":"4e47ae5f-13ee-3237-7d15-2d3b4e7568a1"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105f5-0199-1000-376d-7c3cdebca652","instanceIdentifier":"a4a1b2a4-a5aa-3c08-42b9-597a5977cf94","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b105cb-0199-1000-758d-0445aa312bca","type":"INPUT_PORT","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"input","instanceIdentifier":"84b94dc5-1968-39c2-1c3d-9505baf3df3f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.get.new"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10608-0199-1000-5f02-a3e68f565700","instanceIdentifier":"35b68bbf-d5a5-35a5-3af2-bcff06019c97","name":"","source":{"id":"70b10563-0199-1000-2cd4-d80631799dcf","type":"OUTPUT_PORT","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"output","instanceIdentifier":"0c1ed109-029f-314d-574d-4a38333fc4ca"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105ec-0199-1000-1e5c-e4b28b882870","instanceIdentifier":"533e9ed9-4018-361e-434a-75d2f5cd0858","name":"","source":{"id":"70b10520-0199-1000-897c-2e5cb9f5c519","type":"OUTPUT_PORT","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"output","instanceIdentifier":"f19afeb8-c80d-3be0-4756-43e405ead28f"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10602-0199-1000-5eae-ced492db4d39","instanceIdentifier":"be4460d2-3cef-3255-bb35-5dce2968a04a","name":"","source":{"id":"70b1050a-0199-1000-baf4-7dac6493c42f","type":"OUTPUT_PORT","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"output","instanceIdentifier":"8628b119-9c04-3fec-669e-b219d5ce1257"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10613-0199-1000-ae78-f07f3eea6dea","instanceIdentifier":"50c68243-6d77-3481-b031-70ab60a5544e","name":"","source":{"id":"70b104c7-0199-1000-0518-d067764634e1","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"HandleHttpRequest","comments":"","instanceIdentifier":"05dab624-03fe-3636-9798-196eaf41d2f9"},"destination":{"id":"70b104cd-0199-1000-ca63-94bc59246f25","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"UpdateAttribute","comments":"","instanceIdentifier":"3f95f5a5-3295-3256-5431-0630bcbca706"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10601-0199-1000-6bab-504fd0580044","instanceIdentifier":"422359df-a223-30d5-d424-e4ee63e4e1da","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b10562-0199-1000-f267-13abb03f4421","type":"INPUT_PORT","groupId":"70b1055d-0199-1000-1d12-3b84074633e3","name":"input","instanceIdentifier":"4a781db6-1d78-3d46-0746-ab3296e10b1a"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.get.confirm"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105fb-0199-1000-ace9-6d864b101472","instanceIdentifier":"61809f99-392c-3e46-77d2-5c7e009b46ab","name":"","source":{"id":"70b104cc-0199-1000-20b8-c31c58c4fc6c","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"ValidateJson","comments":"","instanceIdentifier":"6faf6050-f1a8-3118-12ab-1df726c2cbe3"},"destination":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"labelIndex":0,"zIndex":0,"selectedRelationships":["valid"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105e4-0199-1000-b5e3-fe32f25355cf","instanceIdentifier":"59ffacc8-334b-3572-b08e-6beb97b54606","name":"","source":{"id":"70b104f9-0199-1000-6980-27864e2ab530","type":"OUTPUT_PORT","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"output","instanceIdentifier":"b290ba8e-6679-3561-605e-9fb866cfc4c4"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105f2-0199-1000-3342-5219f9f7fbd9","instanceIdentifier":"22906311-9ae1-34f8-bf2b-54dbc5ec2079","name":"","source":{"id":"70b10571-0199-1000-ff26-d1a5d9c18a14","type":"OUTPUT_PORT","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"output","instanceIdentifier":"d12b2ef8-45cc-3560-b61e-2a8bb284dcb1"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b1060c-0199-1000-91f9-b6bef075e5d2","instanceIdentifier":"d1b6cb30-c86e-3ac7-56f9-027d6d49bbf2","name":"","source":{"id":"70b104cb-0199-1000-330f-dd2ade6c09fe","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"AttributesToJSON","comments":"","instanceIdentifier":"1e0bf960-71e7-3e08-01da-c7ce945a86d9"},"destination":{"id":"70b104ce-0199-1000-a77e-097448ecd252","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"ReplaceText","comments":"","instanceIdentifier":"acec45fc-d888-3c1e-c95c-4140911e02d1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105f8-0199-1000-59e0-8453b891d26c","instanceIdentifier":"1327e2d4-9868-3f5c-adb5-f5e943ab4710","name":"","source":{"id":"70b104c9-0199-1000-fee6-3da8c85dedf6","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"UpdateAttribute","comments":"","instanceIdentifier":"dfb2c2c3-dd1e-3d9a-4b93-c8ad57263b00"},"destination":{"id":"70b104ca-0199-1000-8213-2f612ca311f5","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"HandleHttpResponse","comments":"","instanceIdentifier":"2e7e3971-7f74-3603-657c-703dacee1aa5"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105f4-0199-1000-3763-4461b510e6e4","instanceIdentifier":"1e0320ad-c190-3715-997a-412bddd58b0b","name":"","source":{"id":"70b105c0-0199-1000-ed8d-2fa4f4f70058","type":"OUTPUT_PORT","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"output","instanceIdentifier":"7264241f-3e59-3b5f-4fed-36b2e1d95e81"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105e6-0199-1000-66b2-1cfc6f0b29d2","instanceIdentifier":"82cdbf23-331e-3499-4c4c-1e9a9ec35aca","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b105bf-0199-1000-7b73-ecbb8fd4ea5b","type":"INPUT_PORT","groupId":"70b105ba-0199-1000-bffd-9f64e74fa9a4","name":"input","instanceIdentifier":"bb0b56bc-3445-3457-3084-602d67c5fdc0"},"labelIndex":0,"zIndex":0,"selectedRelationships":["order.search"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105f0-0199-1000-edba-f459524a041b","instanceIdentifier":"7332f6db-4e66-3e3f-8954-c61b3ce37a34","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b105a5-0199-1000-a42e-bfcbd70c549d","type":"INPUT_PORT","groupId":"70b1059e-0199-1000-2f48-e4a3a353b563","name":"input","instanceIdentifier":"884ce7d1-64e5-392e-714e-f0f933e6137c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["order.status.add"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b1060b-0199-1000-c03e-5ba12270254d","instanceIdentifier":"c694d94f-ef85-3a34-abdd-15c30dc7579c","name":"","source":{"id":"70b10531-0199-1000-99cb-7c249a16b7ad","type":"OUTPUT_PORT","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"output","instanceIdentifier":"3b396205-2737-38ad-c217-b0ce4ea93d3a"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10605-0199-1000-8ea7-7f51ae1abd27","instanceIdentifier":"d8b5e4d8-66f3-32ac-7e1d-519e2b90927a","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b10541-0199-1000-8e03-afd0d72521ef","type":"INPUT_PORT","groupId":"70b10539-0199-1000-de94-2ccdf9a643a6","name":"input","instanceIdentifier":"68c2abc1-9cad-3f32-4a70-468a48c0043f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.async.confirm.send-code"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105ea-0199-1000-b645-8dafd036d505","instanceIdentifier":"91bddc78-2f50-32f0-0f4b-6edad42f4295","name":"","source":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"destination":{"id":"70b104c9-0199-1000-fee6-3da8c85dedf6","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"UpdateAttribute","comments":"","instanceIdentifier":"dfb2c2c3-dd1e-3d9a-4b93-c8ad57263b00"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10607-0199-1000-3fa3-0ba74bd574a2","instanceIdentifier":"1d7deb6f-4cb5-370f-7666-8d8f525c311d","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b104f8-0199-1000-8ed0-edf728d17192","type":"INPUT_PORT","groupId":"70b104f0-0199-1000-5ac3-1d48f93aa7e6","name":"input","instanceIdentifier":"ed18770a-bdf2-3983-c435-411f969d7d22"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.async.confirm.enter-code"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105eb-0199-1000-617d-70879cc0cd44","instanceIdentifier":"4dab0c1f-760c-3621-e332-49e74e8e1ac5","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b104e5-0199-1000-5539-58acf12a8934","type":"INPUT_PORT","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"input","instanceIdentifier":"321dc923-7469-3227-c44f-955b376abbe4"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.create"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105e7-0199-1000-f608-695146f7793d","instanceIdentifier":"f310665b-a046-3482-1ad7-d0c3b8707526","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b10595-0199-1000-52c4-dc0b8d8fcebb","type":"INPUT_PORT","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"input","instanceIdentifier":"880dff62-e1b3-396e-de69-73dd2eac4482"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.status.add"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b1060e-0199-1000-d300-7257ddb2e306","instanceIdentifier":"25ce7d56-4ac2-30eb-6fe7-521331e57d24","name":"","source":{"id":"70b1050b-0199-1000-9c20-0992341ba9b7","type":"OUTPUT_PORT","groupId":"70b10501-0199-1000-d2de-1f70e732858b","name":"error","instanceIdentifier":"8de0464f-e41f-35d1-7810-e6d4032dd198"},"destination":{"id":"70b104d1-0199-1000-0df8-1dad057d89ee","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"25c8bf36-a757-3713-9987-615e48e501a6"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10604-0199-1000-4607-b917dbcc8d30","instanceIdentifier":"4e2378a8-0d95-37d5-013a-57ccecc94f06","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b1051f-0199-1000-ac5a-0cdb1104e9cc","type":"INPUT_PORT","groupId":"70b10517-0199-1000-fb42-182075a22a07","name":"input","instanceIdentifier":"c9ff70a3-d1be-32e5-6977-45e722b51a58"},"labelIndex":0,"zIndex":0,"selectedRelationships":["order.update"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105fd-0199-1000-182c-e8aa94dcb272","instanceIdentifier":"7aa6085f-90a7-34ba-31ba-e2bbf20575c5","name":"","source":{"id":"70b105cc-0199-1000-756c-4276ea799755","type":"OUTPUT_PORT","groupId":"70b105c6-0199-1000-5eeb-387b2d688fe9","name":"output","instanceIdentifier":"d6ee8177-51f2-36a5-0c52-63a9eadc6478"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105ef-0199-1000-35a2-565ccd684b97","instanceIdentifier":"51a85a90-0097-318b-0926-785895682cb3","name":"","source":{"id":"70b104e6-0199-1000-435b-622a4116847d","type":"OUTPUT_PORT","groupId":"70b104de-0199-1000-3bf9-9c179b27cca5","name":"error","instanceIdentifier":"91b1f7df-baea-30c4-cd55-c2f80b29fb1e"},"destination":{"id":"70b104d1-0199-1000-0df8-1dad057d89ee","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"25c8bf36-a757-3713-9987-615e48e501a6"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10603-0199-1000-08f7-3d34eb0aea2a","instanceIdentifier":"f9a9d371-bea5-30de-3b92-1ca7c7319a16","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b10581-0199-1000-16a7-621f614e0924","type":"INPUT_PORT","groupId":"70b10578-0199-1000-61da-25c67e339abc","name":"input","instanceIdentifier":"a6f7e059-6dd7-37f1-e751-fd557bb57456"},"labelIndex":0,"zIndex":0,"selectedRelationships":["order.create"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105f1-0199-1000-12ba-7de29f12bd11","instanceIdentifier":"13ec622a-a9e8-3e8b-0a14-1d657ef3ac63","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b10530-0199-1000-e5f7-9d646ff6f9dd","type":"INPUT_PORT","groupId":"70b10528-0199-1000-a7bf-70597e1a3502","name":"input","instanceIdentifier":"457b668c-87a6-31bc-46d6-c2fd27eed1a5"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.async.confirm.update"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105f7-0199-1000-050b-a46ff616f5f9","instanceIdentifier":"82b57408-acea-3cf6-fbee-90dbe3264e9f","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b104d7-0199-1000-9758-65e7d2ba779c","type":"INPUT_PORT","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"input","instanceIdentifier":"f5bdabd1-e40a-3f5b-fed6-99abb18ab481"},"labelIndex":0,"zIndex":0,"selectedRelationships":["store.search"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105f6-0199-1000-fbb9-75da8b3dc516","instanceIdentifier":"f5969488-fed9-36ba-f9c9-a3d85aee3ce5","name":"","source":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"destination":{"id":"70b10570-0199-1000-da8d-2342e2b628e9","type":"INPUT_PORT","groupId":"70b10569-0199-1000-15f1-06f3d736a5a7","name":"input","instanceIdentifier":"7bc30aa2-f04f-3ad8-67b5-f68e648484d1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.async.confirm.search"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105e9-0199-1000-9a1d-c6d68061b08b","instanceIdentifier":"eb28f00b-6457-3f58-b070-ebb8cdcf134b","name":"","source":{"id":"70b105dc-0199-1000-2efd-94704ac05891","type":"OUTPUT_PORT","groupId":"70b105d2-0199-1000-0a9b-786d30e9a252","name":"output","instanceIdentifier":"e187fb0c-9bc0-3ee0-8d4f-7f8e7cdaf74c"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10610-0199-1000-0060-ddd5b65f480b","instanceIdentifier":"f287cbf9-44b8-3b81-9b77-2b34c83a0c73","name":"","source":{"id":"70b10596-0199-1000-0164-7ba09e99af29","type":"OUTPUT_PORT","groupId":"70b1058e-0199-1000-76e6-52deba10e06a","name":"output","instanceIdentifier":"876a862f-0bdb-31c5-ea56-ea43039281bc"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b1060f-0199-1000-85a6-7623dda63e30","instanceIdentifier":"4ef65470-2858-31f0-368f-31597350658e","name":"","source":{"id":"70b104c8-0199-1000-563e-7ec9920f2d4d","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"UpdateAttribute","comments":"","instanceIdentifier":"16344a84-6a4e-32de-8685-2a13a42a29d7"},"destination":{"id":"70b104cf-0199-1000-033b-414b9cdee911","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"HandleHttpResponse","comments":"","instanceIdentifier":"39fce8f5-01c5-3001-bfbd-fbd7e5521e18"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10600-0199-1000-d935-9dccffd5fb41","instanceIdentifier":"6ad96721-48df-3baa-9866-1e3887a625e9","name":"","source":{"id":"70b104d8-0199-1000-b707-64ef76017aa9","type":"OUTPUT_PORT","groupId":"70b104d2-0199-1000-697e-d0c7ee8e9f43","name":"output","instanceIdentifier":"b7776244-48d9-3131-2a53-26f41e8a3f25"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b105f9-0199-1000-62b6-4ad849ecf13b","instanceIdentifier":"b330be3f-d37a-3303-ab2d-acd461f4bbfe","name":"","source":{"id":"70b10553-0199-1000-89b9-7334a9594435","type":"OUTPUT_PORT","groupId":"70b1054a-0199-1000-4f1a-b36027c7097e","name":"output","instanceIdentifier":"dfe30d45-54f1-3d3d-a65d-1fc8c412f16a"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10612-0199-1000-925d-08de132b1d8b","instanceIdentifier":"8e3ec570-d03c-3800-df27-b18fa376300f","name":"","source":{"id":"70b104cc-0199-1000-20b8-c31c58c4fc6c","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"ValidateJson","comments":"","instanceIdentifier":"6faf6050-f1a8-3118-12ab-1df726c2cbe3"},"destination":{"id":"70b104c6-0199-1000-9ea4-3b68b7d2c53b","type":"PROCESSOR","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"RouteOnAttribute","comments":"","instanceIdentifier":"763ee894-5ef4-3868-049c-ea7ca577d105"},"labelIndex":0,"zIndex":0,"selectedRelationships":["failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-392.0,"y":-47.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b10609-0199-1000-6b78-10b9b9f3d08b","instanceIdentifier":"5aa1f577-6d79-381b-0fb8-ba580fc91a39","name":"","source":{"id":"70b105b4-0199-1000-8c9a-77ca9349b973","type":"OUTPUT_PORT","groupId":"70b105ae-0199-1000-f4a3-f2ed408466ff","name":"output","instanceIdentifier":"f2e0e210-72df-3ac1-e609-efc58dd7cd26"},"destination":{"id":"70b104d0-0199-1000-fef3-70e75cdf3815","type":"FUNNEL","groupId":"70b104c1-0199-1000-1d5c-859c677966df","name":"Funnel","comments":"","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"}],"labels":[],"funnels":[{"identifier":"70b104d1-0199-1000-0df8-1dad057d89ee","instanceIdentifier":"25c8bf36-a757-3713-9987-615e48e501a6","position":{"x":-816.0,"y":1496.0},"componentType":"FUNNEL","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104d0-0199-1000-fef3-70e75cdf3815","instanceIdentifier":"0b7b792d-3834-31ce-5ebc-774d839b8df4","position":{"x":-816.0,"y":736.0},"componentType":"FUNNEL","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"}],"controllerServices":[{"identifier":"70b104c4-0199-1000-8837-389b2c5afa3e","instanceIdentifier":"411e0f40-e903-37f9-ff06-b922a94c6966","name":"AvroReader-BeautyRoomBot","comments":"","type":"org.apache.nifi.avro.AvroReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.3.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"schema-name":"${schema.name}","cache-size":"1000","schema-registry":null,"schema-access-strategy":"embedded-avro-schema","schema-version":null,"schema-text":"${avro.schema}"},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache-size":{"name":"cache-size","displayName":"Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104c2-0199-1000-6113-57387ef9d01b","instanceIdentifier":"3df796ea-73a2-3ef9-cf6e-abdbe93e0cb6","name":"JsonRecordSetWriter-BeautyRoomBot","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.3.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"Allow Scientific Notation":"false","compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-version":null,"schema-text":"${avro.schema}","Schema Reference Writer":null},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow Scientific Notation":{"name":"Allow Scientific Notation","displayName":"Allow Scientific Notation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false,"dynamic":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Reference Writer":{"name":"Schema Reference Writer","displayName":"Schema Reference Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104c5-0199-1000-da0b-c5cd71482697","instanceIdentifier":"166bcb88-c414-3a2b-4dcb-1ef1614d1b27","name":"DBCPConnectionPool-BeautyRoomBot","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"2.3.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.sqlite.JDBC","dbcp-min-evictable-idle-time":"30 mins","Max Total Connections":"8","dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:sqlite:/home/unifi/data/loyalty-orders/data.db","dbcp-time-between-eviction-runs":"-1","Database User":null,"kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":null,"dbcp-max-idle-conns":"8"},"propertyDescriptors":{"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false,"dynamic":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE","URL"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"},{"identifier":"70b104c3-0199-1000-6a03-f121c84c39e4","instanceIdentifier":"b69ac8c2-2cc3-3ca7-6812-c1ebd1cf2e5c","name":"StandardJsonSchemaRegistry","comments":"","type":"org.apache.nifi.schemaregistry.services.StandardJsonSchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-registry-nar","version":"2.3.0"},"properties":{"/api/order/search":"{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"type\": \"object\",\n  \"required\": [\"order_short_id\"],\n  \"properties\": {\n    \"order_short_id\": {\"type\": \"string\"}\n  }\n}","/api/store/search":"{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"store_code\": {\n      \"type\": \"string\",\n      \"pattern\": \"^2[0-9]{3}$\"\n    },\n    \"seller_id\": {\n      \"type\": \"string\"\n    }\n  },\n  \"anyOf\": [\n    { \"required\": [\"store_code\"] },\n    { \"required\": [\"seller_id\"] }\n  ],\n  \"additionalProperties\": false\n}","JSON Schema Version":"DRAFT_2020_12"},"propertyDescriptors":{"/api/order/search":{"name":"/api/order/search","displayName":"/api/order/search","identifiesControllerService":false,"sensitive":false,"dynamic":true},"/api/store/search":{"name":"/api/store/search","displayName":"/api/store/search","identifiesControllerService":false,"sensitive":false,"dynamic":true},"JSON Schema Version":{"name":"JSON Schema Version","displayName":"JSON Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.schemaregistry.services.JsonSchemaRegistry","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b104c1-0199-1000-1d5c-859c677966df"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1033c-0199-1000-cfe8-f4a9294041cc"},{"identifier":"70b10614-0199-1000-2bfa-d6118d7add90","instanceIdentifier":"481519ff-5fa5-3db2-2106-1b299926a6f7","name":"telegram-bot","comments":"","position":{"x":-400.0,"y":-480.0},"processGroups":[{"identifier":"70b10622-0199-1000-7f3d-af945a6326a1","instanceIdentifier":"cafa3eae-e982-36de-165b-0d91406cd7df","name":"Typing","comments":"","position":{"x":-992.0,"y":-200.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10623-0199-1000-aec9-1ffc1837761a","instanceIdentifier":"7ac6cd06-7005-3a1c-2ae0-8e5dda4370ad","name":"UpdateAttribute","comments":"","position":{"x":-856.0000041847488,"y":63.93909899379332},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"loop_count":"0","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"loop_count":{"name":"loop_count","displayName":"loop_count","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"},{"identifier":"70b10627-0199-1000-cb86-b54f9a460dec","instanceIdentifier":"2719ecf1-55e2-3f2c-79d7-a6dfc95edf17","name":"RouteOnAttribute","comments":"","position":{"x":-160.00000418474883,"y":-152.06090100620668},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"next":"${loop_count:lt(11)}","Routing Strategy":"Route to Property name"},"propertyDescriptors":{"next":{"name":"next","displayName":"next","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"},{"identifier":"70b10624-0199-1000-405b-39fdeb857312","instanceIdentifier":"c1e807e6-3007-369c-2ca9-41ea655e3811","name":"ReplaceText","comments":"","position":{"x":-160.00000418474883,"y":79.93909899379332},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"chat_id\": \"${chat_id}\",\n  \"action\": \"typing\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"7 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"},{"identifier":"70b10626-0199-1000-2cb3-f30d1d3825c8","instanceIdentifier":"4b639d43-ae7e-368f-799b-14f29048e813","name":"InvokeHTTP","comments":"","position":{"x":503.99999581525117,"y":79.93909899379332},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"https://api.telegram.org/bot${telegrambot_token}/sendChatAction","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"},{"identifier":"70b10625-0199-1000-4d87-3b6d392d6fff","instanceIdentifier":"02f768f8-54ad-3300-16b9-70e7850c01bc","name":"UpdateAttribute","comments":"","position":{"x":-856.0000041847488,"y":-152.06090100620668},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"loop_count":"${loop_count:plus(1)}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"loop_count":{"name":"loop_count","displayName":"loop_count","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"}],"inputPorts":[{"identifier":"70b10628-0199-1000-9b67-2cd544c9d0c0","instanceIdentifier":"b2b95ce1-da67-3860-86d3-0a13b3a38bc7","name":"input","position":{"x":-800.0,"y":320.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"}],"outputPorts":[],"connections":[{"identifier":"70b1062d-0199-1000-e3e2-c1f6afddb815","instanceIdentifier":"1d69d814-1950-31db-e194-04915440d1e5","name":"","source":{"id":"70b10623-0199-1000-aec9-1ffc1837761a","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"UpdateAttribute","comments":"","instanceIdentifier":"7ac6cd06-7005-3a1c-2ae0-8e5dda4370ad"},"destination":{"id":"70b10625-0199-1000-4d87-3b6d392d6fff","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"UpdateAttribute","comments":"","instanceIdentifier":"02f768f8-54ad-3300-16b9-70e7850c01bc"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"},{"identifier":"70b1062b-0199-1000-0280-cb8c6d12faae","instanceIdentifier":"b91f7dd6-0cd9-3aa5-f23f-e25e76281925","name":"","source":{"id":"70b10627-0199-1000-cb86-b54f9a460dec","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"RouteOnAttribute","comments":"","instanceIdentifier":"2719ecf1-55e2-3f2c-79d7-a6dfc95edf17"},"destination":{"id":"70b10625-0199-1000-4d87-3b6d392d6fff","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"UpdateAttribute","comments":"","instanceIdentifier":"02f768f8-54ad-3300-16b9-70e7850c01bc"},"labelIndex":0,"zIndex":0,"selectedRelationships":["next"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-321.98425711443633,"y":-207.93907483433168}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"},{"identifier":"70b1062a-0199-1000-b234-a8e5d0c03cef","instanceIdentifier":"e40c946a-367d-3cb4-6b53-77f327da097d","name":"","source":{"id":"70b10628-0199-1000-9b67-2cd544c9d0c0","type":"INPUT_PORT","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"input","instanceIdentifier":"b2b95ce1-da67-3860-86d3-0a13b3a38bc7"},"destination":{"id":"70b10623-0199-1000-aec9-1ffc1837761a","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"UpdateAttribute","comments":"","instanceIdentifier":"7ac6cd06-7005-3a1c-2ae0-8e5dda4370ad"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"},{"identifier":"70b1062c-0199-1000-3e6d-c159a77b55d2","instanceIdentifier":"262d5407-de58-36c0-60ee-0e3ffd02f711","name":"","source":{"id":"70b10624-0199-1000-405b-39fdeb857312","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"ReplaceText","comments":"","instanceIdentifier":"c1e807e6-3007-369c-2ca9-41ea655e3811"},"destination":{"id":"70b10626-0199-1000-2cb3-f30d1d3825c8","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"InvokeHTTP","comments":"","instanceIdentifier":"4b639d43-ae7e-368f-799b-14f29048e813"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"},{"identifier":"70b10629-0199-1000-4d36-73aaece41e4f","instanceIdentifier":"770733f9-c34a-3593-e3b4-0dbc1103e7cd","name":"","source":{"id":"70b10625-0199-1000-4d87-3b6d392d6fff","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"UpdateAttribute","comments":"","instanceIdentifier":"02f768f8-54ad-3300-16b9-70e7850c01bc"},"destination":{"id":"70b10627-0199-1000-cb86-b54f9a460dec","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"RouteOnAttribute","comments":"","instanceIdentifier":"2719ecf1-55e2-3f2c-79d7-a6dfc95edf17"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"},{"identifier":"70b1062e-0199-1000-ce41-626831b2c2c9","instanceIdentifier":"803a041e-cd61-31ba-b863-1a6f1ec3b385","name":"","source":{"id":"70b10627-0199-1000-cb86-b54f9a460dec","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"RouteOnAttribute","comments":"","instanceIdentifier":"2719ecf1-55e2-3f2c-79d7-a6dfc95edf17"},"destination":{"id":"70b10624-0199-1000-405b-39fdeb857312","type":"PROCESSOR","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"ReplaceText","comments":"","instanceIdentifier":"c1e807e6-3007-369c-2ca9-41ea655e3811"},"labelIndex":0,"zIndex":0,"selectedRelationships":["unmatched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10622-0199-1000-7f3d-af945a6326a1"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106a9-0199-1000-2521-09d3e368c3b0","instanceIdentifier":"5e979706-4e70-3747-5b11-6c8abe014716","name":"commands","comments":"","position":{"x":-1632.0,"y":368.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b106af-0199-1000-bd8c-f620cc976232","instanceIdentifier":"9126b1ec-7d29-3004-0375-820b8e0bb3af","name":"Help","comments":"","position":{"x":-2048.0,"y":280.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def config = new JsonSlurper().parse(new File('/home/unifi/data/loyalty-orders/config.json'))\n    def baseCommand = flowFile.getAttribute('telegram.base_command')\n    \n    if (!config.simple_commands) {\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    if (!baseCommand) {\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    //    \n    def commandConfig = config.simple_commands[baseCommand]\n    \n    if (commandConfig) {\n        flowFile = session.putAttribute(flowFile, 'response.text', commandConfig.text)\n        flowFile = session.putAttribute(flowFile, 'response.parse_mode', commandConfig.parse_mode)\n                //  reply_markup  /start  \n        if (baseCommand == \"/start\" && commandConfig.reply_markup) {\n            flowFile = session.putAttribute(flowFile, 'response.reply_markup', \n                new groovy.json.JsonOutput().toJson(commandConfig.reply_markup))\n        }\n\n    } else {\n        //    -  (   )\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (Exception e) {\n    log.error(\"   : ${e.message}\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106b2-0199-1000-5346-aeb58619f239","instanceIdentifier":"31652c81-26e5-3de7-8b31-9cf53f2d459f","name":"Order.Search","comments":"","position":{"x":-3448.0,"y":728.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def config = new JsonSlurper().parse(new File('/home/unifi/data/loyalty-orders/config.json'))\n    def baseCommand = flowFile.getAttribute('telegram.base_command')\n    def rawCommand = flowFile.getAttribute('telegram.raw_command')\n    \n    def commandConfig = config.complex_commands[\"/ordersearch\"]\n    if (!commandConfig) {\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    if (rawCommand == \"/ordersearch\") {\n        flowFile = session.putAttribute(flowFile, 'response.text', commandConfig.help_text)\n        flowFile = session.putAttribute(flowFile, 'response.parse_mode', commandConfig.parse_mode)\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    def matcher = (rawCommand =~ commandConfig.pattern)\n    if (!matcher.find()) {\n        flowFile = session.putAttribute(flowFile, 'response.text', commandConfig.error_text)\n        flowFile = session.putAttribute(flowFile, 'response.parse_mode', commandConfig.parse_mode)\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    def successMessage = commandConfig.success_text.replace('{1}', \"matcher\")\n    \n    flowFile = session.putAllAttributes(flowFile, [\n        'order_short_id': matcher.group(1),\n        'action': 'order_search',\n        'response.text': successMessage,\n        'response.parse_mode': commandConfig.parse_mode\n    ])\n    \n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (Exception e) {\n    log.error(\"Order search error: ${e.message}\")\n    flowFile = session.putAttribute(flowFile, 'response.text', \"   \")\n    session.transfer(flowFile, REL_SUCCESS)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106ab-0199-1000-93bf-6482139dcef7","instanceIdentifier":"07a05a08-6213-3578-8f9f-c19681e6c51b","name":"RouteOnAttribute","comments":"","position":{"x":-2760.0,"y":64.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"route.start":"${telegram.message_data:toLower():equals('/start')}","route.order_search":"${telegram.message_data:toLower():startsWith('/ordersearch')}","route.newtest":"${telegram.base_command:toLower():equals('/newtest')}","Routing Strategy":"Route to Property name","route.new":"${telegram.base_command:toLower():equals('/new')}","route.help":"${telegram.message_data:toLower():equals('/help')}","route.payconfirm":"${telegram.message_data:toLower():startsWith('/payconfirm')}","route.pay":"${telegram.base_command:toLower():equals('/pay')}"},"propertyDescriptors":{"route.start":{"name":"route.start","displayName":"route.start","identifiesControllerService":false,"sensitive":false,"dynamic":true},"route.order_search":{"name":"route.order_search","displayName":"route.order_search","identifiesControllerService":false,"sensitive":false,"dynamic":true},"route.newtest":{"name":"route.newtest","displayName":"route.newtest","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"route.new":{"name":"route.new","displayName":"route.new","identifiesControllerService":false,"sensitive":false,"dynamic":true},"route.help":{"name":"route.help","displayName":"route.help","identifiesControllerService":false,"sensitive":false,"dynamic":true},"route.payconfirm":{"name":"route.payconfirm","displayName":"route.payconfirm","identifiesControllerService":false,"sensitive":false,"dynamic":true},"route.pay":{"name":"route.pay","displayName":"route.pay","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106ae-0199-1000-53b7-07d537e541be","instanceIdentifier":"2d7f72e1-762e-3e0a-8d6b-6262db335455","name":"Order.Pay","comments":"","position":{"x":-3448.0,"y":280.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def config = new JsonSlurper().parse(new File('/home/unifi/data/loyalty-orders/config.json'))\n    def baseCommand = flowFile.getAttribute('telegram.base_command')\n    def rawCommand = flowFile.getAttribute('telegram.raw_command')\n    \n    def commandConfig = config.complex_commands[\"/pay\"]\n    if (!commandConfig) {\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    if (rawCommand == \"/pay\") {\n        flowFile = session.putAttribute(flowFile, 'response.text', commandConfig.help_text)\n        flowFile = session.putAttribute(flowFile, 'response.parse_mode', commandConfig.parse_mode)\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    def matcher = (rawCommand =~ commandConfig.pattern)\n    if (!matcher.find()) {\n        flowFile = session.putAttribute(flowFile, 'response.text', commandConfig.error_text)\n        flowFile = session.putAttribute(flowFile, 'response.parse_mode', commandConfig.parse_mode)\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    def successMessage = commandConfig.success_text.replace('{1}', \"matcher\")\n    \n    flowFile = session.putAllAttributes(flowFile, [\n        'order_id': matcher.group(1),\n        'action': 'payment_creation',\n        'response.text': successMessage,\n        'response.parse_mode': commandConfig.parse_mode\n    ])\n    \n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (Exception e) {\n    log.error(\"Order search error: ${e.message}\")\n    flowFile = session.putAttribute(flowFile, 'response.text', \"   \")\n    session.transfer(flowFile, REL_SUCCESS)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106ac-0199-1000-48d9-e34e176e82a4","instanceIdentifier":"cd647472-f5f0-32b6-edd1-e1320e40b215","name":"ExecuteScript","comments":"","position":{"x":-2760.0,"y":-232.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"def flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def rawMessage = flowFile.getAttribute('telegram.message_data')\n    \n    if (!rawMessage) {\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    // 1.   \n    flowFile = session.putAttribute(flowFile, 'telegram.raw_command', rawMessage)\n    \n    // 2.    ( )\n    def baseCommand = rawMessage.split('\\\\s+')[0]\n    flowFile = session.putAttribute(flowFile, 'telegram.base_command', baseCommand)\n    \n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (Exception e) {\n    log.error(\" : ${e.message}\")\n    session.transfer(flowFile, REL_SUCCESS)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106b5-0199-1000-b976-91572d3e1e50","instanceIdentifier":"731ee463-233a-3582-cab9-bc982cbbdf13","name":"Start","comments":"","position":{"x":-2048.0,"y":64.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def config = new JsonSlurper().parse(new File('/home/unifi/data/loyalty-orders/config.json'))\n    def baseCommand = flowFile.getAttribute('telegram.base_command')\n    \n    if (!config.simple_commands) {\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    if (!baseCommand) {\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    //    \n    def commandConfig = config.simple_commands[baseCommand]\n    \n    if (commandConfig) {\n        flowFile = session.putAttribute(flowFile, 'response.text', commandConfig.text)\n        flowFile = session.putAttribute(flowFile, 'response.parse_mode', commandConfig.parse_mode)\n                //  reply_markup  /start  \n        if (baseCommand == \"/start\" && commandConfig.reply_markup) {\n            flowFile = session.putAttribute(flowFile, 'response.reply_markup', \n                new groovy.json.JsonOutput().toJson(commandConfig.reply_markup))\n        }\n\n    } else {\n        //    -  (   )\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (Exception e) {\n    log.error(\"   : ${e.message}\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106ad-0199-1000-c765-5222d73fc4f3","instanceIdentifier":"5ab8c8ea-f044-36cf-fd9c-09d0c0cd7b65","name":"Order.PayConfirm","comments":"","position":{"x":-3448.0,"y":504.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def config = new JsonSlurper().parse(new File('/home/unifi/data/loyalty-orders/config.json'))\n    def baseCommand = flowFile.getAttribute('telegram.base_command')\n    def rawCommand = flowFile.getAttribute('telegram.raw_command')\n    \n    def commandConfig = config.complex_commands[\"/payconfirm\"]\n    if (!commandConfig) {\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    if (rawCommand == \"/payconfirm\") {\n        flowFile = session.putAttribute(flowFile, 'response.text', commandConfig.help_text)\n        flowFile = session.putAttribute(flowFile, 'response.parse_mode', commandConfig.parse_mode)\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    def matcher = (rawCommand =~ commandConfig.pattern)\n    if (!matcher.find()) {\n        flowFile = session.putAttribute(flowFile, 'response.text', commandConfig.error_text)\n        flowFile = session.putAttribute(flowFile, 'response.parse_mode', commandConfig.parse_mode)\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    def successMessage = commandConfig.success_text.replace('{1}', \"matcher\")\n    \n    flowFile = session.putAllAttributes(flowFile, [\n        'order_id': matcher.group(1),\n        'confirmation_code': matcher.group(2),\n        'action': 'payment_confirmation',\n        'response.text': successMessage,\n        'response.parse_mode': commandConfig.parse_mode\n    ])\n    \n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (Exception e) {\n    log.error(\"Order search error: ${e.message}\")\n    flowFile = session.putAttribute(flowFile, 'response.text', \"   \")\n    session.transfer(flowFile, REL_SUCCESS)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106b1-0199-1000-ea8e-4312582005a4","instanceIdentifier":"48b3f930-b97d-3155-1d27-c9189a71e55a","name":"Order.New","comments":"","position":{"x":-3448.0,"y":64.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def config = new JsonSlurper().parse(new File('/home/unifi/data/loyalty-orders/config.json'))\n    def baseCommand = flowFile.getAttribute('telegram.base_command')\n    def rawCommand = flowFile.getAttribute('telegram.raw_command')\n    \n    def commandConfig = config.complex_commands[\"/new\"]\n    if (!commandConfig) {\n        return //  ,    \n    }\n    \n    if (rawCommand == \"/new\") {\n        flowFile = session.putAllAttributes(flowFile, [\n            'response.text': commandConfig.help_text,\n            'response.parse_mode': commandConfig.parse_mode\n        ])\n        return\n    }\n    \n    def matcher = (rawCommand =~ commandConfig.pattern)\n    if (!matcher.find()) {\n        flowFile = session.putAllAttributes(flowFile, [\n            'response.text': commandConfig.error_text,\n            'response.parse_mode': commandConfig.parse_mode\n        ])\n        return\n    }\n    \n    def escapedDate = matcher.group(2)?.replace(\"-\", \"\\\\-\") ?: \"\"\n    def successMessage = commandConfig.success_text\n        .replace('{1}', matcher.group(1))\n        .replace('{2}', escapedDate)\n        .replace('{3}', matcher.group(3))\n    \n    flowFile = session.putAllAttributes(flowFile, [\n        'loyalty_card': matcher.group(1),\n        'appointment_date': matcher.group(2) + ' ' + matcher.group(3) + ':00',\n        'action': 'order_creation',\n        'response.text': successMessage,\n        'response.parse_mode': commandConfig.parse_mode\n    ])\n    \n} catch (Exception e) {\n    log.error(\"New command error: ${e.message}\")\n    flowFile = session.putAllAttributes(flowFile, [\n        'response.text': \"   \",\n        'response.parse_mode': 'MarkdownV2'\n    ])\n} finally {\n    session.transfer(flowFile, REL_SUCCESS)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106aa-0199-1000-2f2d-198110653760","instanceIdentifier":"5ed803ff-9b57-384a-9ca1-a2faa1ce4e74","name":"Order.New.Test","comments":"","position":{"x":-3456.0,"y":-232.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def config = new JsonSlurper().parse(new File('/home/unifi/data/loyalty-orders/config.json'))\n    def baseCommand = flowFile.getAttribute('telegram.base_command')\n    def rawCommand = flowFile.getAttribute('telegram.raw_command')\n    \n    def commandConfig = config.complex_commands[\"/newtest\"]\n    if (!commandConfig) {\n        return //  ,    \n    }\n    \n    if (rawCommand == \"/newtest\") {\n        flowFile = session.putAllAttributes(flowFile, [\n            'response.text': commandConfig.help_text,\n            'response.parse_mode': commandConfig.parse_mode\n        ])\n        return\n    }\n    \n    def matcher = (rawCommand =~ commandConfig.pattern)\n    if (!matcher.find()) {\n        flowFile = session.putAllAttributes(flowFile, [\n            'response.text': commandConfig.error_text,\n            'response.parse_mode': commandConfig.parse_mode\n        ])\n        return\n    }\n    \n    def escapedDate = matcher.group(2)?.replace(\"-\", \"\\\\-\") ?: \"\"\n    def successMessage = commandConfig.success_text\n        .replace('{1}', matcher.group(1))\n        .replace('{2}', escapedDate)\n        .replace('{3}', matcher.group(3))\n    \n    flowFile = session.putAllAttributes(flowFile, [\n        'loyalty_card': matcher.group(1),\n        'appointment_date': matcher.group(2) + ' ' + matcher.group(3) + ':00',\n        'action': 'order_creation',\n        'response.text': successMessage,\n        'response.parse_mode': commandConfig.parse_mode\n    ])\n    \n} catch (Exception e) {\n    log.error(\"New command error: ${e.message}\")\n    flowFile = session.putAllAttributes(flowFile, [\n        'response.text': \"   \",\n        'response.parse_mode': 'MarkdownV2'\n    ])\n} finally {\n    //    \n    session.transfer(flowFile, REL_SUCCESS)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"}],"inputPorts":[{"identifier":"70b106b6-0199-1000-f8b8-2ff34b983ad9","instanceIdentifier":"ef89dfd6-5197-334d-775d-5378e7d3d369","name":"input","position":{"x":-2704.0,"y":-360.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"}],"outputPorts":[{"identifier":"70b106b7-0199-1000-7627-7f7988692260","instanceIdentifier":"b3f5945a-1bad-38e9-f051-4d0e53b74652","name":"output","position":{"x":-2704.0,"y":1080.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"}],"connections":[{"identifier":"70b106bd-0199-1000-9596-8d010db69318","instanceIdentifier":"b49bb28f-ede8-375a-6573-90931287b2f1","name":"","source":{"id":"70b106b5-0199-1000-b976-91572d3e1e50","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Start","comments":"","instanceIdentifier":"731ee463-233a-3582-cab9-bc982cbbdf13"},"destination":{"id":"70b106b7-0199-1000-7627-7f7988692260","type":"OUTPUT_PORT","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"output","instanceIdentifier":"b3f5945a-1bad-38e9-f051-4d0e53b74652"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106c3-0199-1000-5274-a13746cf57a8","instanceIdentifier":"612ee4ba-b8fe-37c7-2f5e-77c4a8acfa62","name":"","source":{"id":"70b106af-0199-1000-bd8c-f620cc976232","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Help","comments":"","instanceIdentifier":"9126b1ec-7d29-3004-0375-820b8e0bb3af"},"destination":{"id":"70b106b7-0199-1000-7627-7f7988692260","type":"OUTPUT_PORT","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"output","instanceIdentifier":"b3f5945a-1bad-38e9-f051-4d0e53b74652"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106be-0199-1000-6b36-1b100e7d5f77","instanceIdentifier":"dd99755c-5c3e-3f68-477d-5591edbcb7ec","name":"","source":{"id":"70b106ab-0199-1000-93bf-6482139dcef7","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"RouteOnAttribute","comments":"","instanceIdentifier":"07a05a08-6213-3578-8f9f-c19681e6c51b"},"destination":{"id":"70b106b2-0199-1000-5346-aeb58619f239","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Order.Search","comments":"","instanceIdentifier":"31652c81-26e5-3de7-8b31-9cf53f2d459f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["route.order_search"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106c1-0199-1000-9717-3c0ca907b0a4","instanceIdentifier":"6f795a25-bf89-3fc8-1c0b-bdf2dbf6b102","name":"","source":{"id":"70b106ab-0199-1000-93bf-6482139dcef7","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"RouteOnAttribute","comments":"","instanceIdentifier":"07a05a08-6213-3578-8f9f-c19681e6c51b"},"destination":{"id":"70b106aa-0199-1000-2f2d-198110653760","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Order.New.Test","comments":"","instanceIdentifier":"5ed803ff-9b57-384a-9ca1-a2faa1ce4e74"},"labelIndex":0,"zIndex":0,"selectedRelationships":["route.newtest"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106ba-0199-1000-a49f-3fd1a0b98565","instanceIdentifier":"f00f7332-3887-3f3a-17fa-7de23e725a27","name":"","source":{"id":"70b106ab-0199-1000-93bf-6482139dcef7","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"RouteOnAttribute","comments":"","instanceIdentifier":"07a05a08-6213-3578-8f9f-c19681e6c51b"},"destination":{"id":"70b106ad-0199-1000-c765-5222d73fc4f3","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Order.PayConfirm","comments":"","instanceIdentifier":"5ab8c8ea-f044-36cf-fd9c-09d0c0cd7b65"},"labelIndex":0,"zIndex":0,"selectedRelationships":["route.payconfirm"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106bb-0199-1000-3257-87a1a361460f","instanceIdentifier":"c585a4c2-1b83-3a62-e771-199906a81d1b","name":"","source":{"id":"70b106b6-0199-1000-f8b8-2ff34b983ad9","type":"INPUT_PORT","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"input","instanceIdentifier":"ef89dfd6-5197-334d-775d-5378e7d3d369"},"destination":{"id":"70b106ac-0199-1000-48d9-e34e176e82a4","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"ExecuteScript","comments":"","instanceIdentifier":"cd647472-f5f0-32b6-edd1-e1320e40b215"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106c0-0199-1000-746a-3d25295d70a6","instanceIdentifier":"d4a3581f-9538-3f86-9fce-c5585493639d","name":"","source":{"id":"70b106ad-0199-1000-c765-5222d73fc4f3","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Order.PayConfirm","comments":"","instanceIdentifier":"5ab8c8ea-f044-36cf-fd9c-09d0c0cd7b65"},"destination":{"id":"70b106b7-0199-1000-7627-7f7988692260","type":"OUTPUT_PORT","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"output","instanceIdentifier":"b3f5945a-1bad-38e9-f051-4d0e53b74652"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106b9-0199-1000-4953-cc3a1d26b063","instanceIdentifier":"6623763b-5dcc-35fe-30b2-7e0b99e7ef98","name":"","source":{"id":"70b106b2-0199-1000-5346-aeb58619f239","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Order.Search","comments":"","instanceIdentifier":"31652c81-26e5-3de7-8b31-9cf53f2d459f"},"destination":{"id":"70b106b7-0199-1000-7627-7f7988692260","type":"OUTPUT_PORT","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"output","instanceIdentifier":"b3f5945a-1bad-38e9-f051-4d0e53b74652"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106bf-0199-1000-8bba-30a05009ff4c","instanceIdentifier":"ae1dddcd-a19a-3cf7-f1d1-982eb6e3f583","name":"","source":{"id":"70b106b1-0199-1000-ea8e-4312582005a4","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Order.New","comments":"","instanceIdentifier":"48b3f930-b97d-3155-1d27-c9189a71e55a"},"destination":{"id":"70b106b7-0199-1000-7627-7f7988692260","type":"OUTPUT_PORT","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"output","instanceIdentifier":"b3f5945a-1bad-38e9-f051-4d0e53b74652"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106c5-0199-1000-6ab7-e35dd9b7743e","instanceIdentifier":"b2737cfb-6600-347d-325b-a31a928f563c","name":"","source":{"id":"70b106ab-0199-1000-93bf-6482139dcef7","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"RouteOnAttribute","comments":"","instanceIdentifier":"07a05a08-6213-3578-8f9f-c19681e6c51b"},"destination":{"id":"70b106af-0199-1000-bd8c-f620cc976232","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Help","comments":"","instanceIdentifier":"9126b1ec-7d29-3004-0375-820b8e0bb3af"},"labelIndex":0,"zIndex":0,"selectedRelationships":["route.help"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106bc-0199-1000-9abf-3d207f124d76","instanceIdentifier":"25133a38-f5bd-322d-bb0b-f401eddb140d","name":"","source":{"id":"70b106ae-0199-1000-53b7-07d537e541be","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Order.Pay","comments":"","instanceIdentifier":"2d7f72e1-762e-3e0a-8d6b-6262db335455"},"destination":{"id":"70b106b7-0199-1000-7627-7f7988692260","type":"OUTPUT_PORT","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"output","instanceIdentifier":"b3f5945a-1bad-38e9-f051-4d0e53b74652"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106c2-0199-1000-bba8-f1b22ea89e68","instanceIdentifier":"ba80f61c-2fd6-3e69-8f65-9e638e2ad5f0","name":"","source":{"id":"70b106ab-0199-1000-93bf-6482139dcef7","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"RouteOnAttribute","comments":"","instanceIdentifier":"07a05a08-6213-3578-8f9f-c19681e6c51b"},"destination":{"id":"70b106b1-0199-1000-ea8e-4312582005a4","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Order.New","comments":"","instanceIdentifier":"48b3f930-b97d-3155-1d27-c9189a71e55a"},"labelIndex":0,"zIndex":0,"selectedRelationships":["route.new"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106b8-0199-1000-8285-e14d03873b80","instanceIdentifier":"fb74b0a7-ed17-3341-b63f-4fa2761c3fb0","name":"","source":{"id":"70b106ac-0199-1000-48d9-e34e176e82a4","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"ExecuteScript","comments":"","instanceIdentifier":"cd647472-f5f0-32b6-edd1-e1320e40b215"},"destination":{"id":"70b106ab-0199-1000-93bf-6482139dcef7","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"RouteOnAttribute","comments":"","instanceIdentifier":"07a05a08-6213-3578-8f9f-c19681e6c51b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106c4-0199-1000-bebb-5490b0890bea","instanceIdentifier":"e59db364-ae12-3630-28fc-a420dde4beb8","name":"","source":{"id":"70b106ab-0199-1000-93bf-6482139dcef7","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"RouteOnAttribute","comments":"","instanceIdentifier":"07a05a08-6213-3578-8f9f-c19681e6c51b"},"destination":{"id":"70b106ae-0199-1000-53b7-07d537e541be","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Order.Pay","comments":"","instanceIdentifier":"2d7f72e1-762e-3e0a-8d6b-6262db335455"},"labelIndex":0,"zIndex":0,"selectedRelationships":["route.pay"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"},{"identifier":"70b106c6-0199-1000-4df8-ebd67c98c25c","instanceIdentifier":"bef71d93-a2cf-3e55-f3df-1d0341acb324","name":"","source":{"id":"70b106ab-0199-1000-93bf-6482139dcef7","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"RouteOnAttribute","comments":"","instanceIdentifier":"07a05a08-6213-3578-8f9f-c19681e6c51b"},"destination":{"id":"70b106b5-0199-1000-b976-91572d3e1e50","type":"PROCESSOR","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"Start","comments":"","instanceIdentifier":"731ee463-233a-3582-cab9-bc982cbbdf13"},"labelIndex":0,"zIndex":0,"selectedRelationships":["route.start"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b106a9-0199-1000-2521-09d3e368c3b0"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b1067c-0199-1000-0142-2cb5be7d3ada","instanceIdentifier":"ef08ea8f-c37f-3c65-b46c-4bf44138819b","name":"Access-Conrtol","comments":"","position":{"x":-2440.0,"y":-192.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10681-0199-1000-b93d-35a93a96ef91","instanceIdentifier":"8f726379-8539-3c2a-78af-6433f7b8cce9","name":"RouteOnAttribute","comments":"","position":{"x":-1008.0,"y":-440.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"telegram.access.allowed":"${access:contains('allowed')}","Routing Strategy":"Route to Property name","telegram.access.denied":"${access:contains('denied')}"},"propertyDescriptors":{"telegram.access.allowed":{"name":"telegram.access.allowed","displayName":"telegram.access.allowed","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"telegram.access.denied":{"name":"telegram.access.denied","displayName":"telegram.access.denied","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b1067e-0199-1000-12fd-10b85704a775","instanceIdentifier":"5455642f-9294-31ee-788e-8506597edf40","name":"ReplaceText","comments":"","position":{"x":296.0,"y":-720.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"id_value\":\"${user_id}\",\n    \"id_type\":\"telegram\"\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b10683-0199-1000-a8f1-561783a5dbb6","instanceIdentifier":"7742bf8b-a308-39c8-dcf7-d0260e62f9b3","name":"ReplaceText","comments":"","position":{"x":-1640.0,"y":-88.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"${telegram.raw_message}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b10682-0199-1000-d0fb-cb7ab61e37bd","instanceIdentifier":"1fbe7ddf-4d40-3caf-3cc9-75f66c426ec7","name":"EvaluateJsonPath","comments":"","position":{"x":-376.0,"y":-720.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","user_id":"$.message.from.id","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"user_id":{"name":"user_id","displayName":"user_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b10680-0199-1000-687e-fa24c8ab5c09","instanceIdentifier":"7b9471e0-e5ce-321f-6aa6-54178e4576b5","name":"InvokeHTTP","comments":"","position":{"x":296.0,"y":-440.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8100/api/authorization","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b1067f-0199-1000-3e77-6d9a8ab606bf","instanceIdentifier":"ff98ae98-ec5d-3374-3fab-ef698b65328b","name":"EvaluateJsonPath","comments":"","position":{"x":-376.0,"y":-440.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","access":"$.access","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"access":{"name":"access","displayName":"access","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b1067d-0199-1000-6838-a950ea3d388f","instanceIdentifier":"82ca142e-7566-3f4a-2a5e-e4c8e2d7940f","name":"ExecuteScript","comments":"","position":{"x":-1008.0,"y":-720.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def content = session.read(flowFile).getText('UTF-8')\n\tdef update = new JsonSlurper().parseText(content)\n\n\tdef chatId = update.message?.chat?.id ?: update.callback_query?.message?.chat?.id ?: \"\"\n\n\n    //    \n    flowFile = session.putAllAttributes(flowFile, [\n\t\t'telegram.chat_id': chatId.toString(),\n        'telegram.raw_message': content //     \n    ])\n    \n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (e) {\n    log.error(\"  Telegram update: \" + e, e)\n    flowFile = session.putAttribute(flowFile, 'error.message', e.message)\n    session.transfer(flowFile, REL_FAILURE)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"}],"inputPorts":[{"identifier":"70b10684-0199-1000-2052-f7900da57d7d","instanceIdentifier":"b2f67415-9cdf-30c2-dded-6cbd70cbc764","name":"input","position":{"x":-952.0,"y":-1032.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"}],"outputPorts":[{"identifier":"70b10686-0199-1000-c81e-a00e73b72d4a","instanceIdentifier":"c45c8cc7-0ed1-3646-9164-cb77dfac4275","name":"access.allow","position":{"x":-1584.0,"y":200.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b10685-0199-1000-d6e0-a3e65e64b883","instanceIdentifier":"5cc91598-2542-32b8-3561-5373b1737903","name":"access.denied","position":{"x":-312.0,"y":-48.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"}],"connections":[{"identifier":"70b1068f-0199-1000-0640-2fb8e6d78124","instanceIdentifier":"61519fd0-6f02-3f63-2aeb-2c478b42a2c5","name":"","source":{"id":"70b10681-0199-1000-b93d-35a93a96ef91","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"RouteOnAttribute","comments":"","instanceIdentifier":"8f726379-8539-3c2a-78af-6433f7b8cce9"},"destination":{"id":"70b10683-0199-1000-a8f1-561783a5dbb6","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"ReplaceText","comments":"","instanceIdentifier":"7742bf8b-a308-39c8-dcf7-d0260e62f9b3"},"labelIndex":0,"zIndex":0,"selectedRelationships":["telegram.access.allowed"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b1068c-0199-1000-64d0-17a2574b83c2","instanceIdentifier":"5be53981-4cba-3d55-351d-73773784cfec","name":"","source":{"id":"70b10681-0199-1000-b93d-35a93a96ef91","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"RouteOnAttribute","comments":"","instanceIdentifier":"8f726379-8539-3c2a-78af-6433f7b8cce9"},"destination":{"id":"70b10685-0199-1000-d6e0-a3e65e64b883","type":"OUTPUT_PORT","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"access.denied","instanceIdentifier":"5cc91598-2542-32b8-3561-5373b1737903"},"labelIndex":0,"zIndex":0,"selectedRelationships":["telegram.access.denied"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b1068d-0199-1000-2c66-2b4e53a45a34","instanceIdentifier":"385c029a-255a-3f69-bbfa-37767b4c9f04","name":"","source":{"id":"70b1067d-0199-1000-6838-a950ea3d388f","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"ExecuteScript","comments":"","instanceIdentifier":"82ca142e-7566-3f4a-2a5e-e4c8e2d7940f"},"destination":{"id":"70b10682-0199-1000-d0fb-cb7ab61e37bd","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"1fbe7ddf-4d40-3caf-3cc9-75f66c426ec7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b1068b-0199-1000-6111-52bf8bc5d2f6","instanceIdentifier":"9858c528-8d9e-3b8f-5e7e-c02011fed7ed","name":"","source":{"id":"70b10683-0199-1000-a8f1-561783a5dbb6","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"ReplaceText","comments":"","instanceIdentifier":"7742bf8b-a308-39c8-dcf7-d0260e62f9b3"},"destination":{"id":"70b10686-0199-1000-c81e-a00e73b72d4a","type":"OUTPUT_PORT","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"access.allow","instanceIdentifier":"c45c8cc7-0ed1-3646-9164-cb77dfac4275"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b10688-0199-1000-66c4-d998967cffce","instanceIdentifier":"282af9f0-f3fd-3e65-f981-12653a690dd9","name":"","source":{"id":"70b10684-0199-1000-2052-f7900da57d7d","type":"INPUT_PORT","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"input","instanceIdentifier":"b2f67415-9cdf-30c2-dded-6cbd70cbc764"},"destination":{"id":"70b1067d-0199-1000-6838-a950ea3d388f","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"ExecuteScript","comments":"","instanceIdentifier":"82ca142e-7566-3f4a-2a5e-e4c8e2d7940f"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b1068a-0199-1000-0e60-54a69755febd","instanceIdentifier":"07ddc95c-f22e-310a-6446-977b4360c2d3","name":"","source":{"id":"70b1067e-0199-1000-12fd-10b85704a775","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"ReplaceText","comments":"","instanceIdentifier":"5455642f-9294-31ee-788e-8506597edf40"},"destination":{"id":"70b10680-0199-1000-687e-fa24c8ab5c09","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"InvokeHTTP","comments":"","instanceIdentifier":"7b9471e0-e5ce-321f-6aa6-54178e4576b5"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b10687-0199-1000-5950-e97203e736d7","instanceIdentifier":"d2a15e76-aff4-33fc-dca0-9c8ffb703a67","name":"","source":{"id":"70b10682-0199-1000-d0fb-cb7ab61e37bd","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"1fbe7ddf-4d40-3caf-3cc9-75f66c426ec7"},"destination":{"id":"70b1067e-0199-1000-12fd-10b85704a775","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"ReplaceText","comments":"","instanceIdentifier":"5455642f-9294-31ee-788e-8506597edf40"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b10689-0199-1000-4608-5e8dd97ce6bc","instanceIdentifier":"97d96535-ab8a-3e87-536b-5c69edf98c68","name":"","source":{"id":"70b10680-0199-1000-687e-fa24c8ab5c09","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"InvokeHTTP","comments":"","instanceIdentifier":"7b9471e0-e5ce-321f-6aa6-54178e4576b5"},"destination":{"id":"70b1067f-0199-1000-3e77-6d9a8ab606bf","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"ff98ae98-ec5d-3374-3fab-ef698b65328b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"},{"identifier":"70b1068e-0199-1000-4a2b-f432ddff5b0e","instanceIdentifier":"c14e34d0-3f38-33e4-62d9-47e079ccba3d","name":"","source":{"id":"70b1067f-0199-1000-3e77-6d9a8ab606bf","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"ff98ae98-ec5d-3374-3fab-ef698b65328b"},"destination":{"id":"70b10681-0199-1000-b93d-35a93a96ef91","type":"PROCESSOR","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"RouteOnAttribute","comments":"","instanceIdentifier":"8f726379-8539-3c2a-78af-6433f7b8cce9"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1067c-0199-1000-0142-2cb5be7d3ada"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b10670-0199-1000-ef2c-f2e406504ab8","instanceIdentifier":"7b32fe00-255f-3d6e-045d-80e2eedefb71","name":"route-messages","comments":"","position":{"x":-1640.0,"y":80.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10672-0199-1000-3a1f-55c2ac695daf","instanceIdentifier":"6ab8e461-edfc-3167-61f3-72fe487becc7","name":"RouteOnAttribute","comments":"","position":{"x":-288.0,"y":224.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Routing Strategy":"Route to Property name","callback":"${telegram.event_type:equals(\"callback\")}","message":"${telegram.event_type:equals('message')}","command":"${telegram.event_type:equals(\"command\")}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"callback":{"name":"callback","displayName":"callback","identifiesControllerService":false,"sensitive":false,"dynamic":true},"message":{"name":"message","displayName":"message","identifiesControllerService":false,"sensitive":false,"dynamic":true},"command":{"name":"command","displayName":"command","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"},{"identifier":"70b10671-0199-1000-ef07-6b140b5e1b68","instanceIdentifier":"5b7e8bb2-bc3d-345e-d9aa-99edbd6a8330","name":"ExecuteScript","comments":"","position":{"x":-288.0,"y":-16.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def content = session.read(flowFile).getText('UTF-8')\n    def update = new JsonSlurper().parseText(content)\n    \n    //   \n    def eventType = update.callback_query ? \"callback\" : \n                    update.message?.text?.startsWith('/') ? \"command\" : \n                    \"message\"\n    \n    def messageData = update.callback_query?.data ?: update.message?.text ?: \"\"\n    def chatId = update.message?.chat?.id ?: update.callback_query?.message?.chat?.id ?: \"\"\n    def userId = update.message?.from?.id ?: update.callback_query?.from?.id ?: \"\"\n    def messageId = update.message?.message_id ?: update.callback_query?.message?.message_id ?: \"\"\n\n    //    \n    flowFile = session.putAllAttributes(flowFile, [\n        'telegram.event_type': eventType,\n        'telegram.message_data': messageData,\n        'telegram.chat_id': chatId.toString(),\n        'telegram.user_id': userId.toString(),\n        'telegram.message_id': messageId.toString(),\n        'telegram.raw_update': content //     \n    ])\n    \n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (e) {\n    log.error(\"  Telegram update: \" + e, e)\n    flowFile = session.putAttribute(flowFile, 'error.message', e.message)\n    session.transfer(flowFile, REL_FAILURE)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"}],"inputPorts":[{"identifier":"70b10673-0199-1000-b3ad-2f5bbb0be857","instanceIdentifier":"8ac0f9cd-44e2-39b1-d0e7-561fa3d89791","name":"input","position":{"x":-232.0,"y":-240.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"}],"outputPorts":[{"identifier":"70b10675-0199-1000-c25f-04040a1aa72d","instanceIdentifier":"37e095ee-f723-3887-48bb-591ea2028f6a","name":"callback","position":{"x":-232.0,"y":536.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"},{"identifier":"70b10674-0199-1000-24c3-1584716844de","instanceIdentifier":"b9cca630-3c32-35ce-c272-8bbd81d06064","name":"command","position":{"x":-752.0,"y":536.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"},{"identifier":"70b10676-0199-1000-7c1a-ca47cef1deb0","instanceIdentifier":"850f5c0b-8a8a-3b17-3e06-e7c41a627ccd","name":"message","position":{"x":280.0,"y":536.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"}],"connections":[{"identifier":"70b10677-0199-1000-0d22-edcca7318422","instanceIdentifier":"dc397458-8394-3319-bbb0-23948adce987","name":"","source":{"id":"70b10672-0199-1000-3a1f-55c2ac695daf","type":"PROCESSOR","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"RouteOnAttribute","comments":"","instanceIdentifier":"6ab8e461-edfc-3167-61f3-72fe487becc7"},"destination":{"id":"70b10675-0199-1000-c25f-04040a1aa72d","type":"OUTPUT_PORT","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"callback","instanceIdentifier":"37e095ee-f723-3887-48bb-591ea2028f6a"},"labelIndex":0,"zIndex":0,"selectedRelationships":["callback"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"},{"identifier":"70b1067a-0199-1000-a0b5-751d3f2bb275","instanceIdentifier":"9597fb31-81a9-3253-d514-6ecb044a26ae","name":"","source":{"id":"70b10672-0199-1000-3a1f-55c2ac695daf","type":"PROCESSOR","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"RouteOnAttribute","comments":"","instanceIdentifier":"6ab8e461-edfc-3167-61f3-72fe487becc7"},"destination":{"id":"70b10676-0199-1000-7c1a-ca47cef1deb0","type":"OUTPUT_PORT","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"message","instanceIdentifier":"850f5c0b-8a8a-3b17-3e06-e7c41a627ccd"},"labelIndex":0,"zIndex":0,"selectedRelationships":["message"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"},{"identifier":"70b1067b-0199-1000-e2d2-a6d9c22fcf13","instanceIdentifier":"9c2e5aff-521c-32ef-ecaa-aa2f131a7bc2","name":"","source":{"id":"70b10672-0199-1000-3a1f-55c2ac695daf","type":"PROCESSOR","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"RouteOnAttribute","comments":"","instanceIdentifier":"6ab8e461-edfc-3167-61f3-72fe487becc7"},"destination":{"id":"70b10674-0199-1000-24c3-1584716844de","type":"OUTPUT_PORT","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"command","instanceIdentifier":"b9cca630-3c32-35ce-c272-8bbd81d06064"},"labelIndex":0,"zIndex":0,"selectedRelationships":["command"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"},{"identifier":"70b10679-0199-1000-1869-2f8947fd1234","instanceIdentifier":"efdeaec3-d88a-3dbf-8d26-126a9d939c63","name":"","source":{"id":"70b10671-0199-1000-ef07-6b140b5e1b68","type":"PROCESSOR","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"ExecuteScript","comments":"","instanceIdentifier":"5b7e8bb2-bc3d-345e-d9aa-99edbd6a8330"},"destination":{"id":"70b10672-0199-1000-3a1f-55c2ac695daf","type":"PROCESSOR","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"RouteOnAttribute","comments":"","instanceIdentifier":"6ab8e461-edfc-3167-61f3-72fe487becc7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"},{"identifier":"70b10678-0199-1000-0db9-14b86d15c14e","instanceIdentifier":"a64de77c-1022-3ebb-09fa-35e42e7d93ee","name":"","source":{"id":"70b10673-0199-1000-b3ad-2f5bbb0be857","type":"INPUT_PORT","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"input","instanceIdentifier":"8ac0f9cd-44e2-39b1-d0e7-561fa3d89791"},"destination":{"id":"70b10671-0199-1000-ef07-6b140b5e1b68","type":"PROCESSOR","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"ExecuteScript","comments":"","instanceIdentifier":"5b7e8bb2-bc3d-345e-d9aa-99edbd6a8330"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10670-0199-1000-ef2c-f2e406504ab8"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b10698-0199-1000-7603-71cf70a82299","instanceIdentifier":"90268833-e27f-356e-aba2-ade3a3482149","name":"Query-Chat-Cycle","comments":"","position":{"x":-1632.0,"y":-200.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b1069a-0199-1000-2898-72adcadbc7e0","instanceIdentifier":"f8eb5d34-6d6b-3797-0b35-9fc41f3f0356","name":"EvaluateJsonPath","comments":"","position":{"x":111.9999432922632,"y":-63.999984794332704},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"update_id":"$.update_id","Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","Path Not Found Behavior":"ignore","chat_id":"$.callback_query.message.chat.id"},"propertyDescriptors":{"update_id":{"name":"update_id","displayName":"update_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"chat_id":{"name":"chat_id","displayName":"chat_id","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b1069b-0199-1000-dd52-1ff3839b72a9","instanceIdentifier":"f3b94d34-a5b6-3f1f-c680-ee03921d6469","name":"UpdateAttribute","comments":"","position":{"x":807.9999432922632,"y":-63.999984794332704},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Delete Attributes Expression":null,"offset":"${update_id:plus(1)}","Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"offset":{"name":"offset","displayName":"offset","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b10699-0199-1000-0bbf-2e89956e1aed","instanceIdentifier":"62e7c740-5d0e-3905-6b5d-2a8e2418cebf","name":"SplitJson","comments":"","position":{"x":-536.0000567077368,"y":-63.999984794332704},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.result.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b1069c-0199-1000-5d12-57c69b50794c","instanceIdentifier":"c287a2b0-c408-356b-9e95-9248dd70a675","name":"InvokeHTTP","comments":"","position":{"x":-1160.0000567077368,"y":-63.999984794332704},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"https://api.telegram.org/bot${telegrambot_token}/getUpdates?offset=${offset}","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"}],"inputPorts":[{"identifier":"70b1069d-0199-1000-57d1-e97a4635fd84","instanceIdentifier":"867d6ccc-8993-38c8-f9fa-308b1c6faddf","name":"input","position":{"x":-1104.0,"y":-248.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"}],"outputPorts":[{"identifier":"70b1069e-0199-1000-017b-0069479cf16f","instanceIdentifier":"ab15b172-0b09-3a4d-44cf-340aa4e2940d","name":"output","position":{"x":864.0,"y":480.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"}],"connections":[{"identifier":"70b106a3-0199-1000-d5c0-9942375ef835","instanceIdentifier":"363af53a-73d9-39a8-1f8d-42ba829f8f19","name":"","source":{"id":"70b106a0-0199-1000-9aba-48eca5eb3d85","type":"FUNNEL","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"Funnel","comments":"","instanceIdentifier":"da251fad-4234-3e25-2f2c-c732e3f014bb"},"destination":{"id":"70b1069f-0199-1000-98d0-59ded25aa2f7","type":"FUNNEL","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"Funnel","comments":"","instanceIdentifier":"4bb8822b-eeca-3194-a705-2d75ff752de4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b106a4-0199-1000-d0de-ecab7a5b21f5","instanceIdentifier":"c1feaa11-2609-3407-3310-a3d416a02e74","name":"","source":{"id":"70b1069c-0199-1000-5d12-57c69b50794c","type":"PROCESSOR","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"InvokeHTTP","comments":"","instanceIdentifier":"c287a2b0-c408-356b-9e95-9248dd70a675"},"destination":{"id":"70b10699-0199-1000-0bbf-2e89956e1aed","type":"PROCESSOR","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"SplitJson","comments":"","instanceIdentifier":"62e7c740-5d0e-3905-6b5d-2a8e2418cebf"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b106a2-0199-1000-d84c-46a953ace479","instanceIdentifier":"41c6fa84-9fdb-3e53-b703-cc04e258ee21","name":"","source":{"id":"70b106a0-0199-1000-9aba-48eca5eb3d85","type":"FUNNEL","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"Funnel","comments":"","instanceIdentifier":"da251fad-4234-3e25-2f2c-c732e3f014bb"},"destination":{"id":"70b1069e-0199-1000-017b-0069479cf16f","type":"OUTPUT_PORT","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"output","instanceIdentifier":"ab15b172-0b09-3a4d-44cf-340aa4e2940d"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b106a8-0199-1000-aee9-a4ccdaa95136","instanceIdentifier":"1d2171e4-8126-36e6-1472-d699a98a96c5","name":"","source":{"id":"70b1069d-0199-1000-57d1-e97a4635fd84","type":"INPUT_PORT","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"input","instanceIdentifier":"867d6ccc-8993-38c8-f9fa-308b1c6faddf"},"destination":{"id":"70b1069c-0199-1000-5d12-57c69b50794c","type":"PROCESSOR","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"InvokeHTTP","comments":"","instanceIdentifier":"c287a2b0-c408-356b-9e95-9248dd70a675"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b106a6-0199-1000-1541-d4266d2f72e4","instanceIdentifier":"df6e66a9-17be-377e-face-62fc8c46f827","name":"","source":{"id":"70b1069b-0199-1000-dd52-1ff3839b72a9","type":"PROCESSOR","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"UpdateAttribute","comments":"","instanceIdentifier":"f3b94d34-a5b6-3f1f-c680-ee03921d6469"},"destination":{"id":"70b106a0-0199-1000-9aba-48eca5eb3d85","type":"FUNNEL","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"Funnel","comments":"","instanceIdentifier":"da251fad-4234-3e25-2f2c-c732e3f014bb"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b106a5-0199-1000-db72-aa48fceebf31","instanceIdentifier":"06dd8f09-9e45-3bba-b320-db8ae753a73a","name":"","source":{"id":"70b1069a-0199-1000-2898-72adcadbc7e0","type":"PROCESSOR","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"f8eb5d34-6d6b-3797-0b35-9fc41f3f0356"},"destination":{"id":"70b1069b-0199-1000-dd52-1ff3839b72a9","type":"PROCESSOR","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"UpdateAttribute","comments":"","instanceIdentifier":"f3b94d34-a5b6-3f1f-c680-ee03921d6469"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b106a1-0199-1000-b618-c62e0bc4d7eb","instanceIdentifier":"d455744f-c6c0-34b0-1f51-af23f4d56f08","name":"","source":{"id":"70b1069f-0199-1000-98d0-59ded25aa2f7","type":"FUNNEL","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"Funnel","comments":"","instanceIdentifier":"4bb8822b-eeca-3194-a705-2d75ff752de4"},"destination":{"id":"70b1069c-0199-1000-5d12-57c69b50794c","type":"PROCESSOR","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"InvokeHTTP","comments":"","instanceIdentifier":"c287a2b0-c408-356b-9e95-9248dd70a675"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b106a7-0199-1000-96b8-c76f85c1f677","instanceIdentifier":"cb25e6b5-f7d5-37bc-c8e1-016d44999ebe","name":"","source":{"id":"70b10699-0199-1000-0bbf-2e89956e1aed","type":"PROCESSOR","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"SplitJson","comments":"","instanceIdentifier":"62e7c740-5d0e-3905-6b5d-2a8e2418cebf"},"destination":{"id":"70b1069a-0199-1000-2898-72adcadbc7e0","type":"PROCESSOR","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"f8eb5d34-6d6b-3797-0b35-9fc41f3f0356"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"}],"labels":[],"funnels":[{"identifier":"70b106a0-0199-1000-9aba-48eca5eb3d85","instanceIdentifier":"da251fad-4234-3e25-2f2c-c732e3f014bb","position":{"x":960.0,"y":256.0},"componentType":"FUNNEL","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"},{"identifier":"70b1069f-0199-1000-98d0-59ded25aa2f7","instanceIdentifier":"4bb8822b-eeca-3194-a705-2d75ff752de4","position":{"x":-1008.0,"y":256.0},"componentType":"FUNNEL","groupIdentifier":"70b10698-0199-1000-7603-71cf70a82299"}],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b1062f-0199-1000-96c0-0538a7615edd","instanceIdentifier":"54432407-d9a1-3891-5d51-c73cde747148","name":"OMS-API","comments":"","position":{"x":-1632.0,"y":1224.0},"processGroups":[{"identifier":"70b10650-0199-1000-b2a0-fe050533887a","instanceIdentifier":"39139da2-0140-3206-877c-d64465883580","name":"payment.creation","comments":"","position":{"x":648.0,"y":160.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10653-0199-1000-58e7-35aa97123e4a","instanceIdentifier":"0814be69-f6ec-302c-ccf6-626fc9cf60ee","name":"ReplaceText","comments":"","position":{"x":-144.0,"y":200.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"order_short_id\":\"${order_id}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10650-0199-1000-b2a0-fe050533887a"},{"identifier":"70b10651-0199-1000-dec9-367b2683a8a0","instanceIdentifier":"5a28ef22-8dac-3c3f-4aa5-62a395795279","name":"InvokeHTTP","comments":"","position":{"x":-144.0,"y":504.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8099/api/proxy/payment/create","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10650-0199-1000-b2a0-fe050533887a"},{"identifier":"70b10652-0199-1000-0d1e-b26f16f6ab23","instanceIdentifier":"e9948e37-ada8-3f99-ee11-cd28cb63b6c3","name":"EvaluateJsonPath","comments":"","position":{"x":-144.0,"y":832.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","status_code":"$.status_code","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_code":{"name":"status_code","displayName":"status_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10650-0199-1000-b2a0-fe050533887a"}],"inputPorts":[{"identifier":"70b10654-0199-1000-d6be-6740d60fdf93","instanceIdentifier":"a93b123a-1980-3ea4-2fbb-8aff54ad5544","name":"input","position":{"x":-88.0,"y":-32.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10650-0199-1000-b2a0-fe050533887a"}],"outputPorts":[{"identifier":"70b10655-0199-1000-34ec-01ccd978d251","instanceIdentifier":"4f62712a-eeb1-320e-eb28-5aad1cca51fc","name":"output","position":{"x":-88.0,"y":1488.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10650-0199-1000-b2a0-fe050533887a"}],"connections":[{"identifier":"70b10656-0199-1000-bc79-c679139636b0","instanceIdentifier":"a66f9e3b-f770-3487-8794-d9a3c795553f","name":"","source":{"id":"70b10652-0199-1000-0d1e-b26f16f6ab23","type":"PROCESSOR","groupId":"70b10650-0199-1000-b2a0-fe050533887a","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"e9948e37-ada8-3f99-ee11-cd28cb63b6c3"},"destination":{"id":"70b10655-0199-1000-34ec-01ccd978d251","type":"OUTPUT_PORT","groupId":"70b10650-0199-1000-b2a0-fe050533887a","name":"output","instanceIdentifier":"4f62712a-eeb1-320e-eb28-5aad1cca51fc"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10650-0199-1000-b2a0-fe050533887a"},{"identifier":"70b10658-0199-1000-9b6f-fcba08556d95","instanceIdentifier":"1b066479-5e33-3860-7971-fa25ad572ecd","name":"","source":{"id":"70b10654-0199-1000-d6be-6740d60fdf93","type":"INPUT_PORT","groupId":"70b10650-0199-1000-b2a0-fe050533887a","name":"input","instanceIdentifier":"a93b123a-1980-3ea4-2fbb-8aff54ad5544"},"destination":{"id":"70b10653-0199-1000-58e7-35aa97123e4a","type":"PROCESSOR","groupId":"70b10650-0199-1000-b2a0-fe050533887a","name":"ReplaceText","comments":"","instanceIdentifier":"0814be69-f6ec-302c-ccf6-626fc9cf60ee"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10650-0199-1000-b2a0-fe050533887a"},{"identifier":"70b10659-0199-1000-6dad-86dc350f39f3","instanceIdentifier":"9f98eaca-19f1-36b6-f7ea-b69ab4316c2b","name":"","source":{"id":"70b10651-0199-1000-dec9-367b2683a8a0","type":"PROCESSOR","groupId":"70b10650-0199-1000-b2a0-fe050533887a","name":"InvokeHTTP","comments":"","instanceIdentifier":"5a28ef22-8dac-3c3f-4aa5-62a395795279"},"destination":{"id":"70b10652-0199-1000-0d1e-b26f16f6ab23","type":"PROCESSOR","groupId":"70b10650-0199-1000-b2a0-fe050533887a","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"e9948e37-ada8-3f99-ee11-cd28cb63b6c3"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10650-0199-1000-b2a0-fe050533887a"},{"identifier":"70b10657-0199-1000-b7fc-8798a4d611b3","instanceIdentifier":"8f92f1b2-bd31-3eb1-d1a2-beaf69a58539","name":"","source":{"id":"70b10653-0199-1000-58e7-35aa97123e4a","type":"PROCESSOR","groupId":"70b10650-0199-1000-b2a0-fe050533887a","name":"ReplaceText","comments":"","instanceIdentifier":"0814be69-f6ec-302c-ccf6-626fc9cf60ee"},"destination":{"id":"70b10651-0199-1000-dec9-367b2683a8a0","type":"PROCESSOR","groupId":"70b10650-0199-1000-b2a0-fe050533887a","name":"InvokeHTTP","comments":"","instanceIdentifier":"5a28ef22-8dac-3c3f-4aa5-62a395795279"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10650-0199-1000-b2a0-fe050533887a"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b10634-0199-1000-c40f-7724ba5b0eb8","instanceIdentifier":"711ba540-9391-308b-e31a-3d68fa6e2e15","name":"payment.confirmation","comments":"","position":{"x":-880.0,"y":136.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10638-0199-1000-45fe-7d2573390372","instanceIdentifier":"8ede6abb-b647-39dd-268b-2dbc5c069ba3","name":"EvaluateJsonPath","comments":"","position":{"x":-144.0,"y":832.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","status_code":"$.status_code","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_code":{"name":"status_code","displayName":"status_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"},{"identifier":"70b10635-0199-1000-8fbb-303841f37498","instanceIdentifier":"462bf21d-39ef-3715-7be1-529322374fa1","name":"ReplaceText","comments":"","position":{"x":-144.0,"y":200.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"order_short_id\":\"${order_id}\",\n\t\"confirmation_code\":\"${confirmation_code}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"},{"identifier":"70b10636-0199-1000-0b1c-c924b1534308","instanceIdentifier":"922264a0-ab41-3f34-6e8f-30fc19d791b1","name":"InvokeHTTP","comments":"","position":{"x":-144.0,"y":504.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8099/api/proxy/payment/async/confirm/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"},{"identifier":"70b10637-0199-1000-8425-91d70d7e592a","instanceIdentifier":"6f513cb7-2e0a-3c8d-1ef8-c8f70ff8ff91","name":"ReplaceText","comments":"","position":{"x":-144.0,"y":1144.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"chat_id\": \"${telegram.chat_id}\",\n  \"text\": \" * \\\\!*\\n\\n* :* `${order_short_id}`\\n*:* ${loyalty_card}\\n*:* ${store_code}\\n*:*  \\n*  :* ${appointment}\\n*:* ${order_status}\",\n  \"parse_mode\": \"MarkdownV2\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"}],"inputPorts":[{"identifier":"70b10639-0199-1000-fbe0-39581fcfafcd","instanceIdentifier":"7e385f25-4892-389d-a0d4-9b44324b4437","name":"input","position":{"x":-88.0,"y":-32.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"}],"outputPorts":[{"identifier":"70b1063a-0199-1000-6cd5-96049e256b08","instanceIdentifier":"5b05225b-cd55-3ad1-03d0-63751b101440","name":"output","position":{"x":-88.0,"y":1488.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"}],"connections":[{"identifier":"70b1063b-0199-1000-3e06-830150fc0078","instanceIdentifier":"b7a86e60-d504-3341-4ccc-f7ead2ea4da8","name":"","source":{"id":"70b10638-0199-1000-45fe-7d2573390372","type":"PROCESSOR","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8ede6abb-b647-39dd-268b-2dbc5c069ba3"},"destination":{"id":"70b10637-0199-1000-8425-91d70d7e592a","type":"PROCESSOR","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"ReplaceText","comments":"","instanceIdentifier":"6f513cb7-2e0a-3c8d-1ef8-c8f70ff8ff91"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"},{"identifier":"70b1063d-0199-1000-aa25-c193d7722fb3","instanceIdentifier":"0be92dfa-4690-3252-d5a7-900f2a09e611","name":"","source":{"id":"70b10636-0199-1000-0b1c-c924b1534308","type":"PROCESSOR","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"InvokeHTTP","comments":"","instanceIdentifier":"922264a0-ab41-3f34-6e8f-30fc19d791b1"},"destination":{"id":"70b10638-0199-1000-45fe-7d2573390372","type":"PROCESSOR","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"8ede6abb-b647-39dd-268b-2dbc5c069ba3"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"},{"identifier":"70b1063f-0199-1000-6ae2-b80f9a17264d","instanceIdentifier":"c565bf0b-2b7f-3c2d-cb85-ce90d4399d20","name":"","source":{"id":"70b10639-0199-1000-fbe0-39581fcfafcd","type":"INPUT_PORT","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"input","instanceIdentifier":"7e385f25-4892-389d-a0d4-9b44324b4437"},"destination":{"id":"70b10635-0199-1000-8fbb-303841f37498","type":"PROCESSOR","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"ReplaceText","comments":"","instanceIdentifier":"462bf21d-39ef-3715-7be1-529322374fa1"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"},{"identifier":"70b1063c-0199-1000-7424-23d21e3ed3fc","instanceIdentifier":"097f50dd-578f-355d-52a9-8c0b82067b3e","name":"","source":{"id":"70b10637-0199-1000-8425-91d70d7e592a","type":"PROCESSOR","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"ReplaceText","comments":"","instanceIdentifier":"6f513cb7-2e0a-3c8d-1ef8-c8f70ff8ff91"},"destination":{"id":"70b1063a-0199-1000-6cd5-96049e256b08","type":"OUTPUT_PORT","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"output","instanceIdentifier":"5b05225b-cd55-3ad1-03d0-63751b101440"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"},{"identifier":"70b1063e-0199-1000-ad49-05ab88e86153","instanceIdentifier":"336fa723-3f97-342d-b0ce-45f2bb32897b","name":"","source":{"id":"70b10635-0199-1000-8fbb-303841f37498","type":"PROCESSOR","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"ReplaceText","comments":"","instanceIdentifier":"462bf21d-39ef-3715-7be1-529322374fa1"},"destination":{"id":"70b10636-0199-1000-0b1c-c924b1534308","type":"PROCESSOR","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"InvokeHTTP","comments":"","instanceIdentifier":"922264a0-ab41-3f34-6e8f-30fc19d791b1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10634-0199-1000-c40f-7724ba5b0eb8"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b10640-0199-1000-571e-e879f50f6d72","instanceIdentifier":"483b7bef-e916-3d2e-18bb-7be9a33cfeab","name":"order.creation","comments":"","position":{"x":112.0,"y":168.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b10642-0199-1000-8b30-e5b37d87f464","instanceIdentifier":"ef31ec75-0c17-3b67-5d37-e868eaa95601","name":"InvokeHTTP","comments":"","position":{"x":-200.0,"y":408.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8099/api/proxy/order/create","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10640-0199-1000-571e-e879f50f6d72"},{"identifier":"70b10641-0199-1000-9c2c-a2c392ae2469","instanceIdentifier":"c43f1211-f0a8-3640-be93-68de743d9650","name":"ReplaceText","comments":"","position":{"x":-200.0,"y":152.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"seller_id\": \"${telegram.chat_id}\",\n    \"loyalty_card\": \"${loyalty_card}\",\n    \"appointment\": \"${appointment_date}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10640-0199-1000-571e-e879f50f6d72"},{"identifier":"70b10643-0199-1000-dec0-e59727e72c0c","instanceIdentifier":"0796faea-d5dd-334a-2ce3-898dcd07847c","name":"EvaluateJsonPath","comments":"","position":{"x":-200.0,"y":648.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"store_code":"$.store_code","Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","loyalty_card":"$.loyalty_card","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"store_code":{"name":"store_code","displayName":"store_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"loyalty_card":{"name":"loyalty_card","displayName":"loyalty_card","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10640-0199-1000-571e-e879f50f6d72"}],"inputPorts":[{"identifier":"70b10644-0199-1000-bfaa-bcf40e75970f","instanceIdentifier":"10630e79-8f95-3e05-b754-ed1d4a5486dc","name":"input","position":{"x":-144.0,"y":-40.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b10640-0199-1000-571e-e879f50f6d72"}],"outputPorts":[{"identifier":"70b10645-0199-1000-4b1d-01bb0af0fc8d","instanceIdentifier":"d38aef2f-6054-31e1-7c92-f3e5055c7bb2","name":"output","position":{"x":-144.0,"y":1040.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b10640-0199-1000-571e-e879f50f6d72"}],"connections":[{"identifier":"70b1064d-0199-1000-5d89-430d0349acfa","instanceIdentifier":"9536a311-a955-3855-51ba-d446a5fc8f45","name":"","source":{"id":"70b10641-0199-1000-9c2c-a2c392ae2469","type":"PROCESSOR","groupId":"70b10640-0199-1000-571e-e879f50f6d72","name":"ReplaceText","comments":"","instanceIdentifier":"c43f1211-f0a8-3640-be93-68de743d9650"},"destination":{"id":"70b10642-0199-1000-8b30-e5b37d87f464","type":"PROCESSOR","groupId":"70b10640-0199-1000-571e-e879f50f6d72","name":"InvokeHTTP","comments":"","instanceIdentifier":"ef31ec75-0c17-3b67-5d37-e868eaa95601"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10640-0199-1000-571e-e879f50f6d72"},{"identifier":"70b1064c-0199-1000-2160-4b9eb2a158b6","instanceIdentifier":"5a81de2b-15e4-3356-97e3-b18b2e8757be","name":"","source":{"id":"70b10642-0199-1000-8b30-e5b37d87f464","type":"PROCESSOR","groupId":"70b10640-0199-1000-571e-e879f50f6d72","name":"InvokeHTTP","comments":"","instanceIdentifier":"ef31ec75-0c17-3b67-5d37-e868eaa95601"},"destination":{"id":"70b10643-0199-1000-dec0-e59727e72c0c","type":"PROCESSOR","groupId":"70b10640-0199-1000-571e-e879f50f6d72","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"0796faea-d5dd-334a-2ce3-898dcd07847c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10640-0199-1000-571e-e879f50f6d72"},{"identifier":"70b1064e-0199-1000-163d-60c05cf37b0a","instanceIdentifier":"c2fdcaaf-3e27-37e1-0e65-58b6a244acee","name":"","source":{"id":"70b10644-0199-1000-bfaa-bcf40e75970f","type":"INPUT_PORT","groupId":"70b10640-0199-1000-571e-e879f50f6d72","name":"input","instanceIdentifier":"10630e79-8f95-3e05-b754-ed1d4a5486dc"},"destination":{"id":"70b10641-0199-1000-9c2c-a2c392ae2469","type":"PROCESSOR","groupId":"70b10640-0199-1000-571e-e879f50f6d72","name":"ReplaceText","comments":"","instanceIdentifier":"c43f1211-f0a8-3640-be93-68de743d9650"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10640-0199-1000-571e-e879f50f6d72"},{"identifier":"70b10649-0199-1000-4452-3927a485342d","instanceIdentifier":"403bc774-9ed0-37a1-8be5-d58ef5d8c1b5","name":"","source":{"id":"70b10643-0199-1000-dec0-e59727e72c0c","type":"PROCESSOR","groupId":"70b10640-0199-1000-571e-e879f50f6d72","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"0796faea-d5dd-334a-2ce3-898dcd07847c"},"destination":{"id":"70b10645-0199-1000-4b1d-01bb0af0fc8d","type":"OUTPUT_PORT","groupId":"70b10640-0199-1000-571e-e879f50f6d72","name":"output","instanceIdentifier":"d38aef2f-6054-31e1-7c92-f3e5055c7bb2"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10640-0199-1000-571e-e879f50f6d72"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b1065a-0199-1000-83c0-0ce415cfbe83","instanceIdentifier":"d9ee59ff-acaf-3b6d-af39-e7b0e4cfad9f","name":"order.search","comments":"","position":{"x":-232.0,"y":856.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b1065d-0199-1000-fd42-7c5742adc064","instanceIdentifier":"08cc58d9-0bbc-3fda-e7d4-8f62e785bb77","name":"EvaluateJsonPath","comments":"","position":{"x":-224.0,"y":672.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"store_code":"$.store_code","Destination":"flowfile-attribute","order_status":"$.order_status","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","loyalty_card":"$.loyalty_card","order_created_at":"$.order_created_at","commentary":"$.commentary","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"store_code":{"name":"store_code","displayName":"store_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_status":{"name":"order_status","displayName":"order_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"loyalty_card":{"name":"loyalty_card","displayName":"loyalty_card","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_created_at":{"name":"order_created_at","displayName":"order_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true},"commentary":{"name":"commentary","displayName":"commentary","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"},{"identifier":"70b1065b-0199-1000-b6f7-e6780d5de71b","instanceIdentifier":"d10c238e-1692-31c2-575e-a712d000dbe1","name":"ExecuteScript","comments":"","position":{"x":-224.0,"y":904.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def chatId = flowFile.getAttribute('telegram.chat_id')\n    def orderId = flowFile.getAttribute('order_short_id')\n    def loyaltyCard = flowFile.getAttribute('loyalty_card')\n    def storeCode = flowFile.getAttribute('store_code') \n    def appointment = flowFile.getAttribute('commentary')\n    //def orderStatus = flowFile.getAttribute('order_status')\n\tdef orderStatus = \" \"\n    \n    //  \n    def escapeMd = { text -> \n        if (!text) return \"\"\n        text.replaceAll(/[_*\\[\\]()~`>#+\\-=|{}.!-]/) { \"\\\\\" + it }\n    }\n    \n    //    StringBuilder\n    def messageBuilder = new StringBuilder()\n    messageBuilder.append(\" *\\\\!*\\n\\n\")\n    messageBuilder.append(\"* :* `\").append(escapeMd(orderId)).append(\"`\\n\")\n    messageBuilder.append(\"*:* `\").append(escapeMd(loyaltyCard)).append(\"`\\n\")\n    messageBuilder.append(\"*:* `\").append(escapeMd(storeCode)).append(\"`\\n\")\n    messageBuilder.append(\"*:* ` `\\n\")\n    messageBuilder.append(\"*  :* `\").append(escapeMd(appointment)).append(\"`\\n\")\n    messageBuilder.append(\"*:* `\").append(escapeMd(orderStatus)).append(\"`\")\n    \n    def telegramRequest = [\n        \"chat_id\": chatId,\n        \"text\": messageBuilder.toString(),\n        \"parse_mode\": \"MarkdownV2\"\n    ]\n    \n    def jsonOutput = JsonOutput.toJson(telegramRequest)\n    \n    flowFile = session.write(flowFile, { inputStream, outputStream ->\n        outputStream.write(jsonOutput.getBytes('UTF-8'))\n    } as org.apache.nifi.processor.io.StreamCallback)\n    \n    flowFile = session.putAttribute(flowFile, 'mime.type', 'application/json')\n    flowFile = session.putAttribute(flowFile, 'telegram.endpoint', 'sendMessage')\n    \n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (Exception e) {\n    log.error(\"Order format error: ${e.message}\")\n    session.transfer(flowFile, REL_FAILURE)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"},{"identifier":"70b1065e-0199-1000-ceec-cc129b169c56","instanceIdentifier":"0b8e31fe-723c-3092-477a-b27734926e50","name":"InvokeHTTP","comments":"","position":{"x":-224.0,"y":440.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"http://10.160.20.73:8089/api/order/search","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"},{"identifier":"70b1065c-0199-1000-5c6b-3e48c9399446","instanceIdentifier":"a35de30a-7d8e-3471-7b88-516a849123db","name":"ReplaceText","comments":"","position":{"x":-224.0,"y":184.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\": \"${order_short_id}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"}],"inputPorts":[{"identifier":"70b1065f-0199-1000-377f-724402241442","instanceIdentifier":"d8ea9df3-6192-3064-76ec-08a0a1042c95","name":"input","position":{"x":-168.0,"y":-24.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"}],"outputPorts":[{"identifier":"70b10660-0199-1000-68de-a4a0ab32e653","instanceIdentifier":"c6e29672-af02-3e10-8802-4e35a87806a0","name":"output","position":{"x":-168.0,"y":1160.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"}],"connections":[{"identifier":"70b10665-0199-1000-e78b-ad429d0813a8","instanceIdentifier":"40ce5d68-da79-3239-d8c6-90ca1a617c9e","name":"","source":{"id":"70b1065c-0199-1000-5c6b-3e48c9399446","type":"PROCESSOR","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"ReplaceText","comments":"","instanceIdentifier":"a35de30a-7d8e-3471-7b88-516a849123db"},"destination":{"id":"70b1065e-0199-1000-ceec-cc129b169c56","type":"PROCESSOR","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"InvokeHTTP","comments":"","instanceIdentifier":"0b8e31fe-723c-3092-477a-b27734926e50"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"},{"identifier":"70b10664-0199-1000-bd85-f2fb803a3edc","instanceIdentifier":"e78fb51f-3258-3505-13af-c2a0e734f6b5","name":"","source":{"id":"70b1065e-0199-1000-ceec-cc129b169c56","type":"PROCESSOR","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"InvokeHTTP","comments":"","instanceIdentifier":"0b8e31fe-723c-3092-477a-b27734926e50"},"destination":{"id":"70b1065d-0199-1000-fd42-7c5742adc064","type":"PROCESSOR","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"08cc58d9-0bbc-3fda-e7d4-8f62e785bb77"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"},{"identifier":"70b10662-0199-1000-34e8-3e86433a1968","instanceIdentifier":"df66672f-c08c-3494-4cd8-e5c770935bd7","name":"","source":{"id":"70b1065b-0199-1000-b6f7-e6780d5de71b","type":"PROCESSOR","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"ExecuteScript","comments":"","instanceIdentifier":"d10c238e-1692-31c2-575e-a712d000dbe1"},"destination":{"id":"70b10660-0199-1000-68de-a4a0ab32e653","type":"OUTPUT_PORT","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"output","instanceIdentifier":"c6e29672-af02-3e10-8802-4e35a87806a0"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"},{"identifier":"70b10663-0199-1000-0a55-bd681e80a4e6","instanceIdentifier":"ea54bced-ccba-3152-3047-bf1961422a3f","name":"","source":{"id":"70b1065d-0199-1000-fd42-7c5742adc064","type":"PROCESSOR","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"08cc58d9-0bbc-3fda-e7d4-8f62e785bb77"},"destination":{"id":"70b1065b-0199-1000-b6f7-e6780d5de71b","type":"PROCESSOR","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"ExecuteScript","comments":"","instanceIdentifier":"d10c238e-1692-31c2-575e-a712d000dbe1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"},{"identifier":"70b10661-0199-1000-4ecc-86423ed8a06e","instanceIdentifier":"e60d2668-2730-31ee-8e8b-25974d6b3047","name":"","source":{"id":"70b1065f-0199-1000-377f-724402241442","type":"INPUT_PORT","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"input","instanceIdentifier":"d8ea9df3-6192-3064-76ec-08a0a1042c95"},"destination":{"id":"70b1065c-0199-1000-5c6b-3e48c9399446","type":"PROCESSOR","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"ReplaceText","comments":"","instanceIdentifier":"a35de30a-7d8e-3471-7b88-516a849123db"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1065a-0199-1000-83c0-0ce415cfbe83"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"}],"remoteProcessGroups":[],"processors":[{"identifier":"70b10630-0199-1000-2b72-43d497feca07","instanceIdentifier":"c7d9d448-a91a-334e-2e5c-eee2b2af442e","name":"RouteOnAttribute","comments":"","position":{"x":-216.0,"y":-48.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Routing Strategy":"Route to Property name","order.search":"${action:equals(\"order_search\")}","payment.creation":"${action:equals(\"payment_creation\")}","order.creation":"${action:equals(\"order_creation\")}","payment.confirmation":"${action:equals(\"payment_confirmation\")}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order.search":{"name":"order.search","displayName":"order.search","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.creation":{"name":"payment.creation","displayName":"payment.creation","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order.creation":{"name":"order.creation","displayName":"order.creation","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment.confirmation":{"name":"payment.confirmation","displayName":"payment.confirmation","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"}],"inputPorts":[{"identifier":"70b10631-0199-1000-06d0-4b54a42125f3","instanceIdentifier":"f7683f4e-0883-3f83-079f-1de1be919c29","name":"input","position":{"x":-160.0,"y":-232.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"}],"outputPorts":[{"identifier":"70b10632-0199-1000-d095-4ab0c8f610d2","instanceIdentifier":"847205af-1482-34c5-ba47-9b3f37c8ba2a","name":"output","position":{"x":-160.0,"y":1360.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"}],"connections":[{"identifier":"70b1066c-0199-1000-55c4-dcc47cae8cc6","instanceIdentifier":"a7e17277-9a49-3aea-9289-90b563a26590","name":"","source":{"id":"70b10633-0199-1000-4392-1a09ad3d1763","type":"FUNNEL","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"Funnel","comments":"","instanceIdentifier":"98459324-9458-3d99-b553-ae5311645fb4"},"destination":{"id":"70b1065f-0199-1000-377f-724402241442","type":"INPUT_PORT","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"input","instanceIdentifier":"d8ea9df3-6192-3064-76ec-08a0a1042c95"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b1066e-0199-1000-891f-ee851db5003c","instanceIdentifier":"36db21f1-a1e9-3c54-b8c6-04b06fe9021b","name":"","source":{"id":"70b10630-0199-1000-2b72-43d497feca07","type":"PROCESSOR","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"RouteOnAttribute","comments":"","instanceIdentifier":"c7d9d448-a91a-334e-2e5c-eee2b2af442e"},"destination":{"id":"70b10633-0199-1000-4392-1a09ad3d1763","type":"FUNNEL","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"Funnel","comments":"","instanceIdentifier":"98459324-9458-3d99-b553-ae5311645fb4"},"labelIndex":0,"zIndex":0,"selectedRelationships":["order.search"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b1066b-0199-1000-d5cf-579dfdc51fbf","instanceIdentifier":"18eb9d4e-4175-376e-5bb6-59c4a7d85b43","name":"","source":{"id":"70b10645-0199-1000-4b1d-01bb0af0fc8d","type":"OUTPUT_PORT","groupId":"70b10640-0199-1000-571e-e879f50f6d72","name":"output","instanceIdentifier":"d38aef2f-6054-31e1-7c92-f3e5055c7bb2"},"destination":{"id":"70b10633-0199-1000-4392-1a09ad3d1763","type":"FUNNEL","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"Funnel","comments":"","instanceIdentifier":"98459324-9458-3d99-b553-ae5311645fb4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b1066d-0199-1000-1681-d6df8564f96b","instanceIdentifier":"c16017a0-c924-3d98-3fd7-eb258a6ee2a9","name":"","source":{"id":"70b10660-0199-1000-68de-a4a0ab32e653","type":"OUTPUT_PORT","groupId":"70b1065a-0199-1000-83c0-0ce415cfbe83","name":"output","instanceIdentifier":"c6e29672-af02-3e10-8802-4e35a87806a0"},"destination":{"id":"70b10632-0199-1000-d095-4ab0c8f610d2","type":"OUTPUT_PORT","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"output","instanceIdentifier":"847205af-1482-34c5-ba47-9b3f37c8ba2a"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b10668-0199-1000-a770-ea5f08dccc90","instanceIdentifier":"245d26e2-fe61-3e72-2076-041033d72982","name":"","source":{"id":"70b10655-0199-1000-34ec-01ccd978d251","type":"OUTPUT_PORT","groupId":"70b10650-0199-1000-b2a0-fe050533887a","name":"output","instanceIdentifier":"4f62712a-eeb1-320e-eb28-5aad1cca51fc"},"destination":{"id":"70b10633-0199-1000-4392-1a09ad3d1763","type":"FUNNEL","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"Funnel","comments":"","instanceIdentifier":"98459324-9458-3d99-b553-ae5311645fb4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b1066a-0199-1000-4319-b6d270208c37","instanceIdentifier":"b4f6b857-0d11-30a3-b04b-abca32cab5ad","name":"","source":{"id":"70b1063a-0199-1000-6cd5-96049e256b08","type":"OUTPUT_PORT","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"output","instanceIdentifier":"5b05225b-cd55-3ad1-03d0-63751b101440"},"destination":{"id":"70b10633-0199-1000-4392-1a09ad3d1763","type":"FUNNEL","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"Funnel","comments":"","instanceIdentifier":"98459324-9458-3d99-b553-ae5311645fb4"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b10669-0199-1000-5717-3516d77e6aac","instanceIdentifier":"235d16b9-b658-345d-d3b6-aca257671af3","name":"","source":{"id":"70b10630-0199-1000-2b72-43d497feca07","type":"PROCESSOR","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"RouteOnAttribute","comments":"","instanceIdentifier":"c7d9d448-a91a-334e-2e5c-eee2b2af442e"},"destination":{"id":"70b10639-0199-1000-fbe0-39581fcfafcd","type":"INPUT_PORT","groupId":"70b10634-0199-1000-c40f-7724ba5b0eb8","name":"input","instanceIdentifier":"7e385f25-4892-389d-a0d4-9b44324b4437"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.confirmation"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b1066f-0199-1000-5a59-6864fcd77981","instanceIdentifier":"dcaac184-6af9-367b-9b02-da8570179ef3","name":"","source":{"id":"70b10630-0199-1000-2b72-43d497feca07","type":"PROCESSOR","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"RouteOnAttribute","comments":"","instanceIdentifier":"c7d9d448-a91a-334e-2e5c-eee2b2af442e"},"destination":{"id":"70b10644-0199-1000-bfaa-bcf40e75970f","type":"INPUT_PORT","groupId":"70b10640-0199-1000-571e-e879f50f6d72","name":"input","instanceIdentifier":"10630e79-8f95-3e05-b754-ed1d4a5486dc"},"labelIndex":0,"zIndex":0,"selectedRelationships":["order.creation"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b10667-0199-1000-cd22-bfb82c6eab67","instanceIdentifier":"b5b872f3-bcb5-3ab4-8f18-48db0c602557","name":"","source":{"id":"70b10630-0199-1000-2b72-43d497feca07","type":"PROCESSOR","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"RouteOnAttribute","comments":"","instanceIdentifier":"c7d9d448-a91a-334e-2e5c-eee2b2af442e"},"destination":{"id":"70b10654-0199-1000-d6be-6740d60fdf93","type":"INPUT_PORT","groupId":"70b10650-0199-1000-b2a0-fe050533887a","name":"input","instanceIdentifier":"a93b123a-1980-3ea4-2fbb-8aff54ad5544"},"labelIndex":0,"zIndex":0,"selectedRelationships":["payment.creation"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"},{"identifier":"70b10666-0199-1000-7eb6-00316dbd4425","instanceIdentifier":"512a38b6-50be-390e-c9ff-593854f8239c","name":"","source":{"id":"70b10631-0199-1000-06d0-4b54a42125f3","type":"INPUT_PORT","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"input","instanceIdentifier":"f7683f4e-0883-3f83-079f-1de1be919c29"},"destination":{"id":"70b10630-0199-1000-2b72-43d497feca07","type":"PROCESSOR","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"RouteOnAttribute","comments":"","instanceIdentifier":"c7d9d448-a91a-334e-2e5c-eee2b2af442e"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"}],"labels":[],"funnels":[{"identifier":"70b10633-0199-1000-4392-1a09ad3d1763","instanceIdentifier":"98459324-9458-3d99-b553-ae5311645fb4","position":{"x":-64.0,"y":504.0},"componentType":"FUNNEL","groupIdentifier":"70b1062f-0199-1000-96c0-0538a7615edd"}],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"}],"remoteProcessGroups":[],"processors":[{"identifier":"70b10618-0199-1000-9f20-6365e179a405","instanceIdentifier":"0a1028ad-64e9-3a9c-8c36-7417e5de1962","name":"ExecuteScript","comments":"","position":{"x":-2400.0,"y":104.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def config = new JsonSlurper().parse(new File('/home/unifi/data/loyalty-orders/config.json'))\n    def baseCommand = flowFile.getAttribute('telegram.message_data')\n    \n    if (!config.simple_commands) {\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    if (!baseCommand) {\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    //    \n    def commandConfig = config.simple_commands[baseCommand]\n    \n    if (commandConfig) {\n        flowFile = session.putAttribute(flowFile, 'response.text', commandConfig.text)\n        flowFile = session.putAttribute(flowFile, 'response.parse_mode', commandConfig.parse_mode)\n                //  reply_markup  /start  \n        if (baseCommand == \"/start\" && commandConfig.reply_markup) {\n            flowFile = session.putAttribute(flowFile, 'response.reply_markup', \n                new groovy.json.JsonOutput().toJson(commandConfig.reply_markup))\n        }\n\n    } else {\n        //    -  (   )\n        session.transfer(flowFile, REL_SUCCESS)\n        return\n    }\n    \n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (Exception e) {\n    log.error(\"   : ${e.message}\", e)\n    session.transfer(flowFile, REL_FAILURE)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b10616-0199-1000-a503-882358129841","instanceIdentifier":"fee577b0-3e2e-3137-f7f7-2f417607378b","name":"PostProcessing","comments":"","position":{"x":-1616.0,"y":784.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import org.apache.nifi.processor.io.StreamCallback\nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    def chatId = flowFile.getAttribute('telegram.chat_id')\n    def responseText = flowFile.getAttribute('response.text')\n    \n    //   \n    def telegramRequest = [\n        \"chat_id\": chatId,\n        \"text\": responseText\n    ]\n    \n    //   \n    def parseMode = flowFile.getAttribute('response.parse_mode')\n    if (parseMode) {\n        telegramRequest.parse_mode = parseMode\n    }\n    \n    def replyMarkupJson = flowFile.getAttribute('response.reply_markup')\n    if (replyMarkupJson) {\n        telegramRequest.reply_markup = new groovy.json.JsonSlurper().parseText(replyMarkupJson)\n    }\n    \n    //  JSON  \n    def jsonOutput = JsonOutput.toJson(telegramRequest)\n    \n    flowFile = session.write(flowFile, { inputStream, outputStream ->\n        outputStream.write(jsonOutput.getBytes('UTF-8'))\n    } as StreamCallback)\n    \n    //    HTTP\n    flowFile = session.putAttribute(flowFile, 'mime.type', 'application/json')\n    flowFile = session.putAttribute(flowFile, 'telegram.endpoint', 'sendMessage')\n    \n    session.transfer(flowFile, REL_SUCCESS)\n} catch (e) {\n    log.error(\" : ${e.message}\")\n    \n    // Fallback error\n    def errorJson = '{\"error\": \"processing_error\"}'\n    flowFile = session.write(flowFile, { inputStream, outputStream ->\n        outputStream.write(errorJson.getBytes('UTF-8'))\n    } as StreamCallback)\n    \n    session.transfer(flowFile, REL_FAILURE)\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b1061c-0199-1000-0cb9-b611982da365","instanceIdentifier":"9e7be5f3-1ad4-3b39-623f-897d7efea32e","name":"ExecuteScript","comments":"","position":{"x":-648.0,"y":104.0},"type":"org.apache.nifi.processors.script.ExecuteScript","bundle":{"group":"org.apache.nifi","artifact":"nifi-scripting-nar","version":"2.3.0"},"properties":{"Script File":null,"Script Engine":"Groovy","Script Body":"import groovy.json.JsonSlurper\nimport groovy.json.JsonOutput\n\ndef flowFile = session.get()\nif (!flowFile) return\n\ntry {\n    // 1.    \n    def callbackData = flowFile.getAttribute('telegram.message_data')\n    def currentScene = flowFile.getAttribute('current_scene') ?: \"start\"\n\tdef configFile = flowFile.getAttribute('configFile')\n\n    // 2.  \n    def config = new JsonSlurper().parse(new File(configFile))\n    \n    // 3.  callback   \n    def result = processCallback(callbackData, currentScene, config)\n    def response = result.response\n    def newScene = result.scene\n\n    //  endpoint based on media type\n\tdef endpoint = 'sendMessage'\n\t\tif (response.photo) {\n    \t\tendpoint = 'sendPhoto'\n\t\t} else if (response.video) {\n    \t\tendpoint = 'sendVideo' \n\t\t} else if (response.audio) {\n    \t\tendpoint = 'sendAudio'\n\t\t}\n\n    // 4.   \n    addMenuButtons(response)\n\n\t//  \n\tflowFile = session.putAllAttributes(flowFile, [\n    \t'current_scene': newScene,\n    \t'telegram.endpoint': endpoint,\n    \t'response.json': JsonOutput.toJson(response),\n    \t'response.parse_mode': 'MarkdownV2'\n\t])\n\n    session.transfer(flowFile, REL_SUCCESS)\n    \n} catch (e) {\n    log.error(\"  : \" + e, e)\n    flowFile = session.putAttribute(flowFile, 'error.message', e.message)\n    session.transfer(flowFile, REL_FAILURE)\n}\n\n\n//    callback\ndef processCallback(callbackData, currentScene, config) {\n    def result = [response: [:], scene: currentScene]\n    \n    switch (callbackData) {\n        case { it?.startsWith(\"scene:\") }:\n            result = handleSceneTransition(callbackData, config, currentScene)\n            break\n            \n        case { it?.startsWith(\"quest:\") && !it?.contains(\":answer:\") }:\n            result = handleQuestStart(callbackData, config, currentScene)\n            break\n            \n        case { it?.startsWith(\"quest:\") && it?.contains(\":answer:\") }:\n            result = handleQuestAnswer(callbackData, config, currentScene)\n            break\n            \n        default:\n            result.response = [text: \"  \"]\n            break\n    }\n    \n    return result\n}\n\n//    \ndef handleSceneTransition(callbackData, config, currentScene) {\n    def sceneName = callbackData.replace(\"scene:\", \"\")\n    return [\n        response: config.scenes[sceneName],\n        scene: sceneName\n    ]\n}\n\n//   \ndef handleQuestStart(callbackData, config, currentScene) {\n    def questId = callbackData.replace(\"quest:\", \"\")\n    def quest = config.quests[questId]\n    \n    if (quest) {\n        return [\n            response: buildQuestResponse(quest),\n            scene: \"quest:\" + questId\n        ]\n    } else {\n        return [\n            response: [text: \"   \"],\n            scene: currentScene\n        ]\n    }\n}\n\n\n//     \ndef handleQuestAnswer(callbackData, config, currentScene) {\n    def parts = callbackData.split(\":\")\n    if (parts.size() >= 4) {\n        def questId = parts[1]\n        def quest = config.quests[questId]\n        \n        if (quest) {\n            def answer = quest.answers[callbackData]\n            if (answer) {\n                return handleAnswerTransition(answer, config, currentScene)\n            } else {\n                return [\n                    response: [text: \"   \"],\n                    scene: currentScene\n                ]\n            }\n        } else {\n            return [\n                response: [text: \"   \"],\n                scene: currentScene\n            ]\n        }\n    } else {\n        return [\n            response: [text: \"   \"],\n            scene: currentScene\n        ]\n    }\n}\n//      (  )\ndef handleQuestTransition(nextQuestId, config, currentScene) {\n    def questId = nextQuestId.replace(\"quest:\", \"\")\n    def nextQuest = config.quests[questId]\n    \n    if (nextQuest) {\n        return [\n            response: buildQuestResponse(nextQuest),\n            scene: \"quest:\" + questId\n        ]\n    } else {\n        return [\n            response: [text: \"    \"],\n            scene: currentScene\n        ]\n    }\n}\n\n//      \ndef buildQuestResponse(quest) {\n    if (!quest) return [text: \" :   \"]\n    \n    def response = [:]\n    \n    //    \n    if (quest.image) {\n        response.photo = \"/opt/nifi/quest/images/\" + quest.image\n        response.caption = quest.text\n        response.parse_mode = 'MarkdownV2'\n    } else if (quest.video) {\n        response.video = \"/opt/nifi/quest/video/\" + quest.video  \n        response.caption = quest.text\n        response.parse_mode = 'MarkdownV2'\n    } else if (quest.audio) {\n        response.audio = \"/opt/nifi/quest/audio/\" + quest.audio\n        response.caption = quest.text\n        response.parse_mode = 'MarkdownV2'\n    } else {\n        //    -  \n        response.text = quest.text\n        response.parse_mode = 'MarkdownV2'\n    }\n    \n    //     \n    if (quest.answers) {\n        def keyboard = []\n        quest.answers.each { key, answer ->\n            keyboard << [text: answer.text, callback_data: key]\n        }\n        response.reply_markup = [inline_keyboard: [keyboard]]\n    }\n    \n    return response\n}\n\n//     \ndef addMenuButtons(response) {\n    if (response && response instanceof Map) {\n        //  response -   ( reply_markup)\n        if (!response.reply_markup && response.text) {\n            response.reply_markup = [inline_keyboard: []]\n        }\n        \n        //   \n        if (response.reply_markup) {\n            def menuButton = [text: \"\uD83C\uDFE0 \", callback_data: \"scene:start\"]\n            def helpButton = [text: \" \", callback_data: \"scene:help\"]\n            \n            def menuRow = [menuButton, helpButton]\n            \n            if (response.reply_markup.inline_keyboard instanceof List) {\n                response.reply_markup.inline_keyboard.add(menuRow)\n            } else {\n                response.reply_markup.inline_keyboard = [menuRow]\n            }\n        }\n    }\n}\n\n//    \ndef handleAnswerTransition(answer, config, currentScene) {\n    if (!answer) {\n        return [response: [text: \"   \"], scene: currentScene]\n    }\n    \n    def result = [scene: currentScene]\n    \n    //  \n    if (answer.next) {\n        if (answer.next.startsWith(\"quest:\")) {\n            def nextQuestId = answer.next.replace(\"quest:\", \"\")\n            def nextQuest = config.quests[nextQuestId]\n            if (nextQuest) {\n                result.response = buildQuestResponse(nextQuest)\n                result.scene = \"quest:\" + nextQuestId\n            }\n        } else if (answer.next.startsWith(\"scene:\")) {\n            def sceneName = answer.next.replace(\"scene:\", \"\")\n            def nextScene = config.scenes[sceneName]\n            if (nextScene) {\n                result.response = nextScene\n                result.scene = sceneName\n            }\n        }\n    }\n    \n    //   response - / \n    if (answer.response) {\n        if (result.response && result.response.text) {\n            //  response   \n            result.response.text = answer.response + \"\\n\\n\" + result.response.text\n        } else {\n            //    \n            result.response = [text: answer.response, parse_mode: 'MarkdownV2']\n        }\n    }\n    \n    return result\n}","Module Directory":null},"propertyDescriptors":{"Script File":{"name":"Script File","displayName":"Script File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Script Engine":{"name":"Script Engine","displayName":"Script Engine","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Script Body":{"name":"Script Body","displayName":"Script Body","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Module Directory":{"name":"Module Directory","displayName":"Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b1061d-0199-1000-755b-f8593cd0fdc8","instanceIdentifier":"332cb4ea-54dd-3643-6bac-e1e2d2075d84","name":"ReplaceText","comments":"","position":{"x":-3112.0,"y":-168.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"chat_id\": \"${telegram.chat_id}\",\n  \"text\": \" \",\n  \"parse_mode\": \"MarkdownV2\"\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b1061a-0199-1000-4309-00e06d36f897","instanceIdentifier":"337b418d-59a3-3e48-7def-d8d2168a023c","name":"Send-Telegram-Bot","comments":"","position":{"x":-1616.0,"y":992.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"https://api.telegram.org/bot${telegrambot_token}/sendMessage","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b10619-0199-1000-a231-d6922ccaf328","instanceIdentifier":"f1865a16-fb31-3330-6d19-00dbbeda789a","name":"GenerateFlowFile","comments":"","position":{"x":-1616.0,"y":-632.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b10617-0199-1000-d46d-646b80c556d0","instanceIdentifier":"65eaab2c-ce40-33cf-2ba1-9adf1dda242e","name":"InvokeHTTP","comments":"","position":{"x":-1616.0,"y":1512.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"https://api.telegram.org/bot${telegrambot_token}/sendMessage","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","Original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b1061b-0199-1000-233e-f6c4ecaf74b5","instanceIdentifier":"53fcf570-8e19-3064-bd7c-c310de8d86da","name":"GlobalSettings","comments":"","position":{"x":-1616.0,"y":-432.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"telegrambot_token":"<token from bot father>","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null},"propertyDescriptors":{"telegrambot_token":{"name":"telegrambot_token","displayName":"telegrambot_token","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b106cb-0199-1000-2faf-e3da2237a7a5","instanceIdentifier":"11825ca6-12f1-3f4a-ed44-2d505fce2211","name":"","source":{"id":"70b10685-0199-1000-d6e0-a3e65e64b883","type":"OUTPUT_PORT","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"access.denied","instanceIdentifier":"5cc91598-2542-32b8-3561-5373b1737903"},"destination":{"id":"70b1061d-0199-1000-755b-f8593cd0fdc8","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"ReplaceText","comments":"","instanceIdentifier":"332cb4ea-54dd-3643-6bac-e1e2d2075d84"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106d6-0199-1000-7c2f-6d4958d593b8","instanceIdentifier":"36b8cfe7-1791-36a4-ee41-514a5a352ab9","name":"","source":{"id":"70b1069e-0199-1000-017b-0069479cf16f","type":"OUTPUT_PORT","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"output","instanceIdentifier":"ab15b172-0b09-3a4d-44cf-340aa4e2940d"},"destination":{"id":"70b10628-0199-1000-9b67-2cd544c9d0c0","type":"INPUT_PORT","groupId":"70b10622-0199-1000-7f3d-af945a6326a1","name":"input","instanceIdentifier":"b2b95ce1-da67-3860-86d3-0a13b3a38bc7"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106d2-0199-1000-88b8-e0430e395696","instanceIdentifier":"390e2b7c-c2df-30e9-e713-325be294b546","name":"","source":{"id":"70b10617-0199-1000-d46d-646b80c556d0","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"InvokeHTTP","comments":"","instanceIdentifier":"65eaab2c-ce40-33cf-2ba1-9adf1dda242e"},"destination":{"id":"70b1061f-0199-1000-a40d-85797ba89cfc","type":"FUNNEL","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Funnel","comments":"","instanceIdentifier":"76e81468-e24e-3864-ce33-9bfda7a9ce29"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106c8-0199-1000-00c5-2c2d71d6cd56","instanceIdentifier":"51d625d9-d824-32bf-43fd-1fea5c288ece","name":"","source":{"id":"70b1061d-0199-1000-755b-f8593cd0fdc8","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"ReplaceText","comments":"","instanceIdentifier":"332cb4ea-54dd-3643-6bac-e1e2d2075d84"},"destination":{"id":"70b1061a-0199-1000-4309-00e06d36f897","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Send-Telegram-Bot","comments":"","instanceIdentifier":"337b418d-59a3-3e48-7def-d8d2168a023c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106d1-0199-1000-96a8-e79822bb69d2","instanceIdentifier":"84ec33ab-ac49-3732-c795-a9a0c21bfae7","name":"","source":{"id":"70b10674-0199-1000-24c3-1584716844de","type":"OUTPUT_PORT","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"command","instanceIdentifier":"b9cca630-3c32-35ce-c272-8bbd81d06064"},"destination":{"id":"70b106b6-0199-1000-f8b8-2ff34b983ad9","type":"INPUT_PORT","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"input","instanceIdentifier":"ef89dfd6-5197-334d-775d-5378e7d3d369"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106de-0199-1000-001d-c81d0f06c231","instanceIdentifier":"80e8a784-abe6-34a0-efb4-f7598612bcfb","name":"","source":{"id":"70b10620-0199-1000-2b98-c5db13c65f23","type":"FUNNEL","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Funnel","comments":"","instanceIdentifier":"ea3b5e21-b0c6-3a65-4919-8dd66e58631d"},"destination":{"id":"70b10616-0199-1000-a503-882358129841","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"PostProcessing","comments":"","instanceIdentifier":"fee577b0-3e2e-3137-f7f7-2f417607378b"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106d8-0199-1000-ef48-cb7c79bc5819","instanceIdentifier":"2294c60c-ed71-318c-ce16-0135db9b07c5","name":"","source":{"id":"70b10676-0199-1000-7c1a-ca47cef1deb0","type":"OUTPUT_PORT","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"message","instanceIdentifier":"850f5c0b-8a8a-3b17-3e06-e7c41a627ccd"},"destination":{"id":"70b10618-0199-1000-9f20-6365e179a405","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"ExecuteScript","comments":"","instanceIdentifier":"0a1028ad-64e9-3a9c-8c36-7417e5de1962"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106d7-0199-1000-1828-91bf343bd8fb","instanceIdentifier":"a683a41d-420f-3092-26e7-7b210b4e1706","name":"","source":{"id":"70b1061a-0199-1000-4309-00e06d36f897","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Send-Telegram-Bot","comments":"","instanceIdentifier":"337b418d-59a3-3e48-7def-d8d2168a023c"},"destination":{"id":"70b1061e-0199-1000-e25d-379cd84551db","type":"FUNNEL","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Funnel","comments":"","instanceIdentifier":"0f790c8c-25fc-31dc-bb77-2e65454b0001"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106cc-0199-1000-2f83-cff64103ae4c","instanceIdentifier":"39d94462-dec0-3fb4-e02c-45d1cbc1695c","name":"","source":{"id":"70b10618-0199-1000-9f20-6365e179a405","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"ExecuteScript","comments":"","instanceIdentifier":"0a1028ad-64e9-3a9c-8c36-7417e5de1962"},"destination":{"id":"70b10620-0199-1000-2b98-c5db13c65f23","type":"FUNNEL","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Funnel","comments":"","instanceIdentifier":"ea3b5e21-b0c6-3a65-4919-8dd66e58631d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106ca-0199-1000-9ea0-1f5029298e29","instanceIdentifier":"6888b87e-d889-34e9-f38f-d043c01f9f22","name":"","source":{"id":"70b1069e-0199-1000-017b-0069479cf16f","type":"OUTPUT_PORT","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"output","instanceIdentifier":"ab15b172-0b09-3a4d-44cf-340aa4e2940d"},"destination":{"id":"70b10684-0199-1000-2052-f7900da57d7d","type":"INPUT_PORT","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"input","instanceIdentifier":"b2f67415-9cdf-30c2-dded-6cbd70cbc764"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106d4-0199-1000-9682-f2fdb50d6b42","instanceIdentifier":"4bb17bfc-e26e-3727-dfb6-7bc9719258ee","name":"","source":{"id":"70b10617-0199-1000-d46d-646b80c556d0","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"InvokeHTTP","comments":"","instanceIdentifier":"65eaab2c-ce40-33cf-2ba1-9adf1dda242e"},"destination":{"id":"70b1061f-0199-1000-a40d-85797ba89cfc","type":"FUNNEL","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Funnel","comments":"","instanceIdentifier":"76e81468-e24e-3864-ce33-9bfda7a9ce29"},"labelIndex":0,"zIndex":0,"selectedRelationships":["No Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-872.0,"y":1456.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106dc-0199-1000-092d-000aa704b4a0","instanceIdentifier":"8bcb946d-96df-38ec-2e75-0c40cab26a36","name":"","source":{"id":"70b10675-0199-1000-c25f-04040a1aa72d","type":"OUTPUT_PORT","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"callback","instanceIdentifier":"37e095ee-f723-3887-48bb-591ea2028f6a"},"destination":{"id":"70b1061c-0199-1000-0cb9-b611982da365","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"ExecuteScript","comments":"","instanceIdentifier":"9e7be5f3-1ad4-3b39-623f-897d7efea32e"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106c7-0199-1000-4fe1-00d70246f0ac","instanceIdentifier":"9de29ee1-a0d7-3acd-9bbf-4496e52d267b","name":"","source":{"id":"70b1061b-0199-1000-233e-f6c4ecaf74b5","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"GlobalSettings","comments":"","instanceIdentifier":"53fcf570-8e19-3064-bd7c-c310de8d86da"},"destination":{"id":"70b1069d-0199-1000-57d1-e97a4635fd84","type":"INPUT_PORT","groupId":"70b10698-0199-1000-7603-71cf70a82299","name":"input","instanceIdentifier":"867d6ccc-8993-38c8-f9fa-308b1c6faddf"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106db-0199-1000-6675-0b30bec85a50","instanceIdentifier":"d772dea5-4d5e-3c26-6934-bf3836f6f356","name":"","source":{"id":"70b1061a-0199-1000-4309-00e06d36f897","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Send-Telegram-Bot","comments":"","instanceIdentifier":"337b418d-59a3-3e48-7def-d8d2168a023c"},"destination":{"id":"70b1061e-0199-1000-e25d-379cd84551db","type":"FUNNEL","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Funnel","comments":"","instanceIdentifier":"0f790c8c-25fc-31dc-bb77-2e65454b0001"},"labelIndex":0,"zIndex":0,"selectedRelationships":["No Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-1080.0,"y":944.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106ce-0199-1000-63dc-37505afb4fd9","instanceIdentifier":"815170fb-28b9-3cbd-0ad5-12574a18a292","name":"","source":{"id":"70b1061a-0199-1000-4309-00e06d36f897","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Send-Telegram-Bot","comments":"","instanceIdentifier":"337b418d-59a3-3e48-7def-d8d2168a023c"},"destination":{"id":"70b1061e-0199-1000-e25d-379cd84551db","type":"FUNNEL","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Funnel","comments":"","instanceIdentifier":"0f790c8c-25fc-31dc-bb77-2e65454b0001"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-1080.0,"y":1120.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106cd-0199-1000-49bc-2eeb83e5da29","instanceIdentifier":"d16f7061-4e48-3793-a271-359f19851743","name":"","source":{"id":"70b10686-0199-1000-c81e-a00e73b72d4a","type":"OUTPUT_PORT","groupId":"70b1067c-0199-1000-0142-2cb5be7d3ada","name":"access.allow","instanceIdentifier":"c45c8cc7-0ed1-3646-9164-cb77dfac4275"},"destination":{"id":"70b10673-0199-1000-b3ad-2f5bbb0be857","type":"INPUT_PORT","groupId":"70b10670-0199-1000-ef2c-f2e406504ab8","name":"input","instanceIdentifier":"8ac0f9cd-44e2-39b1-d0e7-561fa3d89791"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106cf-0199-1000-492e-49fd511b250b","instanceIdentifier":"639cd8dd-8e37-3e78-bbe4-46f05408ff2b","name":"","source":{"id":"70b10616-0199-1000-a503-882358129841","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"PostProcessing","comments":"","instanceIdentifier":"fee577b0-3e2e-3137-f7f7-2f417607378b"},"destination":{"id":"70b1061a-0199-1000-4309-00e06d36f897","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Send-Telegram-Bot","comments":"","instanceIdentifier":"337b418d-59a3-3e48-7def-d8d2168a023c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106dd-0199-1000-bf8b-2ce40e64c40c","instanceIdentifier":"556f62d7-8d00-3e3d-84a7-3a90a0b83e6f","name":"","source":{"id":"70b10617-0199-1000-d46d-646b80c556d0","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"InvokeHTTP","comments":"","instanceIdentifier":"65eaab2c-ce40-33cf-2ba1-9adf1dda242e"},"destination":{"id":"70b1061f-0199-1000-a40d-85797ba89cfc","type":"FUNNEL","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Funnel","comments":"","instanceIdentifier":"76e81468-e24e-3864-ce33-9bfda7a9ce29"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Retry"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[{"x":-872.0,"y":1736.0}],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106d9-0199-1000-9cdf-fab7eb149eee","instanceIdentifier":"6ab4efe5-2233-37ea-de3f-491c33cbd0b7","name":"","source":{"id":"70b10632-0199-1000-d095-4ab0c8f610d2","type":"OUTPUT_PORT","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"output","instanceIdentifier":"847205af-1482-34c5-ba47-9b3f37c8ba2a"},"destination":{"id":"70b10617-0199-1000-d46d-646b80c556d0","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"InvokeHTTP","comments":"","instanceIdentifier":"65eaab2c-ce40-33cf-2ba1-9adf1dda242e"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106d0-0199-1000-1cf1-5dd377577f7f","instanceIdentifier":"6760fcee-96b1-3485-ae56-0dfc44ac5516","name":"","source":{"id":"70b1061c-0199-1000-0cb9-b611982da365","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"ExecuteScript","comments":"","instanceIdentifier":"9e7be5f3-1ad4-3b39-623f-897d7efea32e"},"destination":{"id":"70b10620-0199-1000-2b98-c5db13c65f23","type":"FUNNEL","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Funnel","comments":"","instanceIdentifier":"ea3b5e21-b0c6-3a65-4919-8dd66e58631d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106d3-0199-1000-54be-6e8d59320290","instanceIdentifier":"a37074d6-4028-3f5d-9bdc-14485078eb92","name":"","source":{"id":"70b1061a-0199-1000-4309-00e06d36f897","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Send-Telegram-Bot","comments":"","instanceIdentifier":"337b418d-59a3-3e48-7def-d8d2168a023c"},"destination":{"id":"70b10631-0199-1000-06d0-4b54a42125f3","type":"INPUT_PORT","groupId":"70b1062f-0199-1000-96c0-0538a7615edd","name":"input","instanceIdentifier":"f7683f4e-0883-3f83-079f-1de1be919c29"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106c9-0199-1000-74b3-35e13dd24651","instanceIdentifier":"219c143c-bed5-3ba8-2d6c-514b38a774ca","name":"","source":{"id":"70b10619-0199-1000-a231-d6922ccaf328","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"GenerateFlowFile","comments":"","instanceIdentifier":"f1865a16-fb31-3330-6d19-00dbbeda789a"},"destination":{"id":"70b1061b-0199-1000-233e-f6c4ecaf74b5","type":"PROCESSOR","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"GlobalSettings","comments":"","instanceIdentifier":"53fcf570-8e19-3064-bd7c-c310de8d86da"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b106da-0199-1000-76cf-3a7a63871a7b","instanceIdentifier":"238d88cc-afa2-3f5c-374c-9636404ec05d","name":"","source":{"id":"70b106b7-0199-1000-7627-7f7988692260","type":"OUTPUT_PORT","groupId":"70b106a9-0199-1000-2521-09d3e368c3b0","name":"output","instanceIdentifier":"b3f5945a-1bad-38e9-f051-4d0e53b74652"},"destination":{"id":"70b10620-0199-1000-2b98-c5db13c65f23","type":"FUNNEL","groupId":"70b10614-0199-1000-2bfa-d6118d7add90","name":"Funnel","comments":"","instanceIdentifier":"ea3b5e21-b0c6-3a65-4919-8dd66e58631d"},"labelIndex":0,"zIndex":0,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"}],"labels":[{"identifier":"70b10621-0199-1000-a45e-b3115ba24827","instanceIdentifier":"cf028116-eb6b-33c0-0d45-21fecf71830a","position":{"x":-2400.0,"y":32.0},"label":" ,  simple_comand\n       def baseCommand = flowFile.getAttribute('telegram.message_data')","zIndex":0,"width":528.0,"height":56.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"}],"funnels":[{"identifier":"70b1061f-0199-1000-a40d-85797ba89cfc","instanceIdentifier":"76e81468-e24e-3864-ce33-9bfda7a9ce29","position":{"x":-896.0,"y":1576.0},"componentType":"FUNNEL","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b1061e-0199-1000-e25d-379cd84551db","instanceIdentifier":"0f790c8c-25fc-31dc-bb77-2e65454b0001","position":{"x":-880.0,"y":1008.0},"componentType":"FUNNEL","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"},{"identifier":"70b10620-0199-1000-2b98-c5db13c65f23","instanceIdentifier":"ea3b5e21-b0c6-3a65-4919-8dd66e58631d","position":{"x":-1464.0,"y":688.0},"componentType":"FUNNEL","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"}],"controllerServices":[{"identifier":"70b10615-0199-1000-db96-de3228742c0b","instanceIdentifier":"a86f9c5f-62f4-30aa-a8c6-83fd723428a0","name":"MapCacheClientService-Wait","comments":"","type":"org.apache.nifi.distributed.cache.client.MapCacheClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-distributed-cache-services-nar","version":"2.3.0"},"properties":{"SSL Context Service":null,"Server Port":"4557","Server Hostname":"localhost","Communications Timeout":"30 secs"},"propertyDescriptors":{"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Server Port":{"name":"Server Port","displayName":"Server Port","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Server Hostname":{"name":"Server Hostname","displayName":"Server Hostname","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}},{"type":"org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"70b10614-0199-1000-2bfa-d6118d7add90"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1033c-0199-1000-cfe8-f4a9294041cc"},{"identifier":"70b103c2-0199-1000-7e92-ff2f63c1ce28","instanceIdentifier":"4c91f08f-f98b-36f9-071a-4f16af33048f","name":"LoyaltyOrders-Automatization","comments":"","position":{"x":-96.0,"y":-192.0},"processGroups":[{"identifier":"70b103c3-0199-1000-5305-0bc09ccd7dff","instanceIdentifier":"dcfa93ad-27b0-3097-5224-d1a4462079bc","name":"order-first-status","comments":"","position":{"x":-768.0,"y":-128.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b103c4-0199-1000-450d-748d63acf6ee","instanceIdentifier":"7a6b846b-2189-3cef-093d-b833a9b1f95e","name":"/api/order/update","comments":"","position":{"x":-344.0,"y":512.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103c6-0199-1000-5eaa-d9798acdacfe","instanceIdentifier":"d47476fe-b77b-3c1d-9fc8-ed3d136ec49f","name":"ReplaceText","comments":"","position":{"x":1008.0,"y":512.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\": \"${order_short_id}\",\n  \"order_status\": \"${new_order_status}\",\n  \"source\":\"${source}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103c8-0199-1000-7c60-f4c2d39cd35c","instanceIdentifier":"7455bc66-fee3-37fe-91bd-af83b6555529","name":"FlowGlobalSettings","comments":"","position":{"x":-344.0,"y":8.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"status_created_timezone":"Europe/Moscow","order_status":"order_new","Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","port":"8089","host":"http://10.160.20.73","new_order_status":"order_created","mime.type":"application/json","source":"LoyaltyOrders-Automatization","Stateful Variables Initial Value":null,"status_created_at":"${now():format('yyy-MM-dd hh:mm:ss')}"},"propertyDescriptors":{"status_created_timezone":{"name":"status_created_timezone","displayName":"status_created_timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_status":{"name":"order_status","displayName":"order_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"port":{"name":"port","displayName":"port","identifiesControllerService":false,"sensitive":false,"dynamic":true},"host":{"name":"host","displayName":"host","identifiesControllerService":false,"sensitive":false,"dynamic":true},"new_order_status":{"name":"new_order_status","displayName":"new_order_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_created_at":{"name":"status_created_at","displayName":"status_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103c9-0199-1000-d668-e3947d738a96","instanceIdentifier":"af05e6d3-0264-377f-47b0-3f87bfb0b3da","name":"GenerateFlowFile","comments":"","position":{"x":-344.0,"y":-216.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"5 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103c7-0199-1000-8306-df4aee3246c0","instanceIdentifier":"e8785ed0-fd32-32c4-f47f-a6498ec9383d","name":"/api/order/status/add","comments":"","position":{"x":1008.0,"y":752.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/status/add","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103ca-0199-1000-b225-bc4d925fe9a4","instanceIdentifier":"fa7a709c-19e9-3d05-14c5-752e2d74af4e","name":"ReplaceText","comments":"","position":{"x":-344.0,"y":752.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\": \"${order_short_id}\",\n  \"status_code\": \"${order_status}\",\n  \"status_name\":\"${order_status}\",\n  \"source\":\"${source}\",\n  \"additional_info\":\"${order_status}\",\n  \"commentary\": \"${order_status}\",\n  \"status_created_at\":\"${status_created_at}\",\n  \"status_created_timezone\":\"${status_created_timezone}\"\n}","Evaluation Mode":"Line-by-Line","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Regex Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103c5-0199-1000-2176-73740838e3b1","instanceIdentifier":"0ed569c7-0f9c-395d-50cd-3a90a6c1a9ef","name":"/api/orders/list-new","comments":"","position":{"x":-344.0,"y":264.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/orders/list-new?order_status=${order_status}","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103cc-0199-1000-5b49-da815f82a6df","instanceIdentifier":"88458c30-44de-3bc7-2de0-0b19a4c5b8e6","name":"EvaluateJsonPath","comments":"","position":{"x":1008.0,"y":264.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103cb-0199-1000-707d-bf222d5d7798","instanceIdentifier":"393e2d47-69f1-354d-57f7-346b1e743991","name":"SplitJson","comments":"","position":{"x":320.0,"y":264.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.orders.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b103d5-0199-1000-a8d6-9745f4912443","instanceIdentifier":"fdff29e2-d812-35b4-4412-90ff0d94a363","name":"","source":{"id":"70b103c6-0199-1000-5eaa-d9798acdacfe","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"ReplaceText","comments":"","instanceIdentifier":"d47476fe-b77b-3c1d-9fc8-ed3d136ec49f"},"destination":{"id":"70b103c4-0199-1000-450d-748d63acf6ee","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"/api/order/update","comments":"","instanceIdentifier":"7a6b846b-2189-3cef-093d-b833a9b1f95e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103d1-0199-1000-2505-1a39670294bc","instanceIdentifier":"b4cc19ce-6330-3488-0f30-97bc84bbf448","name":"","source":{"id":"70b103c5-0199-1000-2176-73740838e3b1","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"/api/orders/list-new","comments":"","instanceIdentifier":"0ed569c7-0f9c-395d-50cd-3a90a6c1a9ef"},"destination":{"id":"70b103cb-0199-1000-707d-bf222d5d7798","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"SplitJson","comments":"","instanceIdentifier":"393e2d47-69f1-354d-57f7-346b1e743991"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103d3-0199-1000-d6b3-1a8053b5e85d","instanceIdentifier":"836230f2-6103-31cc-3578-c766f5fd9d67","name":"","source":{"id":"70b103c4-0199-1000-450d-748d63acf6ee","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"/api/order/update","comments":"","instanceIdentifier":"7a6b846b-2189-3cef-093d-b833a9b1f95e"},"destination":{"id":"70b103ca-0199-1000-b225-bc4d925fe9a4","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"ReplaceText","comments":"","instanceIdentifier":"fa7a709c-19e9-3d05-14c5-752e2d74af4e"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103d6-0199-1000-8f30-3373aa66b4e0","instanceIdentifier":"0a7f6d4e-2169-391b-15cd-5f4967de252a","name":"","source":{"id":"70b103ca-0199-1000-b225-bc4d925fe9a4","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"ReplaceText","comments":"","instanceIdentifier":"fa7a709c-19e9-3d05-14c5-752e2d74af4e"},"destination":{"id":"70b103c7-0199-1000-8306-df4aee3246c0","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"/api/order/status/add","comments":"","instanceIdentifier":"e8785ed0-fd32-32c4-f47f-a6498ec9383d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103d0-0199-1000-9d25-82af1d4fa368","instanceIdentifier":"b8b66011-a150-3b33-5b8f-ddc5ef1a044a","name":"","source":{"id":"70b103c8-0199-1000-7c60-f4c2d39cd35c","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"FlowGlobalSettings","comments":"","instanceIdentifier":"7455bc66-fee3-37fe-91bd-af83b6555529"},"destination":{"id":"70b103c5-0199-1000-2176-73740838e3b1","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"/api/orders/list-new","comments":"","instanceIdentifier":"0ed569c7-0f9c-395d-50cd-3a90a6c1a9ef"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103d4-0199-1000-6b88-ae3e4b4addcf","instanceIdentifier":"2598dc26-768f-3348-836e-cb7b21307271","name":"","source":{"id":"70b103c9-0199-1000-d668-e3947d738a96","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"GenerateFlowFile","comments":"","instanceIdentifier":"af05e6d3-0264-377f-47b0-3f87bfb0b3da"},"destination":{"id":"70b103c8-0199-1000-7c60-f4c2d39cd35c","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"FlowGlobalSettings","comments":"","instanceIdentifier":"7455bc66-fee3-37fe-91bd-af83b6555529"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103d2-0199-1000-8efe-44c40d45ab29","instanceIdentifier":"3849369f-49f6-394a-8c05-fda6eba38e73","name":"","source":{"id":"70b103cc-0199-1000-5b49-da815f82a6df","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"88458c30-44de-3bc7-2de0-0b19a4c5b8e6"},"destination":{"id":"70b103c6-0199-1000-5eaa-d9798acdacfe","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"ReplaceText","comments":"","instanceIdentifier":"d47476fe-b77b-3c1d-9fc8-ed3d136ec49f"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103d7-0199-1000-29ee-4b1d7593281c","instanceIdentifier":"dd5e103e-7fdc-3172-ca0e-239e955aebba","name":"","source":{"id":"70b103cb-0199-1000-707d-bf222d5d7798","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"SplitJson","comments":"","instanceIdentifier":"393e2d47-69f1-354d-57f7-346b1e743991"},"destination":{"id":"70b103cc-0199-1000-5b49-da815f82a6df","type":"PROCESSOR","groupId":"70b103c3-0199-1000-5305-0bc09ccd7dff","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"88458c30-44de-3bc7-2de0-0b19a4c5b8e6"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"}],"labels":[{"identifier":"70b103ce-0199-1000-6739-72aa354e6ffe","instanceIdentifier":"25b587d1-9947-3a34-12a2-197af328f954","position":{"x":-392.0,"y":232.0},"label":"[15-09-2025 . ]     order_new","zIndex":0,"width":1792.0,"height":192.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103cf-0199-1000-89ac-9d2cae0625e7","instanceIdentifier":"90f39c0f-f3b6-3d60-d530-6f51d150f48b","position":{"x":-384.0,"y":720.0},"label":"[15-09-2025 . ]    order_created","zIndex":0,"width":1792.0,"height":192.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"},{"identifier":"70b103cd-0199-1000-e16f-18e0b3024f4a","instanceIdentifier":"eb7b93a2-2a5a-380c-c9e4-ca0065c74440","position":{"x":-384.0,"y":472.0},"label":"[15-09-2025 . ]     order_created","zIndex":0,"width":1792.0,"height":192.0,"style":{"font-size":"12px"},"componentType":"LABEL","groupIdentifier":"70b103c3-0199-1000-5305-0bc09ccd7dff"}],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b103c2-0199-1000-7e92-ff2f63c1ce28"},{"identifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf","instanceIdentifier":"4c1b4c9c-78dc-345d-ebe9-f90d6ee9c781","name":"create-payments","comments":"     ","position":{"x":-296.0,"y":-128.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"70b103dd-0199-1000-7c42-0cf5299c3e10","instanceIdentifier":"14e8d4f7-c2b3-322e-cb20-897c3afc765b","name":"ReplaceText","comments":"","position":{"x":1104.0,"y":488.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\" : \"${order_short_id}\",\n  \"payment_method\" : \"${payment_method}\",\n  \"payment_status\" : \"${new_status}\",\n  \"payment_created_at\":\"${payment_created_at}\",\n  \"client_phone\":\"${client_phone}\",\n  \"amount\" : ${total_points_amount},\n  \"source\":\"${source}\"\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103e8-0199-1000-d68b-0223f838e970","instanceIdentifier":"073fd190-9efe-34db-4048-0e5febb0a4a1","name":"EvaluateJsonPath","comments":"","position":{"x":1104.0,"y":256.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","client_phone":"$.client_phone","total_points_amount":"$.total_points_amount","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"client_phone":{"name":"client_phone","displayName":"client_phone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"total_points_amount":{"name":"total_points_amount","displayName":"total_points_amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103e2-0199-1000-aa85-f6803d9a0879","instanceIdentifier":"3a3ee76b-ccf3-3835-64c0-6994682d850b","name":"ReplaceText","comments":"","position":{"x":-384.0,"y":1040.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"order_short_id\":\"${order_short_id}\",\n    \"status_code\":\"${payment_status}\",\n    \"status_name\":\"${payment_status}\",\n    \"additional_info\":\"payment_method: ${payment_method}, currency: ${currency}\",\n    \"commentary\":\"${currency}\",\n    \"status_created_at\":\"${payment_created_at}\",\n    \"status_created_timezone\":\"${payment_created_timezone}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103e3-0199-1000-ef45-b476e3f22d1a","instanceIdentifier":"5200b965-e398-3f8c-66e0-b3a530341605","name":"/api/payment/create","comments":"","position":{"x":328.0,"y":488.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/create","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103e4-0199-1000-05e2-3a7d742b1fa8","instanceIdentifier":"5ff61440-9fa0-3e98-b4f8-cac1524665cc","name":"ReplaceText","comments":"","position":{"x":-384.0,"y":760.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n    \"payment_short_id\":\"${payment_short_id}\",\n    \"order_short_id\":\"${order_short_id}\",\n    \"status_code\":\"${payment_status}\",\n    \"status_name\":\"${payment_status}\",\n    \"additional_info\":\"payment_method: ${payment_method}, currency: ${currency}\",\n    \"commentary\":\"${currency}\",\n    \"status_created_at\":\"${payment_created_at}\",\n    \"status_created_timezone\":\"${payment_created_timezone}\",\n    \"source\":\"${source}\"\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103df-0199-1000-d541-e1abcd6955f8","instanceIdentifier":"47d8a227-372d-3023-32e2-1206da2b5e07","name":"FlowGlobalSettings","comments":"","position":{"x":-384.0,"y":8.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.3.0"},"properties":{"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","new_status":"payment_created","mime.type":"application/json","new_order_status":"payment_created","source":"LoyaltyOrders-Automatization","Stateful Variables Initial Value":null,"order_status":"order_created","Delete Attributes Expression":null,"port":"8089","host":"http://10.160.20.73","payment_created_timezone":"Europe/Moscow","payment_method":"loyalty_points","payment_created_at":"${now():format('yyy-MM-dd hh:mm:ss')}"},"propertyDescriptors":{"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"new_status":{"name":"new_status","displayName":"new_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"mime.type":{"name":"mime.type","displayName":"mime.type","identifiesControllerService":false,"sensitive":false,"dynamic":true},"new_order_status":{"name":"new_order_status","displayName":"new_order_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_status":{"name":"order_status","displayName":"order_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"port":{"name":"port","displayName":"port","identifiesControllerService":false,"sensitive":false,"dynamic":true},"host":{"name":"host","displayName":"host","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_created_timezone":{"name":"payment_created_timezone","displayName":"payment_created_timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_method":{"name":"payment_method","displayName":"payment_method","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_created_at":{"name":"payment_created_at","displayName":"payment_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103db-0199-1000-52cc-af3df08dbedf","instanceIdentifier":"fa0dc535-daee-31c3-535e-7c8d9d3baa16","name":"GenerateFlowFile","comments":"","position":{"x":-384.0,"y":-216.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":null,"Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"1 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103de-0199-1000-43c6-4f0f7e099eb0","instanceIdentifier":"e1bd2e79-21cc-31c7-98ea-490fa5dd7301","name":"EvaluateJsonPath","comments":"","position":{"x":1104.0,"y":760.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","status_code":"$.status_code","Max String Length":"20 MB","Return Type":"auto-detect","Null Value Representation":"empty string","order_short_id":"$.order_short_id","Path Not Found Behavior":"ignore"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"status_code":{"name":"status_code","displayName":"status_code","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103e7-0199-1000-e9b9-29d12f1fc1a5","instanceIdentifier":"96df11b9-a6c0-3888-e3cd-0086fea459e7","name":"ReplaceText","comments":"","position":{"x":1104.0,"y":1040.0},"type":"org.apache.nifi.processors.standard.ReplaceText","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Regular Expression":"(?s)(^.*$)","Replacement Value":"{\n  \"order_short_id\": \"${order_short_id}\",\n  \"order_status\": \"${status_code}\",\n  \"source\":\"${source}\"\n}","Evaluation Mode":"Entire text","Text to Prepend":null,"Line-by-Line Evaluation Mode":"All","Character Set":"UTF-8","Maximum Buffer Size":"1 MB","Replacement Strategy":"Always Replace","Text to Append":null},"propertyDescriptors":{"Regular Expression":{"name":"Regular Expression","displayName":"Search Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Value":{"name":"Replacement Value","displayName":"Replacement Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Evaluation Mode":{"name":"Evaluation Mode","displayName":"Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Prepend":{"name":"Text to Prepend","displayName":"Text to Prepend","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Line-by-Line Evaluation Mode":{"name":"Line-by-Line Evaluation Mode","displayName":"Line-by-Line Evaluation Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Character Set":{"name":"Character Set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Buffer Size":{"name":"Maximum Buffer Size","displayName":"Maximum Buffer Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Replacement Strategy":{"name":"Replacement Strategy","displayName":"Replacement Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Text to Append":{"name":"Text to Append","displayName":"Text to Append","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103d9-0199-1000-f3c6-632198fb586c","instanceIdentifier":"e0d8a0d1-d411-3af7-6794-d4e8e987cb3b","name":"EvaluateJsonPath","comments":"","position":{"x":-384.0,"y":488.0},"type":"org.apache.nifi.processors.standard.EvaluateJsonPath","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Destination":"flowfile-attribute","amount":"$.amount","Max String Length":"20 MB","Return Type":"auto-detect","payment_status":"$.payment_status","Null Value Representation":"empty string","external_id":"$.external_id","source":"$.source","Path Not Found Behavior":"ignore","payment_short_id":"$.payment_short_id","payment_long_id":"$.payment_long_id","currency":"$.currency","attributes":"$.attributes","payment_created_timezone":"$.payment_created_timezone","order_short_id":"$.order_short_id","payment_method":"$.payment_method","payment_created_at":"$.payment_created_at"},"propertyDescriptors":{"Destination":{"name":"Destination","displayName":"Destination","identifiesControllerService":false,"sensitive":false,"dynamic":false},"amount":{"name":"amount","displayName":"amount","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Return Type":{"name":"Return Type","displayName":"Return Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_status":{"name":"payment_status","displayName":"payment_status","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"external_id":{"name":"external_id","displayName":"external_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"source":{"name":"source","displayName":"source","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Path Not Found Behavior":{"name":"Path Not Found Behavior","displayName":"Path Not Found Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"payment_short_id":{"name":"payment_short_id","displayName":"payment_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_long_id":{"name":"payment_long_id","displayName":"payment_long_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"currency":{"name":"currency","displayName":"currency","identifiesControllerService":false,"sensitive":false,"dynamic":true},"attributes":{"name":"attributes","displayName":"attributes","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_created_timezone":{"name":"payment_created_timezone","displayName":"payment_created_timezone","identifiesControllerService":false,"sensitive":false,"dynamic":true},"order_short_id":{"name":"order_short_id","displayName":"order_short_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_method":{"name":"payment_method","displayName":"payment_method","identifiesControllerService":false,"sensitive":false,"dynamic":true},"payment_created_at":{"name":"payment_created_at","displayName":"payment_created_at","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103dc-0199-1000-c603-a174f4176d39","instanceIdentifier":"b9d1c125-d23a-3042-ad88-1bdcd7213d20","name":"/api/orders/list-new","comments":"","position":{"x":-384.0,"y":256.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/orders/list-new?order_status=${order_status}","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103e6-0199-1000-7441-5f1785be2062","instanceIdentifier":"c9bca9d9-0b05-3a98-14c2-c5880bdb557c","name":"/api/payment/status/add","comments":"","position":{"x":328.0,"y":760.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/payment/status/add","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103e1-0199-1000-79e2-9c93422bd4f6","instanceIdentifier":"d1adc3b0-60ef-3d89-6b8f-71bd851e537d","name":"/api/order/status/add","comments":"","position":{"x":-384.0,"y":1344.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/status/add","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["Response","No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103e5-0199-1000-afec-4136b96b82b8","instanceIdentifier":"df1c4b14-f67d-39b8-9e1e-de1cd2fa72c4","name":"/api/order/update","comments":"","position":{"x":328.0,"y":1040.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","HTTP URL":"${host}:${port}/api/order/update","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"POST","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Retry","Original","Failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103da-0199-1000-871e-038b8b2050eb","instanceIdentifier":"b6693d2f-7d83-3df4-b29d-1690e310bed0","name":"SplitJson","comments":"","position":{"x":328.0,"y":256.0},"type":"org.apache.nifi.processors.standard.SplitJson","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.3.0"},"properties":{"Max String Length":"20 MB","Null Value Representation":"empty string","JsonPath Expression":"$.orders.*"},"propertyDescriptors":{"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Null Value Representation":{"name":"Null Value Representation","displayName":"Null Value Representation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JsonPath Expression":{"name":"JsonPath Expression","displayName":"JsonPath Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"}],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"70b103ed-0199-1000-1fcc-45f8d46cf005","instanceIdentifier":"f931b77f-90d0-3f9d-292e-4a5477d89293","name":"","source":{"id":"70b103e6-0199-1000-7441-5f1785be2062","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"/api/payment/status/add","comments":"","instanceIdentifier":"c9bca9d9-0b05-3a98-14c2-c5880bdb557c"},"destination":{"id":"70b103de-0199-1000-43c6-4f0f7e099eb0","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"e1bd2e79-21cc-31c7-98ea-490fa5dd7301"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103f7-0199-1000-d919-e3b6904bce5f","instanceIdentifier":"92e249dd-541f-3af7-824b-e3a9f7b61a06","name":"","source":{"id":"70b103e2-0199-1000-aa85-f6803d9a0879","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"ReplaceText","comments":"","instanceIdentifier":"3a3ee76b-ccf3-3835-64c0-6994682d850b"},"destination":{"id":"70b103e1-0199-1000-79e2-9c93422bd4f6","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"/api/order/status/add","comments":"","instanceIdentifier":"d1adc3b0-60ef-3d89-6b8f-71bd851e537d"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103f1-0199-1000-10ae-33516ca039a0","instanceIdentifier":"0c206ab3-b02d-3a13-68f4-bc1d1bfc2834","name":"","source":{"id":"70b103da-0199-1000-871e-038b8b2050eb","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"SplitJson","comments":"","instanceIdentifier":"b6693d2f-7d83-3df4-b29d-1690e310bed0"},"destination":{"id":"70b103e8-0199-1000-d68b-0223f838e970","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"073fd190-9efe-34db-4048-0e5febb0a4a1"},"labelIndex":0,"zIndex":0,"selectedRelationships":["split"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103eb-0199-1000-1fd5-79886de19f47","instanceIdentifier":"77a6b8a2-e01b-3c47-d6b4-8ea47875d33c","name":"","source":{"id":"70b103db-0199-1000-52cc-af3df08dbedf","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"GenerateFlowFile","comments":"","instanceIdentifier":"fa0dc535-daee-31c3-535e-7c8d9d3baa16"},"destination":{"id":"70b103df-0199-1000-d541-e1abcd6955f8","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"FlowGlobalSettings","comments":"","instanceIdentifier":"47d8a227-372d-3023-32e2-1206da2b5e07"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103f6-0199-1000-c8cf-5646b86110a5","instanceIdentifier":"06000b02-916a-33d0-de4f-16d44e0fed9b","name":"","source":{"id":"70b103de-0199-1000-43c6-4f0f7e099eb0","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"e1bd2e79-21cc-31c7-98ea-490fa5dd7301"},"destination":{"id":"70b103e7-0199-1000-e9b9-29d12f1fc1a5","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"ReplaceText","comments":"","instanceIdentifier":"96df11b9-a6c0-3888-e3cd-0086fea459e7"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103f4-0199-1000-75be-f0bfb7dbc014","instanceIdentifier":"82a82854-428e-3f29-3290-56230171b69c","name":"","source":{"id":"70b103e3-0199-1000-ef45-b476e3f22d1a","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"/api/payment/create","comments":"","instanceIdentifier":"5200b965-e398-3f8c-66e0-b3a530341605"},"destination":{"id":"70b103d9-0199-1000-f3c6-632198fb586c","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"e0d8a0d1-d411-3af7-6794-d4e8e987cb3b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103f5-0199-1000-1664-27263bce30eb","instanceIdentifier":"82d0bd30-30d7-31e5-8250-de29e51e2b84","name":"","source":{"id":"70b103e8-0199-1000-d68b-0223f838e970","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"073fd190-9efe-34db-4048-0e5febb0a4a1"},"destination":{"id":"70b103dd-0199-1000-7c42-0cf5299c3e10","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"ReplaceText","comments":"","instanceIdentifier":"14e8d4f7-c2b3-322e-cb20-897c3afc765b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103ef-0199-1000-935e-0f251bec53f9","instanceIdentifier":"db736dc8-6ed7-3dbe-24f8-3d1d37590ffa","name":"","source":{"id":"70b103d9-0199-1000-f3c6-632198fb586c","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"EvaluateJsonPath","comments":"","instanceIdentifier":"e0d8a0d1-d411-3af7-6794-d4e8e987cb3b"},"destination":{"id":"70b103e4-0199-1000-05e2-3a7d742b1fa8","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"ReplaceText","comments":"","instanceIdentifier":"5ff61440-9fa0-3e98-b4f8-cac1524665cc"},"labelIndex":0,"zIndex":0,"selectedRelationships":["matched"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103f8-0199-1000-14a8-1401c6a26eb3","instanceIdentifier":"9a836318-7078-3648-9d86-e920c508af98","name":"","source":{"id":"70b103e4-0199-1000-05e2-3a7d742b1fa8","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"ReplaceText","comments":"","instanceIdentifier":"5ff61440-9fa0-3e98-b4f8-cac1524665cc"},"destination":{"id":"70b103e6-0199-1000-7441-5f1785be2062","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"/api/payment/status/add","comments":"","instanceIdentifier":"c9bca9d9-0b05-3a98-14c2-c5880bdb557c"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103f2-0199-1000-d714-9b6325d39eea","instanceIdentifier":"160523f7-0c0f-395f-dfa6-1f9c60370167","name":"","source":{"id":"70b103dd-0199-1000-7c42-0cf5299c3e10","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"ReplaceText","comments":"","instanceIdentifier":"14e8d4f7-c2b3-322e-cb20-897c3afc765b"},"destination":{"id":"70b103e3-0199-1000-ef45-b476e3f22d1a","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"/api/payment/create","comments":"","instanceIdentifier":"5200b965-e398-3f8c-66e0-b3a530341605"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103f3-0199-1000-8933-966e16f0a780","instanceIdentifier":"10f633d2-b3c8-3e97-92d7-fe750b7ff7a0","name":"","source":{"id":"70b103df-0199-1000-d541-e1abcd6955f8","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"FlowGlobalSettings","comments":"","instanceIdentifier":"47d8a227-372d-3023-32e2-1206da2b5e07"},"destination":{"id":"70b103dc-0199-1000-c603-a174f4176d39","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"/api/orders/list-new","comments":"","instanceIdentifier":"b9d1c125-d23a-3042-ad88-1bdcd7213d20"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103f0-0199-1000-8da2-8a4995119a38","instanceIdentifier":"28cd17b8-3608-3679-ff98-d2447df6f705","name":"","source":{"id":"70b103dc-0199-1000-c603-a174f4176d39","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"/api/orders/list-new","comments":"","instanceIdentifier":"b9d1c125-d23a-3042-ad88-1bdcd7213d20"},"destination":{"id":"70b103da-0199-1000-871e-038b8b2050eb","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"SplitJson","comments":"","instanceIdentifier":"b6693d2f-7d83-3df4-b29d-1690e310bed0"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103ee-0199-1000-89d1-a26bbd3b9421","instanceIdentifier":"cb61db10-14cb-335a-b0a9-8c570ba86721","name":"","source":{"id":"70b103e7-0199-1000-e9b9-29d12f1fc1a5","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"ReplaceText","comments":"","instanceIdentifier":"96df11b9-a6c0-3888-e3cd-0086fea459e7"},"destination":{"id":"70b103e5-0199-1000-afec-4136b96b82b8","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"/api/order/update","comments":"","instanceIdentifier":"df1c4b14-f67d-39b8-9e1e-de1cd2fa72c4"},"labelIndex":0,"zIndex":0,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"},{"identifier":"70b103ec-0199-1000-6bd1-39871555d77b","instanceIdentifier":"bb56e31b-ade2-3436-e53f-64e5ce184e42","name":"","source":{"id":"70b103e5-0199-1000-afec-4136b96b82b8","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"/api/order/update","comments":"","instanceIdentifier":"df1c4b14-f67d-39b8-9e1e-de1cd2fa72c4"},"destination":{"id":"70b103e2-0199-1000-aa85-f6803d9a0879","type":"PROCESSOR","groupId":"70b103d8-0199-1000-d27f-65ca06ccf5bf","name":"ReplaceText","comments":"","instanceIdentifier":"3a3ee76b-ccf3-3835-64c0-6994682d850b"},"labelIndex":0,"zIndex":0,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"70b103d8-0199-1000-d27f-65ca06ccf5bf"}],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b103c2-0199-1000-7e92-ff2f63c1ce28"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[],"labels":[],"funnels":[],"controllerServices":[],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"70b1033c-0199-1000-cfe8-f4a9294041cc"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[],"labels":[],"funnels":[],"controllerServices":[{"identifier":"3bb413ad-0741-318b-811c-2c3ff50e9b97","instanceIdentifier":"7d0db83b-6282-3dc8-9066-e16723983eec","name":"StandardHttpContextMap","type":"org.apache.nifi.http.StandardHttpContextMap","bundle":{"group":"org.apache.nifi","artifact":"nifi-http-context-map-nar","version":"2.3.0"},"properties":{"Request Expiration":"1 min","Maximum Outstanding Requests":"5000"},"propertyDescriptors":{"Request Expiration":{"name":"Request Expiration","displayName":"Request Expiration","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Outstanding Requests":{"name":"Maximum Outstanding Requests","displayName":"Maximum Outstanding Requests","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.http.HttpContextMap","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.3.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"9efd701c-0c25-3b1e-edc8-c82b75cced35"}],"defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{},"parameterContexts":{},"flowEncodingVersion":"1.0","parameterProviders":{},"latest":false}